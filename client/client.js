"use strict";var __create=Object.create;var __defProp=Object.defineProperty;var __getOwnPropDesc=Object.getOwnPropertyDescriptor;var __getOwnPropNames=Object.getOwnPropertyNames;var __getProtoOf=Object.getPrototypeOf;var __hasOwnProp=Object.prototype.hasOwnProperty;var __defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:true,configurable:true,writable:true,value}):obj[key]=value;var __commonJS=(cb,mod)=>function __require(){return mod||(0,cb[__getOwnPropNames(cb)[0]])((mod={exports:{}}).exports,mod),mod.exports};var __copyProps=(to,from,except,desc)=>{if(from&&typeof from==="object"||typeof from==="function"){for(let key of __getOwnPropNames(from))if(!__hasOwnProp.call(to,key)&&key!==except)__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable})}return to};var __toESM=(mod,isNodeMode,target)=>(target=mod!=null?__create(__getProtoOf(mod)):{},__copyProps(isNodeMode||!mod||!mod.__esModule?__defProp(target,"default",{value:mod,enumerable:true}):target,mod));var __publicField=(obj,key,value)=>__defNormalProp(obj,typeof key!=="symbol"?key+"":key,value);var require_core=__commonJS({"node_modules/crypto-js/core.js"(exports2,module2){(function(root,factory){if(typeof exports2==="object"){module2.exports=exports2=factory()}else if(typeof define==="function"&&define.amd){define([],factory)}else{root.CryptoJS=factory()}})(exports2,function(){var CryptoJS2=CryptoJS2||function(Math2,undefined2){var crypto;if(typeof window!=="undefined"&&window.crypto){crypto=window.crypto}if(typeof self!=="undefined"&&self.crypto){crypto=self.crypto}if(typeof globalThis!=="undefined"&&globalThis.crypto){crypto=globalThis.crypto}if(!crypto&&typeof window!=="undefined"&&window.msCrypto){crypto=window.msCrypto}if(!crypto&&typeof global!=="undefined"&&global.crypto){crypto=global.crypto}if(!crypto&&typeof require==="function"){try{crypto=require("crypto")}catch(err){}}var cryptoSecureRandomInt=function(){if(crypto){if(typeof crypto.getRandomValues==="function"){try{return crypto.getRandomValues(new Uint32Array(1))[0]}catch(err){}}if(typeof crypto.randomBytes==="function"){try{return crypto.randomBytes(4).readInt32LE()}catch(err){}}}throw new Error("Native crypto module could not be used to get secure random number.")};var create=Object.create||function(){function F(){}return function(obj){var subtype;F.prototype=obj;subtype=new F;F.prototype=null;return subtype}}();var C={};var C_lib=C.lib={};var Base=C_lib.Base=function(){return{extend:function(overrides){var subtype=create(this);if(overrides){subtype.mixIn(overrides)}if(!subtype.hasOwnProperty("init")||this.init===subtype.init){subtype.init=function(){subtype.$super.init.apply(this,arguments)}}subtype.init.prototype=subtype;subtype.$super=this;return subtype},create:function(){var instance=this.extend();instance.init.apply(instance,arguments);return instance},init:function(){},mixIn:function(properties){for(var propertyName in properties){if(properties.hasOwnProperty(propertyName)){this[propertyName]=properties[propertyName]}}if(properties.hasOwnProperty("toString")){this.toString=properties.toString}},clone:function(){return this.init.prototype.extend(this)}}}();var WordArray2=C_lib.WordArray=Base.extend({init:function(words,sigBytes){words=this.words=words||[];if(sigBytes!=undefined2){this.sigBytes=sigBytes}else{this.sigBytes=words.length*4}},toString:function(encoder){return(encoder||Hex).stringify(this)},concat:function(wordArray){var thisWords=this.words;var thatWords=wordArray.words;var thisSigBytes=this.sigBytes;var thatSigBytes=wordArray.sigBytes;this.clamp();if(thisSigBytes%4){for(var i=0;i<thatSigBytes;i++){var thatByte=thatWords[i>>>2]>>>24-i%4*8&255;thisWords[thisSigBytes+i>>>2]|=thatByte<<24-(thisSigBytes+i)%4*8}}else{for(var j=0;j<thatSigBytes;j+=4){thisWords[thisSigBytes+j>>>2]=thatWords[j>>>2]}}this.sigBytes+=thatSigBytes;return this},clamp:function(){var words=this.words;var sigBytes=this.sigBytes;words[sigBytes>>>2]&=4294967295<<32-sigBytes%4*8;words.length=Math2.ceil(sigBytes/4)},clone:function(){var clone=Base.clone.call(this);clone.words=this.words.slice(0);return clone},random:function(nBytes){var words=[];for(var i=0;i<nBytes;i+=4){words.push(cryptoSecureRandomInt())}return new WordArray2.init(words,nBytes)}});var C_enc=C.enc={};var Hex=C_enc.Hex={stringify:function(wordArray){var words=wordArray.words;var sigBytes=wordArray.sigBytes;var hexChars=[];for(var i=0;i<sigBytes;i++){var bite=words[i>>>2]>>>24-i%4*8&255;hexChars.push((bite>>>4).toString(16));hexChars.push((bite&15).toString(16))}return hexChars.join("")},parse:function(hexStr){var hexStrLength=hexStr.length;var words=[];for(var i=0;i<hexStrLength;i+=2){words[i>>>3]|=parseInt(hexStr.substr(i,2),16)<<24-i%8*4}return new WordArray2.init(words,hexStrLength/2)}};var Latin1=C_enc.Latin1={stringify:function(wordArray){var words=wordArray.words;var sigBytes=wordArray.sigBytes;var latin1Chars=[];for(var i=0;i<sigBytes;i++){var bite=words[i>>>2]>>>24-i%4*8&255;latin1Chars.push(String.fromCharCode(bite))}return latin1Chars.join("")},parse:function(latin1Str){var latin1StrLength=latin1Str.length;var words=[];for(var i=0;i<latin1StrLength;i++){words[i>>>2]|=(latin1Str.charCodeAt(i)&255)<<24-i%4*8}return new WordArray2.init(words,latin1StrLength)}};var Utf8=C_enc.Utf8={stringify:function(wordArray){try{return decodeURIComponent(escape(Latin1.stringify(wordArray)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(utf8Str){return Latin1.parse(unescape(encodeURIComponent(utf8Str)))}};var BufferedBlockAlgorithm=C_lib.BufferedBlockAlgorithm=Base.extend({reset:function(){this._data=new WordArray2.init;this._nDataBytes=0},_append:function(data){if(typeof data=="string"){data=Utf8.parse(data)}this._data.concat(data);this._nDataBytes+=data.sigBytes},_process:function(doFlush){var processedWords;var data=this._data;var dataWords=data.words;var dataSigBytes=data.sigBytes;var blockSize=this.blockSize;var blockSizeBytes=blockSize*4;var nBlocksReady=dataSigBytes/blockSizeBytes;if(doFlush){nBlocksReady=Math2.ceil(nBlocksReady)}else{nBlocksReady=Math2.max((nBlocksReady|0)-this._minBufferSize,0)}var nWordsReady=nBlocksReady*blockSize;var nBytesReady=Math2.min(nWordsReady*4,dataSigBytes);if(nWordsReady){for(var offset=0;offset<nWordsReady;offset+=blockSize){this._doProcessBlock(dataWords,offset)}processedWords=dataWords.splice(0,nWordsReady);data.sigBytes-=nBytesReady}return new WordArray2.init(processedWords,nBytesReady)},clone:function(){var clone=Base.clone.call(this);clone._data=this._data.clone();return clone},_minBufferSize:0});var Hasher=C_lib.Hasher=BufferedBlockAlgorithm.extend({cfg:Base.extend(),init:function(cfg){this.cfg=this.cfg.extend(cfg);this.reset()},reset:function(){BufferedBlockAlgorithm.reset.call(this);this._doReset()},update:function(messageUpdate){this._append(messageUpdate);this._process();return this},finalize:function(messageUpdate){if(messageUpdate){this._append(messageUpdate)}var hash=this._doFinalize();return hash},blockSize:512/32,_createHelper:function(hasher){return function(message,cfg){return new hasher.init(cfg).finalize(message)}},_createHmacHelper:function(hasher){return function(message,key){return new C_algo.HMAC.init(hasher,key).finalize(message)}}});var C_algo=C.algo={};return C}(Math);return CryptoJS2})}});var require_x64_core=__commonJS({"node_modules/crypto-js/x64-core.js"(exports2,module2){(function(root,factory){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core())}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){(function(undefined2){var C=CryptoJS2;var C_lib=C.lib;var Base=C_lib.Base;var X32WordArray=C_lib.WordArray;var C_x64=C.x64={};var X64Word=C_x64.Word=Base.extend({init:function(high,low){this.high=high;this.low=low}});var X64WordArray=C_x64.WordArray=Base.extend({init:function(words,sigBytes){words=this.words=words||[];if(sigBytes!=undefined2){this.sigBytes=sigBytes}else{this.sigBytes=words.length*8}},toX32:function(){var x64Words=this.words;var x64WordsLength=x64Words.length;var x32Words=[];for(var i=0;i<x64WordsLength;i++){var x64Word=x64Words[i];x32Words.push(x64Word.high);x32Words.push(x64Word.low)}return X32WordArray.create(x32Words,this.sigBytes)},clone:function(){var clone=Base.clone.call(this);var words=clone.words=this.words.slice(0);var wordsLength=words.length;for(var i=0;i<wordsLength;i++){words[i]=words[i].clone()}return clone}})})();return CryptoJS2})}});var require_lib_typedarrays=__commonJS({"node_modules/crypto-js/lib-typedarrays.js"(exports2,module2){(function(root,factory){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core())}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){(function(){if(typeof ArrayBuffer!="function"){return}var C=CryptoJS2;var C_lib=C.lib;var WordArray2=C_lib.WordArray;var superInit=WordArray2.init;var subInit=WordArray2.init=function(typedArray){if(typedArray instanceof ArrayBuffer){typedArray=new Uint8Array(typedArray)}if(typedArray instanceof Int8Array||typeof Uint8ClampedArray!=="undefined"&&typedArray instanceof Uint8ClampedArray||typedArray instanceof Int16Array||typedArray instanceof Uint16Array||typedArray instanceof Int32Array||typedArray instanceof Uint32Array||typedArray instanceof Float32Array||typedArray instanceof Float64Array){typedArray=new Uint8Array(typedArray.buffer,typedArray.byteOffset,typedArray.byteLength)}if(typedArray instanceof Uint8Array){var typedArrayByteLength=typedArray.byteLength;var words=[];for(var i=0;i<typedArrayByteLength;i++){words[i>>>2]|=typedArray[i]<<24-i%4*8}superInit.call(this,words,typedArrayByteLength)}else{superInit.apply(this,arguments)}};subInit.prototype=WordArray2})();return CryptoJS2.lib.WordArray})}});var require_enc_utf16=__commonJS({"node_modules/crypto-js/enc-utf16.js"(exports2,module2){(function(root,factory){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core())}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){(function(){var C=CryptoJS2;var C_lib=C.lib;var WordArray2=C_lib.WordArray;var C_enc=C.enc;var Utf16BE=C_enc.Utf16=C_enc.Utf16BE={stringify:function(wordArray){var words=wordArray.words;var sigBytes=wordArray.sigBytes;var utf16Chars=[];for(var i=0;i<sigBytes;i+=2){var codePoint=words[i>>>2]>>>16-i%4*8&65535;utf16Chars.push(String.fromCharCode(codePoint))}return utf16Chars.join("")},parse:function(utf16Str){var utf16StrLength=utf16Str.length;var words=[];for(var i=0;i<utf16StrLength;i++){words[i>>>1]|=utf16Str.charCodeAt(i)<<16-i%2*16}return WordArray2.create(words,utf16StrLength*2)}};C_enc.Utf16LE={stringify:function(wordArray){var words=wordArray.words;var sigBytes=wordArray.sigBytes;var utf16Chars=[];for(var i=0;i<sigBytes;i+=2){var codePoint=swapEndian(words[i>>>2]>>>16-i%4*8&65535);utf16Chars.push(String.fromCharCode(codePoint))}return utf16Chars.join("")},parse:function(utf16Str){var utf16StrLength=utf16Str.length;var words=[];for(var i=0;i<utf16StrLength;i++){words[i>>>1]|=swapEndian(utf16Str.charCodeAt(i)<<16-i%2*16)}return WordArray2.create(words,utf16StrLength*2)}};function swapEndian(word){return word<<8&4278255360|word>>>8&16711935}})();return CryptoJS2.enc.Utf16})}});var require_enc_base64=__commonJS({"node_modules/crypto-js/enc-base64.js"(exports2,module2){(function(root,factory){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core())}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){(function(){var C=CryptoJS2;var C_lib=C.lib;var WordArray2=C_lib.WordArray;var C_enc=C.enc;var Base64=C_enc.Base64={stringify:function(wordArray){var words=wordArray.words;var sigBytes=wordArray.sigBytes;var map=this._map;wordArray.clamp();var base64Chars=[];for(var i=0;i<sigBytes;i+=3){var byte1=words[i>>>2]>>>24-i%4*8&255;var byte2=words[i+1>>>2]>>>24-(i+1)%4*8&255;var byte3=words[i+2>>>2]>>>24-(i+2)%4*8&255;var triplet=byte1<<16|byte2<<8|byte3;for(var j=0;j<4&&i+j*.75<sigBytes;j++){base64Chars.push(map.charAt(triplet>>>6*(3-j)&63))}}var paddingChar=map.charAt(64);if(paddingChar){while(base64Chars.length%4){base64Chars.push(paddingChar)}}return base64Chars.join("")},parse:function(base64Str){var base64StrLength=base64Str.length;var map=this._map;var reverseMap=this._reverseMap;if(!reverseMap){reverseMap=this._reverseMap=[];for(var j=0;j<map.length;j++){reverseMap[map.charCodeAt(j)]=j}}var paddingChar=map.charAt(64);if(paddingChar){var paddingIndex=base64Str.indexOf(paddingChar);if(paddingIndex!==-1){base64StrLength=paddingIndex}}return parseLoop(base64Str,base64StrLength,reverseMap)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function parseLoop(base64Str,base64StrLength,reverseMap){var words=[];var nBytes=0;for(var i=0;i<base64StrLength;i++){if(i%4){var bits1=reverseMap[base64Str.charCodeAt(i-1)]<<i%4*2;var bits2=reverseMap[base64Str.charCodeAt(i)]>>>6-i%4*2;var bitsCombined=bits1|bits2;words[nBytes>>>2]|=bitsCombined<<24-nBytes%4*8;nBytes++}}return WordArray2.create(words,nBytes)}})();return CryptoJS2.enc.Base64})}});var require_enc_base64url=__commonJS({"node_modules/crypto-js/enc-base64url.js"(exports2,module2){(function(root,factory){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core())}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){(function(){var C=CryptoJS2;var C_lib=C.lib;var WordArray2=C_lib.WordArray;var C_enc=C.enc;var Base64url=C_enc.Base64url={stringify:function(wordArray,urlSafe){if(urlSafe===void 0){urlSafe=true}var words=wordArray.words;var sigBytes=wordArray.sigBytes;var map=urlSafe?this._safe_map:this._map;wordArray.clamp();var base64Chars=[];for(var i=0;i<sigBytes;i+=3){var byte1=words[i>>>2]>>>24-i%4*8&255;var byte2=words[i+1>>>2]>>>24-(i+1)%4*8&255;var byte3=words[i+2>>>2]>>>24-(i+2)%4*8&255;var triplet=byte1<<16|byte2<<8|byte3;for(var j=0;j<4&&i+j*.75<sigBytes;j++){base64Chars.push(map.charAt(triplet>>>6*(3-j)&63))}}var paddingChar=map.charAt(64);if(paddingChar){while(base64Chars.length%4){base64Chars.push(paddingChar)}}return base64Chars.join("")},parse:function(base64Str,urlSafe){if(urlSafe===void 0){urlSafe=true}var base64StrLength=base64Str.length;var map=urlSafe?this._safe_map:this._map;var reverseMap=this._reverseMap;if(!reverseMap){reverseMap=this._reverseMap=[];for(var j=0;j<map.length;j++){reverseMap[map.charCodeAt(j)]=j}}var paddingChar=map.charAt(64);if(paddingChar){var paddingIndex=base64Str.indexOf(paddingChar);if(paddingIndex!==-1){base64StrLength=paddingIndex}}return parseLoop(base64Str,base64StrLength,reverseMap)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function parseLoop(base64Str,base64StrLength,reverseMap){var words=[];var nBytes=0;for(var i=0;i<base64StrLength;i++){if(i%4){var bits1=reverseMap[base64Str.charCodeAt(i-1)]<<i%4*2;var bits2=reverseMap[base64Str.charCodeAt(i)]>>>6-i%4*2;var bitsCombined=bits1|bits2;words[nBytes>>>2]|=bitsCombined<<24-nBytes%4*8;nBytes++}}return WordArray2.create(words,nBytes)}})();return CryptoJS2.enc.Base64url})}});var require_md5=__commonJS({"node_modules/crypto-js/md5.js"(exports2,module2){(function(root,factory){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core())}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){(function(Math2){var C=CryptoJS2;var C_lib=C.lib;var WordArray2=C_lib.WordArray;var Hasher=C_lib.Hasher;var C_algo=C.algo;var T=[];(function(){for(var i=0;i<64;i++){T[i]=Math2.abs(Math2.sin(i+1))*4294967296|0}})();var MD5=C_algo.MD5=Hasher.extend({_doReset:function(){this._hash=new WordArray2.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(M,offset){for(var i=0;i<16;i++){var offset_i=offset+i;var M_offset_i=M[offset_i];M[offset_i]=(M_offset_i<<8|M_offset_i>>>24)&16711935|(M_offset_i<<24|M_offset_i>>>8)&4278255360}var H=this._hash.words;var M_offset_0=M[offset+0];var M_offset_1=M[offset+1];var M_offset_2=M[offset+2];var M_offset_3=M[offset+3];var M_offset_4=M[offset+4];var M_offset_5=M[offset+5];var M_offset_6=M[offset+6];var M_offset_7=M[offset+7];var M_offset_8=M[offset+8];var M_offset_9=M[offset+9];var M_offset_10=M[offset+10];var M_offset_11=M[offset+11];var M_offset_12=M[offset+12];var M_offset_13=M[offset+13];var M_offset_14=M[offset+14];var M_offset_15=M[offset+15];var a=H[0];var b=H[1];var c=H[2];var d=H[3];a=FF(a,b,c,d,M_offset_0,7,T[0]);d=FF(d,a,b,c,M_offset_1,12,T[1]);c=FF(c,d,a,b,M_offset_2,17,T[2]);b=FF(b,c,d,a,M_offset_3,22,T[3]);a=FF(a,b,c,d,M_offset_4,7,T[4]);d=FF(d,a,b,c,M_offset_5,12,T[5]);c=FF(c,d,a,b,M_offset_6,17,T[6]);b=FF(b,c,d,a,M_offset_7,22,T[7]);a=FF(a,b,c,d,M_offset_8,7,T[8]);d=FF(d,a,b,c,M_offset_9,12,T[9]);c=FF(c,d,a,b,M_offset_10,17,T[10]);b=FF(b,c,d,a,M_offset_11,22,T[11]);a=FF(a,b,c,d,M_offset_12,7,T[12]);d=FF(d,a,b,c,M_offset_13,12,T[13]);c=FF(c,d,a,b,M_offset_14,17,T[14]);b=FF(b,c,d,a,M_offset_15,22,T[15]);a=GG(a,b,c,d,M_offset_1,5,T[16]);d=GG(d,a,b,c,M_offset_6,9,T[17]);c=GG(c,d,a,b,M_offset_11,14,T[18]);b=GG(b,c,d,a,M_offset_0,20,T[19]);a=GG(a,b,c,d,M_offset_5,5,T[20]);d=GG(d,a,b,c,M_offset_10,9,T[21]);c=GG(c,d,a,b,M_offset_15,14,T[22]);b=GG(b,c,d,a,M_offset_4,20,T[23]);a=GG(a,b,c,d,M_offset_9,5,T[24]);d=GG(d,a,b,c,M_offset_14,9,T[25]);c=GG(c,d,a,b,M_offset_3,14,T[26]);b=GG(b,c,d,a,M_offset_8,20,T[27]);a=GG(a,b,c,d,M_offset_13,5,T[28]);d=GG(d,a,b,c,M_offset_2,9,T[29]);c=GG(c,d,a,b,M_offset_7,14,T[30]);b=GG(b,c,d,a,M_offset_12,20,T[31]);a=HH(a,b,c,d,M_offset_5,4,T[32]);d=HH(d,a,b,c,M_offset_8,11,T[33]);c=HH(c,d,a,b,M_offset_11,16,T[34]);b=HH(b,c,d,a,M_offset_14,23,T[35]);a=HH(a,b,c,d,M_offset_1,4,T[36]);d=HH(d,a,b,c,M_offset_4,11,T[37]);c=HH(c,d,a,b,M_offset_7,16,T[38]);b=HH(b,c,d,a,M_offset_10,23,T[39]);a=HH(a,b,c,d,M_offset_13,4,T[40]);d=HH(d,a,b,c,M_offset_0,11,T[41]);c=HH(c,d,a,b,M_offset_3,16,T[42]);b=HH(b,c,d,a,M_offset_6,23,T[43]);a=HH(a,b,c,d,M_offset_9,4,T[44]);d=HH(d,a,b,c,M_offset_12,11,T[45]);c=HH(c,d,a,b,M_offset_15,16,T[46]);b=HH(b,c,d,a,M_offset_2,23,T[47]);a=II(a,b,c,d,M_offset_0,6,T[48]);d=II(d,a,b,c,M_offset_7,10,T[49]);c=II(c,d,a,b,M_offset_14,15,T[50]);b=II(b,c,d,a,M_offset_5,21,T[51]);a=II(a,b,c,d,M_offset_12,6,T[52]);d=II(d,a,b,c,M_offset_3,10,T[53]);c=II(c,d,a,b,M_offset_10,15,T[54]);b=II(b,c,d,a,M_offset_1,21,T[55]);a=II(a,b,c,d,M_offset_8,6,T[56]);d=II(d,a,b,c,M_offset_15,10,T[57]);c=II(c,d,a,b,M_offset_6,15,T[58]);b=II(b,c,d,a,M_offset_13,21,T[59]);a=II(a,b,c,d,M_offset_4,6,T[60]);d=II(d,a,b,c,M_offset_11,10,T[61]);c=II(c,d,a,b,M_offset_2,15,T[62]);b=II(b,c,d,a,M_offset_9,21,T[63]);H[0]=H[0]+a|0;H[1]=H[1]+b|0;H[2]=H[2]+c|0;H[3]=H[3]+d|0},_doFinalize:function(){var data=this._data;var dataWords=data.words;var nBitsTotal=this._nDataBytes*8;var nBitsLeft=data.sigBytes*8;dataWords[nBitsLeft>>>5]|=128<<24-nBitsLeft%32;var nBitsTotalH=Math2.floor(nBitsTotal/4294967296);var nBitsTotalL=nBitsTotal;dataWords[(nBitsLeft+64>>>9<<4)+15]=(nBitsTotalH<<8|nBitsTotalH>>>24)&16711935|(nBitsTotalH<<24|nBitsTotalH>>>8)&4278255360;dataWords[(nBitsLeft+64>>>9<<4)+14]=(nBitsTotalL<<8|nBitsTotalL>>>24)&16711935|(nBitsTotalL<<24|nBitsTotalL>>>8)&4278255360;data.sigBytes=(dataWords.length+1)*4;this._process();var hash=this._hash;var H=hash.words;for(var i=0;i<4;i++){var H_i=H[i];H[i]=(H_i<<8|H_i>>>24)&16711935|(H_i<<24|H_i>>>8)&4278255360}return hash},clone:function(){var clone=Hasher.clone.call(this);clone._hash=this._hash.clone();return clone}});function FF(a,b,c,d,x,s,t){var n=a+(b&c|~b&d)+x+t;return(n<<s|n>>>32-s)+b}function GG(a,b,c,d,x,s,t){var n=a+(b&d|c&~d)+x+t;return(n<<s|n>>>32-s)+b}function HH(a,b,c,d,x,s,t){var n=a+(b^c^d)+x+t;return(n<<s|n>>>32-s)+b}function II(a,b,c,d,x,s,t){var n=a+(c^(b|~d))+x+t;return(n<<s|n>>>32-s)+b}C.MD5=Hasher._createHelper(MD5);C.HmacMD5=Hasher._createHmacHelper(MD5)})(Math);return CryptoJS2.MD5})}});var require_sha1=__commonJS({"node_modules/crypto-js/sha1.js"(exports2,module2){(function(root,factory){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core())}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){(function(){var C=CryptoJS2;var C_lib=C.lib;var WordArray2=C_lib.WordArray;var Hasher=C_lib.Hasher;var C_algo=C.algo;var W=[];var SHA1=C_algo.SHA1=Hasher.extend({_doReset:function(){this._hash=new WordArray2.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(M,offset){var H=this._hash.words;var a=H[0];var b=H[1];var c=H[2];var d=H[3];var e=H[4];for(var i=0;i<80;i++){if(i<16){W[i]=M[offset+i]|0}else{var n=W[i-3]^W[i-8]^W[i-14]^W[i-16];W[i]=n<<1|n>>>31}var t=(a<<5|a>>>27)+e+W[i];if(i<20){t+=(b&c|~b&d)+1518500249}else if(i<40){t+=(b^c^d)+1859775393}else if(i<60){t+=(b&c|b&d|c&d)-1894007588}else{t+=(b^c^d)-899497514}e=d;d=c;c=b<<30|b>>>2;b=a;a=t}H[0]=H[0]+a|0;H[1]=H[1]+b|0;H[2]=H[2]+c|0;H[3]=H[3]+d|0;H[4]=H[4]+e|0},_doFinalize:function(){var data=this._data;var dataWords=data.words;var nBitsTotal=this._nDataBytes*8;var nBitsLeft=data.sigBytes*8;dataWords[nBitsLeft>>>5]|=128<<24-nBitsLeft%32;dataWords[(nBitsLeft+64>>>9<<4)+14]=Math.floor(nBitsTotal/4294967296);dataWords[(nBitsLeft+64>>>9<<4)+15]=nBitsTotal;data.sigBytes=dataWords.length*4;this._process();return this._hash},clone:function(){var clone=Hasher.clone.call(this);clone._hash=this._hash.clone();return clone}});C.SHA1=Hasher._createHelper(SHA1);C.HmacSHA1=Hasher._createHmacHelper(SHA1)})();return CryptoJS2.SHA1})}});var require_sha256=__commonJS({"node_modules/crypto-js/sha256.js"(exports2,module2){(function(root,factory){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core())}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){(function(Math2){var C=CryptoJS2;var C_lib=C.lib;var WordArray2=C_lib.WordArray;var Hasher=C_lib.Hasher;var C_algo=C.algo;var H=[];var K=[];(function(){function isPrime(n2){var sqrtN=Math2.sqrt(n2);for(var factor=2;factor<=sqrtN;factor++){if(!(n2%factor)){return false}}return true}function getFractionalBits(n2){return(n2-(n2|0))*4294967296|0}var n=2;var nPrime=0;while(nPrime<64){if(isPrime(n)){if(nPrime<8){H[nPrime]=getFractionalBits(Math2.pow(n,1/2))}K[nPrime]=getFractionalBits(Math2.pow(n,1/3));nPrime++}n++}})();var W=[];var SHA2562=C_algo.SHA256=Hasher.extend({_doReset:function(){this._hash=new WordArray2.init(H.slice(0))},_doProcessBlock:function(M,offset){var H2=this._hash.words;var a=H2[0];var b=H2[1];var c=H2[2];var d=H2[3];var e=H2[4];var f=H2[5];var g=H2[6];var h=H2[7];for(var i=0;i<64;i++){if(i<16){W[i]=M[offset+i]|0}else{var gamma0x=W[i-15];var gamma0=(gamma0x<<25|gamma0x>>>7)^(gamma0x<<14|gamma0x>>>18)^gamma0x>>>3;var gamma1x=W[i-2];var gamma1=(gamma1x<<15|gamma1x>>>17)^(gamma1x<<13|gamma1x>>>19)^gamma1x>>>10;W[i]=gamma0+W[i-7]+gamma1+W[i-16]}var ch=e&f^~e&g;var maj=a&b^a&c^b&c;var sigma0=(a<<30|a>>>2)^(a<<19|a>>>13)^(a<<10|a>>>22);var sigma1=(e<<26|e>>>6)^(e<<21|e>>>11)^(e<<7|e>>>25);var t1=h+sigma1+ch+K[i]+W[i];var t2=sigma0+maj;h=g;g=f;f=e;e=d+t1|0;d=c;c=b;b=a;a=t1+t2|0}H2[0]=H2[0]+a|0;H2[1]=H2[1]+b|0;H2[2]=H2[2]+c|0;H2[3]=H2[3]+d|0;H2[4]=H2[4]+e|0;H2[5]=H2[5]+f|0;H2[6]=H2[6]+g|0;H2[7]=H2[7]+h|0},_doFinalize:function(){var data=this._data;var dataWords=data.words;var nBitsTotal=this._nDataBytes*8;var nBitsLeft=data.sigBytes*8;dataWords[nBitsLeft>>>5]|=128<<24-nBitsLeft%32;dataWords[(nBitsLeft+64>>>9<<4)+14]=Math2.floor(nBitsTotal/4294967296);dataWords[(nBitsLeft+64>>>9<<4)+15]=nBitsTotal;data.sigBytes=dataWords.length*4;this._process();return this._hash},clone:function(){var clone=Hasher.clone.call(this);clone._hash=this._hash.clone();return clone}});C.SHA256=Hasher._createHelper(SHA2562);C.HmacSHA256=Hasher._createHmacHelper(SHA2562)})(Math);return CryptoJS2.SHA256})}});var require_sha224=__commonJS({"node_modules/crypto-js/sha224.js"(exports2,module2){(function(root,factory,undef){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core(),require_sha256())}else if(typeof define==="function"&&define.amd){define(["./core","./sha256"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){(function(){var C=CryptoJS2;var C_lib=C.lib;var WordArray2=C_lib.WordArray;var C_algo=C.algo;var SHA2562=C_algo.SHA256;var SHA224=C_algo.SHA224=SHA2562.extend({_doReset:function(){this._hash=new WordArray2.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var hash=SHA2562._doFinalize.call(this);hash.sigBytes-=4;return hash}});C.SHA224=SHA2562._createHelper(SHA224);C.HmacSHA224=SHA2562._createHmacHelper(SHA224)})();return CryptoJS2.SHA224})}});var require_sha512=__commonJS({"node_modules/crypto-js/sha512.js"(exports2,module2){(function(root,factory,undef){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core(),require_x64_core())}else if(typeof define==="function"&&define.amd){define(["./core","./x64-core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){(function(){var C=CryptoJS2;var C_lib=C.lib;var Hasher=C_lib.Hasher;var C_x64=C.x64;var X64Word=C_x64.Word;var X64WordArray=C_x64.WordArray;var C_algo=C.algo;function X64Word_create(){return X64Word.create.apply(X64Word,arguments)}var K=[X64Word_create(1116352408,3609767458),X64Word_create(1899447441,602891725),X64Word_create(3049323471,3964484399),X64Word_create(3921009573,2173295548),X64Word_create(961987163,4081628472),X64Word_create(1508970993,3053834265),X64Word_create(2453635748,2937671579),X64Word_create(2870763221,3664609560),X64Word_create(3624381080,2734883394),X64Word_create(310598401,1164996542),X64Word_create(607225278,1323610764),X64Word_create(1426881987,3590304994),X64Word_create(1925078388,4068182383),X64Word_create(2162078206,991336113),X64Word_create(2614888103,633803317),X64Word_create(3248222580,3479774868),X64Word_create(3835390401,2666613458),X64Word_create(4022224774,944711139),X64Word_create(264347078,2341262773),X64Word_create(604807628,2007800933),X64Word_create(770255983,1495990901),X64Word_create(1249150122,1856431235),X64Word_create(1555081692,3175218132),X64Word_create(1996064986,2198950837),X64Word_create(2554220882,3999719339),X64Word_create(2821834349,766784016),X64Word_create(2952996808,2566594879),X64Word_create(3210313671,3203337956),X64Word_create(3336571891,1034457026),X64Word_create(3584528711,2466948901),X64Word_create(113926993,3758326383),X64Word_create(338241895,168717936),X64Word_create(666307205,1188179964),X64Word_create(773529912,1546045734),X64Word_create(1294757372,1522805485),X64Word_create(1396182291,2643833823),X64Word_create(1695183700,2343527390),X64Word_create(1986661051,1014477480),X64Word_create(2177026350,1206759142),X64Word_create(2456956037,344077627),X64Word_create(2730485921,1290863460),X64Word_create(2820302411,3158454273),X64Word_create(3259730800,3505952657),X64Word_create(3345764771,106217008),X64Word_create(3516065817,3606008344),X64Word_create(3600352804,1432725776),X64Word_create(4094571909,1467031594),X64Word_create(275423344,851169720),X64Word_create(430227734,3100823752),X64Word_create(506948616,1363258195),X64Word_create(659060556,3750685593),X64Word_create(883997877,3785050280),X64Word_create(958139571,3318307427),X64Word_create(1322822218,3812723403),X64Word_create(1537002063,2003034995),X64Word_create(1747873779,3602036899),X64Word_create(1955562222,1575990012),X64Word_create(2024104815,1125592928),X64Word_create(2227730452,2716904306),X64Word_create(2361852424,442776044),X64Word_create(2428436474,593698344),X64Word_create(2756734187,3733110249),X64Word_create(3204031479,2999351573),X64Word_create(3329325298,3815920427),X64Word_create(3391569614,3928383900),X64Word_create(3515267271,566280711),X64Word_create(3940187606,3454069534),X64Word_create(4118630271,4000239992),X64Word_create(116418474,1914138554),X64Word_create(174292421,2731055270),X64Word_create(289380356,3203993006),X64Word_create(460393269,320620315),X64Word_create(685471733,587496836),X64Word_create(852142971,1086792851),X64Word_create(1017036298,365543100),X64Word_create(1126000580,2618297676),X64Word_create(1288033470,3409855158),X64Word_create(1501505948,4234509866),X64Word_create(1607167915,987167468),X64Word_create(1816402316,1246189591)];var W=[];(function(){for(var i=0;i<80;i++){W[i]=X64Word_create()}})();var SHA512=C_algo.SHA512=Hasher.extend({_doReset:function(){this._hash=new X64WordArray.init([new X64Word.init(1779033703,4089235720),new X64Word.init(3144134277,2227873595),new X64Word.init(1013904242,4271175723),new X64Word.init(2773480762,1595750129),new X64Word.init(1359893119,2917565137),new X64Word.init(2600822924,725511199),new X64Word.init(528734635,4215389547),new X64Word.init(1541459225,327033209)])},_doProcessBlock:function(M,offset){var H=this._hash.words;var H0=H[0];var H1=H[1];var H2=H[2];var H3=H[3];var H4=H[4];var H5=H[5];var H6=H[6];var H7=H[7];var H0h=H0.high;var H0l=H0.low;var H1h=H1.high;var H1l=H1.low;var H2h=H2.high;var H2l=H2.low;var H3h=H3.high;var H3l=H3.low;var H4h=H4.high;var H4l=H4.low;var H5h=H5.high;var H5l=H5.low;var H6h=H6.high;var H6l=H6.low;var H7h=H7.high;var H7l=H7.low;var ah=H0h;var al=H0l;var bh=H1h;var bl=H1l;var ch=H2h;var cl=H2l;var dh=H3h;var dl=H3l;var eh=H4h;var el=H4l;var fh=H5h;var fl=H5l;var gh=H6h;var gl=H6l;var hh=H7h;var hl=H7l;for(var i=0;i<80;i++){var Wil;var Wih;var Wi=W[i];if(i<16){Wih=Wi.high=M[offset+i*2]|0;Wil=Wi.low=M[offset+i*2+1]|0}else{var gamma0x=W[i-15];var gamma0xh=gamma0x.high;var gamma0xl=gamma0x.low;var gamma0h=(gamma0xh>>>1|gamma0xl<<31)^(gamma0xh>>>8|gamma0xl<<24)^gamma0xh>>>7;var gamma0l=(gamma0xl>>>1|gamma0xh<<31)^(gamma0xl>>>8|gamma0xh<<24)^(gamma0xl>>>7|gamma0xh<<25);var gamma1x=W[i-2];var gamma1xh=gamma1x.high;var gamma1xl=gamma1x.low;var gamma1h=(gamma1xh>>>19|gamma1xl<<13)^(gamma1xh<<3|gamma1xl>>>29)^gamma1xh>>>6;var gamma1l=(gamma1xl>>>19|gamma1xh<<13)^(gamma1xl<<3|gamma1xh>>>29)^(gamma1xl>>>6|gamma1xh<<26);var Wi7=W[i-7];var Wi7h=Wi7.high;var Wi7l=Wi7.low;var Wi16=W[i-16];var Wi16h=Wi16.high;var Wi16l=Wi16.low;Wil=gamma0l+Wi7l;Wih=gamma0h+Wi7h+(Wil>>>0<gamma0l>>>0?1:0);Wil=Wil+gamma1l;Wih=Wih+gamma1h+(Wil>>>0<gamma1l>>>0?1:0);Wil=Wil+Wi16l;Wih=Wih+Wi16h+(Wil>>>0<Wi16l>>>0?1:0);Wi.high=Wih;Wi.low=Wil}var chh=eh&fh^~eh&gh;var chl=el&fl^~el&gl;var majh=ah&bh^ah&ch^bh&ch;var majl=al&bl^al&cl^bl&cl;var sigma0h=(ah>>>28|al<<4)^(ah<<30|al>>>2)^(ah<<25|al>>>7);var sigma0l=(al>>>28|ah<<4)^(al<<30|ah>>>2)^(al<<25|ah>>>7);var sigma1h=(eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9);var sigma1l=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9);var Ki=K[i];var Kih=Ki.high;var Kil=Ki.low;var t1l=hl+sigma1l;var t1h=hh+sigma1h+(t1l>>>0<hl>>>0?1:0);var t1l=t1l+chl;var t1h=t1h+chh+(t1l>>>0<chl>>>0?1:0);var t1l=t1l+Kil;var t1h=t1h+Kih+(t1l>>>0<Kil>>>0?1:0);var t1l=t1l+Wil;var t1h=t1h+Wih+(t1l>>>0<Wil>>>0?1:0);var t2l=sigma0l+majl;var t2h=sigma0h+majh+(t2l>>>0<sigma0l>>>0?1:0);hh=gh;hl=gl;gh=fh;gl=fl;fh=eh;fl=el;el=dl+t1l|0;eh=dh+t1h+(el>>>0<dl>>>0?1:0)|0;dh=ch;dl=cl;ch=bh;cl=bl;bh=ah;bl=al;al=t1l+t2l|0;ah=t1h+t2h+(al>>>0<t1l>>>0?1:0)|0}H0l=H0.low=H0l+al;H0.high=H0h+ah+(H0l>>>0<al>>>0?1:0);H1l=H1.low=H1l+bl;H1.high=H1h+bh+(H1l>>>0<bl>>>0?1:0);H2l=H2.low=H2l+cl;H2.high=H2h+ch+(H2l>>>0<cl>>>0?1:0);H3l=H3.low=H3l+dl;H3.high=H3h+dh+(H3l>>>0<dl>>>0?1:0);H4l=H4.low=H4l+el;H4.high=H4h+eh+(H4l>>>0<el>>>0?1:0);H5l=H5.low=H5l+fl;H5.high=H5h+fh+(H5l>>>0<fl>>>0?1:0);H6l=H6.low=H6l+gl;H6.high=H6h+gh+(H6l>>>0<gl>>>0?1:0);H7l=H7.low=H7l+hl;H7.high=H7h+hh+(H7l>>>0<hl>>>0?1:0)},_doFinalize:function(){var data=this._data;var dataWords=data.words;var nBitsTotal=this._nDataBytes*8;var nBitsLeft=data.sigBytes*8;dataWords[nBitsLeft>>>5]|=128<<24-nBitsLeft%32;dataWords[(nBitsLeft+128>>>10<<5)+30]=Math.floor(nBitsTotal/4294967296);dataWords[(nBitsLeft+128>>>10<<5)+31]=nBitsTotal;data.sigBytes=dataWords.length*4;this._process();var hash=this._hash.toX32();return hash},clone:function(){var clone=Hasher.clone.call(this);clone._hash=this._hash.clone();return clone},blockSize:1024/32});C.SHA512=Hasher._createHelper(SHA512);C.HmacSHA512=Hasher._createHmacHelper(SHA512)})();return CryptoJS2.SHA512})}});var require_sha384=__commonJS({"node_modules/crypto-js/sha384.js"(exports2,module2){(function(root,factory,undef){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core(),require_x64_core(),require_sha512())}else if(typeof define==="function"&&define.amd){define(["./core","./x64-core","./sha512"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){(function(){var C=CryptoJS2;var C_x64=C.x64;var X64Word=C_x64.Word;var X64WordArray=C_x64.WordArray;var C_algo=C.algo;var SHA512=C_algo.SHA512;var SHA384=C_algo.SHA384=SHA512.extend({_doReset:function(){this._hash=new X64WordArray.init([new X64Word.init(3418070365,3238371032),new X64Word.init(1654270250,914150663),new X64Word.init(2438529370,812702999),new X64Word.init(355462360,4144912697),new X64Word.init(1731405415,4290775857),new X64Word.init(2394180231,1750603025),new X64Word.init(3675008525,1694076839),new X64Word.init(1203062813,3204075428)])},_doFinalize:function(){var hash=SHA512._doFinalize.call(this);hash.sigBytes-=16;return hash}});C.SHA384=SHA512._createHelper(SHA384);C.HmacSHA384=SHA512._createHmacHelper(SHA384)})();return CryptoJS2.SHA384})}});var require_sha3=__commonJS({"node_modules/crypto-js/sha3.js"(exports2,module2){(function(root,factory,undef){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core(),require_x64_core())}else if(typeof define==="function"&&define.amd){define(["./core","./x64-core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){(function(Math2){var C=CryptoJS2;var C_lib=C.lib;var WordArray2=C_lib.WordArray;var Hasher=C_lib.Hasher;var C_x64=C.x64;var X64Word=C_x64.Word;var C_algo=C.algo;var RHO_OFFSETS=[];var PI_INDEXES=[];var ROUND_CONSTANTS=[];(function(){var x=1,y=0;for(var t=0;t<24;t++){RHO_OFFSETS[x+5*y]=(t+1)*(t+2)/2%64;var newX=y%5;var newY=(2*x+3*y)%5;x=newX;y=newY}for(var x=0;x<5;x++){for(var y=0;y<5;y++){PI_INDEXES[x+5*y]=y+(2*x+3*y)%5*5}}var LFSR=1;for(var i=0;i<24;i++){var roundConstantMsw=0;var roundConstantLsw=0;for(var j=0;j<7;j++){if(LFSR&1){var bitPosition=(1<<j)-1;if(bitPosition<32){roundConstantLsw^=1<<bitPosition}else{roundConstantMsw^=1<<bitPosition-32}}if(LFSR&128){LFSR=LFSR<<1^113}else{LFSR<<=1}}ROUND_CONSTANTS[i]=X64Word.create(roundConstantMsw,roundConstantLsw)}})();var T=[];(function(){for(var i=0;i<25;i++){T[i]=X64Word.create()}})();var SHA3=C_algo.SHA3=Hasher.extend({cfg:Hasher.cfg.extend({outputLength:512}),_doReset:function(){var state=this._state=[];for(var i=0;i<25;i++){state[i]=new X64Word.init}this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(M,offset){var state=this._state;var nBlockSizeLanes=this.blockSize/2;for(var i=0;i<nBlockSizeLanes;i++){var M2i=M[offset+2*i];var M2i1=M[offset+2*i+1];M2i=(M2i<<8|M2i>>>24)&16711935|(M2i<<24|M2i>>>8)&4278255360;M2i1=(M2i1<<8|M2i1>>>24)&16711935|(M2i1<<24|M2i1>>>8)&4278255360;var lane=state[i];lane.high^=M2i1;lane.low^=M2i}for(var round=0;round<24;round++){for(var x=0;x<5;x++){var tMsw=0,tLsw=0;for(var y=0;y<5;y++){var lane=state[x+5*y];tMsw^=lane.high;tLsw^=lane.low}var Tx=T[x];Tx.high=tMsw;Tx.low=tLsw}for(var x=0;x<5;x++){var Tx4=T[(x+4)%5];var Tx1=T[(x+1)%5];var Tx1Msw=Tx1.high;var Tx1Lsw=Tx1.low;var tMsw=Tx4.high^(Tx1Msw<<1|Tx1Lsw>>>31);var tLsw=Tx4.low^(Tx1Lsw<<1|Tx1Msw>>>31);for(var y=0;y<5;y++){var lane=state[x+5*y];lane.high^=tMsw;lane.low^=tLsw}}for(var laneIndex=1;laneIndex<25;laneIndex++){var tMsw;var tLsw;var lane=state[laneIndex];var laneMsw=lane.high;var laneLsw=lane.low;var rhoOffset=RHO_OFFSETS[laneIndex];if(rhoOffset<32){tMsw=laneMsw<<rhoOffset|laneLsw>>>32-rhoOffset;tLsw=laneLsw<<rhoOffset|laneMsw>>>32-rhoOffset}else{tMsw=laneLsw<<rhoOffset-32|laneMsw>>>64-rhoOffset;tLsw=laneMsw<<rhoOffset-32|laneLsw>>>64-rhoOffset}var TPiLane=T[PI_INDEXES[laneIndex]];TPiLane.high=tMsw;TPiLane.low=tLsw}var T0=T[0];var state0=state[0];T0.high=state0.high;T0.low=state0.low;for(var x=0;x<5;x++){for(var y=0;y<5;y++){var laneIndex=x+5*y;var lane=state[laneIndex];var TLane=T[laneIndex];var Tx1Lane=T[(x+1)%5+5*y];var Tx2Lane=T[(x+2)%5+5*y];lane.high=TLane.high^~Tx1Lane.high&Tx2Lane.high;lane.low=TLane.low^~Tx1Lane.low&Tx2Lane.low}}var lane=state[0];var roundConstant=ROUND_CONSTANTS[round];lane.high^=roundConstant.high;lane.low^=roundConstant.low}},_doFinalize:function(){var data=this._data;var dataWords=data.words;var nBitsTotal=this._nDataBytes*8;var nBitsLeft=data.sigBytes*8;var blockSizeBits=this.blockSize*32;dataWords[nBitsLeft>>>5]|=1<<24-nBitsLeft%32;dataWords[(Math2.ceil((nBitsLeft+1)/blockSizeBits)*blockSizeBits>>>5)-1]|=128;data.sigBytes=dataWords.length*4;this._process();var state=this._state;var outputLengthBytes=this.cfg.outputLength/8;var outputLengthLanes=outputLengthBytes/8;var hashWords=[];for(var i=0;i<outputLengthLanes;i++){var lane=state[i];var laneMsw=lane.high;var laneLsw=lane.low;laneMsw=(laneMsw<<8|laneMsw>>>24)&16711935|(laneMsw<<24|laneMsw>>>8)&4278255360;laneLsw=(laneLsw<<8|laneLsw>>>24)&16711935|(laneLsw<<24|laneLsw>>>8)&4278255360;hashWords.push(laneLsw);hashWords.push(laneMsw)}return new WordArray2.init(hashWords,outputLengthBytes)},clone:function(){var clone=Hasher.clone.call(this);var state=clone._state=this._state.slice(0);for(var i=0;i<25;i++){state[i]=state[i].clone()}return clone}});C.SHA3=Hasher._createHelper(SHA3);C.HmacSHA3=Hasher._createHmacHelper(SHA3)})(Math);return CryptoJS2.SHA3})}});var require_ripemd160=__commonJS({"node_modules/crypto-js/ripemd160.js"(exports2,module2){(function(root,factory){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core())}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){(function(Math2){var C=CryptoJS2;var C_lib=C.lib;var WordArray2=C_lib.WordArray;var Hasher=C_lib.Hasher;var C_algo=C.algo;var _zl=WordArray2.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]);var _zr=WordArray2.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]);var _sl=WordArray2.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]);var _sr=WordArray2.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]);var _hl=WordArray2.create([0,1518500249,1859775393,2400959708,2840853838]);var _hr=WordArray2.create([1352829926,1548603684,1836072691,2053994217,0]);var RIPEMD160=C_algo.RIPEMD160=Hasher.extend({_doReset:function(){this._hash=WordArray2.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(M,offset){for(var i=0;i<16;i++){var offset_i=offset+i;var M_offset_i=M[offset_i];M[offset_i]=(M_offset_i<<8|M_offset_i>>>24)&16711935|(M_offset_i<<24|M_offset_i>>>8)&4278255360}var H=this._hash.words;var hl=_hl.words;var hr=_hr.words;var zl=_zl.words;var zr=_zr.words;var sl=_sl.words;var sr=_sr.words;var al,bl,cl,dl,el;var ar,br,cr,dr,er;ar=al=H[0];br=bl=H[1];cr=cl=H[2];dr=dl=H[3];er=el=H[4];var t;for(var i=0;i<80;i+=1){t=al+M[offset+zl[i]]|0;if(i<16){t+=f1(bl,cl,dl)+hl[0]}else if(i<32){t+=f2(bl,cl,dl)+hl[1]}else if(i<48){t+=f3(bl,cl,dl)+hl[2]}else if(i<64){t+=f4(bl,cl,dl)+hl[3]}else{t+=f5(bl,cl,dl)+hl[4]}t=t|0;t=rotl(t,sl[i]);t=t+el|0;al=el;el=dl;dl=rotl(cl,10);cl=bl;bl=t;t=ar+M[offset+zr[i]]|0;if(i<16){t+=f5(br,cr,dr)+hr[0]}else if(i<32){t+=f4(br,cr,dr)+hr[1]}else if(i<48){t+=f3(br,cr,dr)+hr[2]}else if(i<64){t+=f2(br,cr,dr)+hr[3]}else{t+=f1(br,cr,dr)+hr[4]}t=t|0;t=rotl(t,sr[i]);t=t+er|0;ar=er;er=dr;dr=rotl(cr,10);cr=br;br=t}t=H[1]+cl+dr|0;H[1]=H[2]+dl+er|0;H[2]=H[3]+el+ar|0;H[3]=H[4]+al+br|0;H[4]=H[0]+bl+cr|0;H[0]=t},_doFinalize:function(){var data=this._data;var dataWords=data.words;var nBitsTotal=this._nDataBytes*8;var nBitsLeft=data.sigBytes*8;dataWords[nBitsLeft>>>5]|=128<<24-nBitsLeft%32;dataWords[(nBitsLeft+64>>>9<<4)+14]=(nBitsTotal<<8|nBitsTotal>>>24)&16711935|(nBitsTotal<<24|nBitsTotal>>>8)&4278255360;data.sigBytes=(dataWords.length+1)*4;this._process();var hash=this._hash;var H=hash.words;for(var i=0;i<5;i++){var H_i=H[i];H[i]=(H_i<<8|H_i>>>24)&16711935|(H_i<<24|H_i>>>8)&4278255360}return hash},clone:function(){var clone=Hasher.clone.call(this);clone._hash=this._hash.clone();return clone}});function f1(x,y,z){return x^y^z}function f2(x,y,z){return x&y|~x&z}function f3(x,y,z){return(x|~y)^z}function f4(x,y,z){return x&z|y&~z}function f5(x,y,z){return x^(y|~z)}function rotl(x,n){return x<<n|x>>>32-n}C.RIPEMD160=Hasher._createHelper(RIPEMD160);C.HmacRIPEMD160=Hasher._createHmacHelper(RIPEMD160)})(Math);return CryptoJS2.RIPEMD160})}});var require_hmac=__commonJS({"node_modules/crypto-js/hmac.js"(exports2,module2){(function(root,factory){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core())}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){(function(){var C=CryptoJS2;var C_lib=C.lib;var Base=C_lib.Base;var C_enc=C.enc;var Utf8=C_enc.Utf8;var C_algo=C.algo;var HMAC=C_algo.HMAC=Base.extend({init:function(hasher,key){hasher=this._hasher=new hasher.init;if(typeof key=="string"){key=Utf8.parse(key)}var hasherBlockSize=hasher.blockSize;var hasherBlockSizeBytes=hasherBlockSize*4;if(key.sigBytes>hasherBlockSizeBytes){key=hasher.finalize(key)}key.clamp();var oKey=this._oKey=key.clone();var iKey=this._iKey=key.clone();var oKeyWords=oKey.words;var iKeyWords=iKey.words;for(var i=0;i<hasherBlockSize;i++){oKeyWords[i]^=1549556828;iKeyWords[i]^=909522486}oKey.sigBytes=iKey.sigBytes=hasherBlockSizeBytes;this.reset()},reset:function(){var hasher=this._hasher;hasher.reset();hasher.update(this._iKey)},update:function(messageUpdate){this._hasher.update(messageUpdate);return this},finalize:function(messageUpdate){var hasher=this._hasher;var innerHash=hasher.finalize(messageUpdate);hasher.reset();var hmac=hasher.finalize(this._oKey.clone().concat(innerHash));return hmac}})})()})}});var require_pbkdf2=__commonJS({"node_modules/crypto-js/pbkdf2.js"(exports2,module2){(function(root,factory,undef){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core(),require_sha256(),require_hmac())}else if(typeof define==="function"&&define.amd){define(["./core","./sha256","./hmac"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){(function(){var C=CryptoJS2;var C_lib=C.lib;var Base=C_lib.Base;var WordArray2=C_lib.WordArray;var C_algo=C.algo;var SHA2562=C_algo.SHA256;var HMAC=C_algo.HMAC;var PBKDF2=C_algo.PBKDF2=Base.extend({cfg:Base.extend({keySize:128/32,hasher:SHA2562,iterations:25e4}),init:function(cfg){this.cfg=this.cfg.extend(cfg)},compute:function(password,salt){var cfg=this.cfg;var hmac=HMAC.create(cfg.hasher,password);var derivedKey=WordArray2.create();var blockIndex=WordArray2.create([1]);var derivedKeyWords=derivedKey.words;var blockIndexWords=blockIndex.words;var keySize=cfg.keySize;var iterations=cfg.iterations;while(derivedKeyWords.length<keySize){var block=hmac.update(salt).finalize(blockIndex);hmac.reset();var blockWords=block.words;var blockWordsLength=blockWords.length;var intermediate=block;for(var i=1;i<iterations;i++){intermediate=hmac.finalize(intermediate);hmac.reset();var intermediateWords=intermediate.words;for(var j=0;j<blockWordsLength;j++){blockWords[j]^=intermediateWords[j]}}derivedKey.concat(block);blockIndexWords[0]++}derivedKey.sigBytes=keySize*4;return derivedKey}});C.PBKDF2=function(password,salt,cfg){return PBKDF2.create(cfg).compute(password,salt)}})();return CryptoJS2.PBKDF2})}});var require_evpkdf=__commonJS({"node_modules/crypto-js/evpkdf.js"(exports2,module2){(function(root,factory,undef){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core(),require_sha1(),require_hmac())}else if(typeof define==="function"&&define.amd){define(["./core","./sha1","./hmac"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){(function(){var C=CryptoJS2;var C_lib=C.lib;var Base=C_lib.Base;var WordArray2=C_lib.WordArray;var C_algo=C.algo;var MD5=C_algo.MD5;var EvpKDF=C_algo.EvpKDF=Base.extend({cfg:Base.extend({keySize:128/32,hasher:MD5,iterations:1}),init:function(cfg){this.cfg=this.cfg.extend(cfg)},compute:function(password,salt){var block;var cfg=this.cfg;var hasher=cfg.hasher.create();var derivedKey=WordArray2.create();var derivedKeyWords=derivedKey.words;var keySize=cfg.keySize;var iterations=cfg.iterations;while(derivedKeyWords.length<keySize){if(block){hasher.update(block)}block=hasher.update(password).finalize(salt);hasher.reset();for(var i=1;i<iterations;i++){block=hasher.finalize(block);hasher.reset()}derivedKey.concat(block)}derivedKey.sigBytes=keySize*4;return derivedKey}});C.EvpKDF=function(password,salt,cfg){return EvpKDF.create(cfg).compute(password,salt)}})();return CryptoJS2.EvpKDF})}});var require_cipher_core=__commonJS({"node_modules/crypto-js/cipher-core.js"(exports2,module2){(function(root,factory,undef){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core(),require_evpkdf())}else if(typeof define==="function"&&define.amd){define(["./core","./evpkdf"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){CryptoJS2.lib.Cipher||function(undefined2){var C=CryptoJS2;var C_lib=C.lib;var Base=C_lib.Base;var WordArray2=C_lib.WordArray;var BufferedBlockAlgorithm=C_lib.BufferedBlockAlgorithm;var C_enc=C.enc;var Utf8=C_enc.Utf8;var Base64=C_enc.Base64;var C_algo=C.algo;var EvpKDF=C_algo.EvpKDF;var Cipher=C_lib.Cipher=BufferedBlockAlgorithm.extend({cfg:Base.extend(),createEncryptor:function(key,cfg){return this.create(this._ENC_XFORM_MODE,key,cfg)},createDecryptor:function(key,cfg){return this.create(this._DEC_XFORM_MODE,key,cfg)},init:function(xformMode,key,cfg){this.cfg=this.cfg.extend(cfg);this._xformMode=xformMode;this._key=key;this.reset()},reset:function(){BufferedBlockAlgorithm.reset.call(this);this._doReset()},process:function(dataUpdate){this._append(dataUpdate);return this._process()},finalize:function(dataUpdate){if(dataUpdate){this._append(dataUpdate)}var finalProcessedData=this._doFinalize();return finalProcessedData},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function selectCipherStrategy(key){if(typeof key=="string"){return PasswordBasedCipher}else{return SerializableCipher}}return function(cipher){return{encrypt:function(message,key,cfg){return selectCipherStrategy(key).encrypt(cipher,message,key,cfg)},decrypt:function(ciphertext,key,cfg){return selectCipherStrategy(key).decrypt(cipher,ciphertext,key,cfg)}}}}()});var StreamCipher=C_lib.StreamCipher=Cipher.extend({_doFinalize:function(){var finalProcessedBlocks=this._process(true);return finalProcessedBlocks},blockSize:1});var C_mode=C.mode={};var BlockCipherMode=C_lib.BlockCipherMode=Base.extend({createEncryptor:function(cipher,iv){return this.Encryptor.create(cipher,iv)},createDecryptor:function(cipher,iv){return this.Decryptor.create(cipher,iv)},init:function(cipher,iv){this._cipher=cipher;this._iv=iv}});var CBC=C_mode.CBC=function(){var CBC2=BlockCipherMode.extend();CBC2.Encryptor=CBC2.extend({processBlock:function(words,offset){var cipher=this._cipher;var blockSize=cipher.blockSize;xorBlock.call(this,words,offset,blockSize);cipher.encryptBlock(words,offset);this._prevBlock=words.slice(offset,offset+blockSize)}});CBC2.Decryptor=CBC2.extend({processBlock:function(words,offset){var cipher=this._cipher;var blockSize=cipher.blockSize;var thisBlock=words.slice(offset,offset+blockSize);cipher.decryptBlock(words,offset);xorBlock.call(this,words,offset,blockSize);this._prevBlock=thisBlock}});function xorBlock(words,offset,blockSize){var block;var iv=this._iv;if(iv){block=iv;this._iv=undefined2}else{block=this._prevBlock}for(var i=0;i<blockSize;i++){words[offset+i]^=block[i]}}return CBC2}();var C_pad=C.pad={};var Pkcs7=C_pad.Pkcs7={pad:function(data,blockSize){var blockSizeBytes=blockSize*4;var nPaddingBytes=blockSizeBytes-data.sigBytes%blockSizeBytes;var paddingWord=nPaddingBytes<<24|nPaddingBytes<<16|nPaddingBytes<<8|nPaddingBytes;var paddingWords=[];for(var i=0;i<nPaddingBytes;i+=4){paddingWords.push(paddingWord)}var padding=WordArray2.create(paddingWords,nPaddingBytes);data.concat(padding)},unpad:function(data){var nPaddingBytes=data.words[data.sigBytes-1>>>2]&255;data.sigBytes-=nPaddingBytes}};var BlockCipher=C_lib.BlockCipher=Cipher.extend({cfg:Cipher.cfg.extend({mode:CBC,padding:Pkcs7}),reset:function(){var modeCreator;Cipher.reset.call(this);var cfg=this.cfg;var iv=cfg.iv;var mode=cfg.mode;if(this._xformMode==this._ENC_XFORM_MODE){modeCreator=mode.createEncryptor}else{modeCreator=mode.createDecryptor;this._minBufferSize=1}if(this._mode&&this._mode.__creator==modeCreator){this._mode.init(this,iv&&iv.words)}else{this._mode=modeCreator.call(mode,this,iv&&iv.words);this._mode.__creator=modeCreator}},_doProcessBlock:function(words,offset){this._mode.processBlock(words,offset)},_doFinalize:function(){var finalProcessedBlocks;var padding=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){padding.pad(this._data,this.blockSize);finalProcessedBlocks=this._process(true)}else{finalProcessedBlocks=this._process(true);padding.unpad(finalProcessedBlocks)}return finalProcessedBlocks},blockSize:128/32});var CipherParams=C_lib.CipherParams=Base.extend({init:function(cipherParams){this.mixIn(cipherParams)},toString:function(formatter){return(formatter||this.formatter).stringify(this)}});var C_format=C.format={};var OpenSSLFormatter=C_format.OpenSSL={stringify:function(cipherParams){var wordArray;var ciphertext=cipherParams.ciphertext;var salt=cipherParams.salt;if(salt){wordArray=WordArray2.create([1398893684,1701076831]).concat(salt).concat(ciphertext)}else{wordArray=ciphertext}return wordArray.toString(Base64)},parse:function(openSSLStr){var salt;var ciphertext=Base64.parse(openSSLStr);var ciphertextWords=ciphertext.words;if(ciphertextWords[0]==1398893684&&ciphertextWords[1]==1701076831){salt=WordArray2.create(ciphertextWords.slice(2,4));ciphertextWords.splice(0,4);ciphertext.sigBytes-=16}return CipherParams.create({ciphertext,salt})}};var SerializableCipher=C_lib.SerializableCipher=Base.extend({cfg:Base.extend({format:OpenSSLFormatter}),encrypt:function(cipher,message,key,cfg){cfg=this.cfg.extend(cfg);var encryptor=cipher.createEncryptor(key,cfg);var ciphertext=encryptor.finalize(message);var cipherCfg=encryptor.cfg;return CipherParams.create({ciphertext,key,iv:cipherCfg.iv,algorithm:cipher,mode:cipherCfg.mode,padding:cipherCfg.padding,blockSize:cipher.blockSize,formatter:cfg.format})},decrypt:function(cipher,ciphertext,key,cfg){cfg=this.cfg.extend(cfg);ciphertext=this._parse(ciphertext,cfg.format);var plaintext=cipher.createDecryptor(key,cfg).finalize(ciphertext.ciphertext);return plaintext},_parse:function(ciphertext,format){if(typeof ciphertext=="string"){return format.parse(ciphertext,this)}else{return ciphertext}}});var C_kdf=C.kdf={};var OpenSSLKdf=C_kdf.OpenSSL={execute:function(password,keySize,ivSize,salt,hasher){if(!salt){salt=WordArray2.random(64/8)}if(!hasher){var key=EvpKDF.create({keySize:keySize+ivSize}).compute(password,salt)}else{var key=EvpKDF.create({keySize:keySize+ivSize,hasher}).compute(password,salt)}var iv=WordArray2.create(key.words.slice(keySize),ivSize*4);key.sigBytes=keySize*4;return CipherParams.create({key,iv,salt})}};var PasswordBasedCipher=C_lib.PasswordBasedCipher=SerializableCipher.extend({cfg:SerializableCipher.cfg.extend({kdf:OpenSSLKdf}),encrypt:function(cipher,message,password,cfg){cfg=this.cfg.extend(cfg);var derivedParams=cfg.kdf.execute(password,cipher.keySize,cipher.ivSize,cfg.salt,cfg.hasher);cfg.iv=derivedParams.iv;var ciphertext=SerializableCipher.encrypt.call(this,cipher,message,derivedParams.key,cfg);ciphertext.mixIn(derivedParams);return ciphertext},decrypt:function(cipher,ciphertext,password,cfg){cfg=this.cfg.extend(cfg);ciphertext=this._parse(ciphertext,cfg.format);var derivedParams=cfg.kdf.execute(password,cipher.keySize,cipher.ivSize,ciphertext.salt,cfg.hasher);cfg.iv=derivedParams.iv;var plaintext=SerializableCipher.decrypt.call(this,cipher,ciphertext,derivedParams.key,cfg);return plaintext}})}()})}});var require_mode_cfb=__commonJS({"node_modules/crypto-js/mode-cfb.js"(exports2,module2){(function(root,factory,undef){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core(),require_cipher_core())}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){CryptoJS2.mode.CFB=function(){var CFB=CryptoJS2.lib.BlockCipherMode.extend();CFB.Encryptor=CFB.extend({processBlock:function(words,offset){var cipher=this._cipher;var blockSize=cipher.blockSize;generateKeystreamAndEncrypt.call(this,words,offset,blockSize,cipher);this._prevBlock=words.slice(offset,offset+blockSize)}});CFB.Decryptor=CFB.extend({processBlock:function(words,offset){var cipher=this._cipher;var blockSize=cipher.blockSize;var thisBlock=words.slice(offset,offset+blockSize);generateKeystreamAndEncrypt.call(this,words,offset,blockSize,cipher);this._prevBlock=thisBlock}});function generateKeystreamAndEncrypt(words,offset,blockSize,cipher){var keystream;var iv=this._iv;if(iv){keystream=iv.slice(0);this._iv=void 0}else{keystream=this._prevBlock}cipher.encryptBlock(keystream,0);for(var i=0;i<blockSize;i++){words[offset+i]^=keystream[i]}}return CFB}();return CryptoJS2.mode.CFB})}});var require_mode_ctr=__commonJS({"node_modules/crypto-js/mode-ctr.js"(exports2,module2){(function(root,factory,undef){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core(),require_cipher_core())}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){CryptoJS2.mode.CTR=function(){var CTR=CryptoJS2.lib.BlockCipherMode.extend();var Encryptor=CTR.Encryptor=CTR.extend({processBlock:function(words,offset){var cipher=this._cipher;var blockSize=cipher.blockSize;var iv=this._iv;var counter=this._counter;if(iv){counter=this._counter=iv.slice(0);this._iv=void 0}var keystream=counter.slice(0);cipher.encryptBlock(keystream,0);counter[blockSize-1]=counter[blockSize-1]+1|0;for(var i=0;i<blockSize;i++){words[offset+i]^=keystream[i]}}});CTR.Decryptor=Encryptor;return CTR}();return CryptoJS2.mode.CTR})}});var require_mode_ctr_gladman=__commonJS({"node_modules/crypto-js/mode-ctr-gladman.js"(exports2,module2){(function(root,factory,undef){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core(),require_cipher_core())}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){CryptoJS2.mode.CTRGladman=function(){var CTRGladman=CryptoJS2.lib.BlockCipherMode.extend();function incWord(word){if((word>>24&255)===255){var b1=word>>16&255;var b2=word>>8&255;var b3=word&255;if(b1===255){b1=0;if(b2===255){b2=0;if(b3===255){b3=0}else{++b3}}else{++b2}}else{++b1}word=0;word+=b1<<16;word+=b2<<8;word+=b3}else{word+=1<<24}return word}function incCounter(counter){if((counter[0]=incWord(counter[0]))===0){counter[1]=incWord(counter[1])}return counter}var Encryptor=CTRGladman.Encryptor=CTRGladman.extend({processBlock:function(words,offset){var cipher=this._cipher;var blockSize=cipher.blockSize;var iv=this._iv;var counter=this._counter;if(iv){counter=this._counter=iv.slice(0);this._iv=void 0}incCounter(counter);var keystream=counter.slice(0);cipher.encryptBlock(keystream,0);for(var i=0;i<blockSize;i++){words[offset+i]^=keystream[i]}}});CTRGladman.Decryptor=Encryptor;return CTRGladman}();return CryptoJS2.mode.CTRGladman})}});var require_mode_ofb=__commonJS({"node_modules/crypto-js/mode-ofb.js"(exports2,module2){(function(root,factory,undef){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core(),require_cipher_core())}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){CryptoJS2.mode.OFB=function(){var OFB=CryptoJS2.lib.BlockCipherMode.extend();var Encryptor=OFB.Encryptor=OFB.extend({processBlock:function(words,offset){var cipher=this._cipher;var blockSize=cipher.blockSize;var iv=this._iv;var keystream=this._keystream;if(iv){keystream=this._keystream=iv.slice(0);this._iv=void 0}cipher.encryptBlock(keystream,0);for(var i=0;i<blockSize;i++){words[offset+i]^=keystream[i]}}});OFB.Decryptor=Encryptor;return OFB}();return CryptoJS2.mode.OFB})}});var require_mode_ecb=__commonJS({"node_modules/crypto-js/mode-ecb.js"(exports2,module2){(function(root,factory,undef){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core(),require_cipher_core())}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){CryptoJS2.mode.ECB=function(){var ECB=CryptoJS2.lib.BlockCipherMode.extend();ECB.Encryptor=ECB.extend({processBlock:function(words,offset){this._cipher.encryptBlock(words,offset)}});ECB.Decryptor=ECB.extend({processBlock:function(words,offset){this._cipher.decryptBlock(words,offset)}});return ECB}();return CryptoJS2.mode.ECB})}});var require_pad_ansix923=__commonJS({"node_modules/crypto-js/pad-ansix923.js"(exports2,module2){(function(root,factory,undef){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core(),require_cipher_core())}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){CryptoJS2.pad.AnsiX923={pad:function(data,blockSize){var dataSigBytes=data.sigBytes;var blockSizeBytes=blockSize*4;var nPaddingBytes=blockSizeBytes-dataSigBytes%blockSizeBytes;var lastBytePos=dataSigBytes+nPaddingBytes-1;data.clamp();data.words[lastBytePos>>>2]|=nPaddingBytes<<24-lastBytePos%4*8;data.sigBytes+=nPaddingBytes},unpad:function(data){var nPaddingBytes=data.words[data.sigBytes-1>>>2]&255;data.sigBytes-=nPaddingBytes}};return CryptoJS2.pad.Ansix923})}});var require_pad_iso10126=__commonJS({"node_modules/crypto-js/pad-iso10126.js"(exports2,module2){(function(root,factory,undef){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core(),require_cipher_core())}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){CryptoJS2.pad.Iso10126={pad:function(data,blockSize){var blockSizeBytes=blockSize*4;var nPaddingBytes=blockSizeBytes-data.sigBytes%blockSizeBytes;data.concat(CryptoJS2.lib.WordArray.random(nPaddingBytes-1)).concat(CryptoJS2.lib.WordArray.create([nPaddingBytes<<24],1))},unpad:function(data){var nPaddingBytes=data.words[data.sigBytes-1>>>2]&255;data.sigBytes-=nPaddingBytes}};return CryptoJS2.pad.Iso10126})}});var require_pad_iso97971=__commonJS({"node_modules/crypto-js/pad-iso97971.js"(exports2,module2){(function(root,factory,undef){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core(),require_cipher_core())}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){CryptoJS2.pad.Iso97971={pad:function(data,blockSize){data.concat(CryptoJS2.lib.WordArray.create([2147483648],1));CryptoJS2.pad.ZeroPadding.pad(data,blockSize)},unpad:function(data){CryptoJS2.pad.ZeroPadding.unpad(data);data.sigBytes--}};return CryptoJS2.pad.Iso97971})}});var require_pad_zeropadding=__commonJS({"node_modules/crypto-js/pad-zeropadding.js"(exports2,module2){(function(root,factory,undef){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core(),require_cipher_core())}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){CryptoJS2.pad.ZeroPadding={pad:function(data,blockSize){var blockSizeBytes=blockSize*4;data.clamp();data.sigBytes+=blockSizeBytes-(data.sigBytes%blockSizeBytes||blockSizeBytes)},unpad:function(data){var dataWords=data.words;var i=data.sigBytes-1;for(var i=data.sigBytes-1;i>=0;i--){if(dataWords[i>>>2]>>>24-i%4*8&255){data.sigBytes=i+1;break}}}};return CryptoJS2.pad.ZeroPadding})}});var require_pad_nopadding=__commonJS({"node_modules/crypto-js/pad-nopadding.js"(exports2,module2){(function(root,factory,undef){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core(),require_cipher_core())}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){CryptoJS2.pad.NoPadding={pad:function(){},unpad:function(){}};return CryptoJS2.pad.NoPadding})}});var require_format_hex=__commonJS({"node_modules/crypto-js/format-hex.js"(exports2,module2){(function(root,factory,undef){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core(),require_cipher_core())}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){(function(undefined2){var C=CryptoJS2;var C_lib=C.lib;var CipherParams=C_lib.CipherParams;var C_enc=C.enc;var Hex=C_enc.Hex;var C_format=C.format;var HexFormatter=C_format.Hex={stringify:function(cipherParams){return cipherParams.ciphertext.toString(Hex)},parse:function(input){var ciphertext=Hex.parse(input);return CipherParams.create({ciphertext})}}})();return CryptoJS2.format.Hex})}});var require_aes=__commonJS({"node_modules/crypto-js/aes.js"(exports2,module2){(function(root,factory,undef){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core(),require_enc_base64(),require_md5(),require_evpkdf(),require_cipher_core())}else if(typeof define==="function"&&define.amd){define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){(function(){var C=CryptoJS2;var C_lib=C.lib;var BlockCipher=C_lib.BlockCipher;var C_algo=C.algo;var SBOX=[];var INV_SBOX=[];var SUB_MIX_0=[];var SUB_MIX_1=[];var SUB_MIX_2=[];var SUB_MIX_3=[];var INV_SUB_MIX_0=[];var INV_SUB_MIX_1=[];var INV_SUB_MIX_2=[];var INV_SUB_MIX_3=[];(function(){var d=[];for(var i=0;i<256;i++){if(i<128){d[i]=i<<1}else{d[i]=i<<1^283}}var x=0;var xi=0;for(var i=0;i<256;i++){var sx=xi^xi<<1^xi<<2^xi<<3^xi<<4;sx=sx>>>8^sx&255^99;SBOX[x]=sx;INV_SBOX[sx]=x;var x2=d[x];var x4=d[x2];var x8=d[x4];var t=d[sx]*257^sx*16843008;SUB_MIX_0[x]=t<<24|t>>>8;SUB_MIX_1[x]=t<<16|t>>>16;SUB_MIX_2[x]=t<<8|t>>>24;SUB_MIX_3[x]=t;var t=x8*16843009^x4*65537^x2*257^x*16843008;INV_SUB_MIX_0[sx]=t<<24|t>>>8;INV_SUB_MIX_1[sx]=t<<16|t>>>16;INV_SUB_MIX_2[sx]=t<<8|t>>>24;INV_SUB_MIX_3[sx]=t;if(!x){x=xi=1}else{x=x2^d[d[d[x8^x2]]];xi^=d[d[xi]]}}})();var RCON=[0,1,2,4,8,16,32,64,128,27,54];var AES2=C_algo.AES=BlockCipher.extend({_doReset:function(){var t;if(this._nRounds&&this._keyPriorReset===this._key){return}var key=this._keyPriorReset=this._key;var keyWords=key.words;var keySize=key.sigBytes/4;var nRounds=this._nRounds=keySize+6;var ksRows=(nRounds+1)*4;var keySchedule=this._keySchedule=[];for(var ksRow=0;ksRow<ksRows;ksRow++){if(ksRow<keySize){keySchedule[ksRow]=keyWords[ksRow]}else{t=keySchedule[ksRow-1];if(!(ksRow%keySize)){t=t<<8|t>>>24;t=SBOX[t>>>24]<<24|SBOX[t>>>16&255]<<16|SBOX[t>>>8&255]<<8|SBOX[t&255];t^=RCON[ksRow/keySize|0]<<24}else if(keySize>6&&ksRow%keySize==4){t=SBOX[t>>>24]<<24|SBOX[t>>>16&255]<<16|SBOX[t>>>8&255]<<8|SBOX[t&255]}keySchedule[ksRow]=keySchedule[ksRow-keySize]^t}}var invKeySchedule=this._invKeySchedule=[];for(var invKsRow=0;invKsRow<ksRows;invKsRow++){var ksRow=ksRows-invKsRow;if(invKsRow%4){var t=keySchedule[ksRow]}else{var t=keySchedule[ksRow-4]}if(invKsRow<4||ksRow<=4){invKeySchedule[invKsRow]=t}else{invKeySchedule[invKsRow]=INV_SUB_MIX_0[SBOX[t>>>24]]^INV_SUB_MIX_1[SBOX[t>>>16&255]]^INV_SUB_MIX_2[SBOX[t>>>8&255]]^INV_SUB_MIX_3[SBOX[t&255]]}}},encryptBlock:function(M,offset){this._doCryptBlock(M,offset,this._keySchedule,SUB_MIX_0,SUB_MIX_1,SUB_MIX_2,SUB_MIX_3,SBOX)},decryptBlock:function(M,offset){var t=M[offset+1];M[offset+1]=M[offset+3];M[offset+3]=t;this._doCryptBlock(M,offset,this._invKeySchedule,INV_SUB_MIX_0,INV_SUB_MIX_1,INV_SUB_MIX_2,INV_SUB_MIX_3,INV_SBOX);var t=M[offset+1];M[offset+1]=M[offset+3];M[offset+3]=t},_doCryptBlock:function(M,offset,keySchedule,SUB_MIX_02,SUB_MIX_12,SUB_MIX_22,SUB_MIX_32,SBOX2){var nRounds=this._nRounds;var s0=M[offset]^keySchedule[0];var s1=M[offset+1]^keySchedule[1];var s2=M[offset+2]^keySchedule[2];var s3=M[offset+3]^keySchedule[3];var ksRow=4;for(var round=1;round<nRounds;round++){var t0=SUB_MIX_02[s0>>>24]^SUB_MIX_12[s1>>>16&255]^SUB_MIX_22[s2>>>8&255]^SUB_MIX_32[s3&255]^keySchedule[ksRow++];var t1=SUB_MIX_02[s1>>>24]^SUB_MIX_12[s2>>>16&255]^SUB_MIX_22[s3>>>8&255]^SUB_MIX_32[s0&255]^keySchedule[ksRow++];var t2=SUB_MIX_02[s2>>>24]^SUB_MIX_12[s3>>>16&255]^SUB_MIX_22[s0>>>8&255]^SUB_MIX_32[s1&255]^keySchedule[ksRow++];var t3=SUB_MIX_02[s3>>>24]^SUB_MIX_12[s0>>>16&255]^SUB_MIX_22[s1>>>8&255]^SUB_MIX_32[s2&255]^keySchedule[ksRow++];s0=t0;s1=t1;s2=t2;s3=t3}var t0=(SBOX2[s0>>>24]<<24|SBOX2[s1>>>16&255]<<16|SBOX2[s2>>>8&255]<<8|SBOX2[s3&255])^keySchedule[ksRow++];var t1=(SBOX2[s1>>>24]<<24|SBOX2[s2>>>16&255]<<16|SBOX2[s3>>>8&255]<<8|SBOX2[s0&255])^keySchedule[ksRow++];var t2=(SBOX2[s2>>>24]<<24|SBOX2[s3>>>16&255]<<16|SBOX2[s0>>>8&255]<<8|SBOX2[s1&255])^keySchedule[ksRow++];var t3=(SBOX2[s3>>>24]<<24|SBOX2[s0>>>16&255]<<16|SBOX2[s1>>>8&255]<<8|SBOX2[s2&255])^keySchedule[ksRow++];M[offset]=t0;M[offset+1]=t1;M[offset+2]=t2;M[offset+3]=t3},keySize:256/32});C.AES=BlockCipher._createHelper(AES2)})();return CryptoJS2.AES})}});var require_tripledes=__commonJS({"node_modules/crypto-js/tripledes.js"(exports2,module2){(function(root,factory,undef){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core(),require_enc_base64(),require_md5(),require_evpkdf(),require_cipher_core())}else if(typeof define==="function"&&define.amd){define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){(function(){var C=CryptoJS2;var C_lib=C.lib;var WordArray2=C_lib.WordArray;var BlockCipher=C_lib.BlockCipher;var C_algo=C.algo;var PC1=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4];var PC2=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32];var BIT_SHIFTS=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28];var SBOX_P=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}];var SBOX_MASK=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679];var DES=C_algo.DES=BlockCipher.extend({_doReset:function(){var key=this._key;var keyWords=key.words;var keyBits=[];for(var i=0;i<56;i++){var keyBitPos=PC1[i]-1;keyBits[i]=keyWords[keyBitPos>>>5]>>>31-keyBitPos%32&1}var subKeys=this._subKeys=[];for(var nSubKey=0;nSubKey<16;nSubKey++){var subKey=subKeys[nSubKey]=[];var bitShift=BIT_SHIFTS[nSubKey];for(var i=0;i<24;i++){subKey[i/6|0]|=keyBits[(PC2[i]-1+bitShift)%28]<<31-i%6;subKey[4+(i/6|0)]|=keyBits[28+(PC2[i+24]-1+bitShift)%28]<<31-i%6}subKey[0]=subKey[0]<<1|subKey[0]>>>31;for(var i=1;i<7;i++){subKey[i]=subKey[i]>>>(i-1)*4+3}subKey[7]=subKey[7]<<5|subKey[7]>>>27}var invSubKeys=this._invSubKeys=[];for(var i=0;i<16;i++){invSubKeys[i]=subKeys[15-i]}},encryptBlock:function(M,offset){this._doCryptBlock(M,offset,this._subKeys)},decryptBlock:function(M,offset){this._doCryptBlock(M,offset,this._invSubKeys)},_doCryptBlock:function(M,offset,subKeys){this._lBlock=M[offset];this._rBlock=M[offset+1];exchangeLR.call(this,4,252645135);exchangeLR.call(this,16,65535);exchangeRL.call(this,2,858993459);exchangeRL.call(this,8,16711935);exchangeLR.call(this,1,1431655765);for(var round=0;round<16;round++){var subKey=subKeys[round];var lBlock=this._lBlock;var rBlock=this._rBlock;var f=0;for(var i=0;i<8;i++){f|=SBOX_P[i][((rBlock^subKey[i])&SBOX_MASK[i])>>>0]}this._lBlock=rBlock;this._rBlock=lBlock^f}var t=this._lBlock;this._lBlock=this._rBlock;this._rBlock=t;exchangeLR.call(this,1,1431655765);exchangeRL.call(this,8,16711935);exchangeRL.call(this,2,858993459);exchangeLR.call(this,16,65535);exchangeLR.call(this,4,252645135);M[offset]=this._lBlock;M[offset+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function exchangeLR(offset,mask){var t=(this._lBlock>>>offset^this._rBlock)&mask;this._rBlock^=t;this._lBlock^=t<<offset}function exchangeRL(offset,mask){var t=(this._rBlock>>>offset^this._lBlock)&mask;this._lBlock^=t;this._rBlock^=t<<offset}C.DES=BlockCipher._createHelper(DES);var TripleDES=C_algo.TripleDES=BlockCipher.extend({_doReset:function(){var key=this._key;var keyWords=key.words;if(keyWords.length!==2&&keyWords.length!==4&&keyWords.length<6){throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.")}var key1=keyWords.slice(0,2);var key2=keyWords.length<4?keyWords.slice(0,2):keyWords.slice(2,4);var key3=keyWords.length<6?keyWords.slice(0,2):keyWords.slice(4,6);this._des1=DES.createEncryptor(WordArray2.create(key1));this._des2=DES.createEncryptor(WordArray2.create(key2));this._des3=DES.createEncryptor(WordArray2.create(key3))},encryptBlock:function(M,offset){this._des1.encryptBlock(M,offset);this._des2.decryptBlock(M,offset);this._des3.encryptBlock(M,offset)},decryptBlock:function(M,offset){this._des3.decryptBlock(M,offset);this._des2.encryptBlock(M,offset);this._des1.decryptBlock(M,offset)},keySize:192/32,ivSize:64/32,blockSize:64/32});C.TripleDES=BlockCipher._createHelper(TripleDES)})();return CryptoJS2.TripleDES})}});var require_rc4=__commonJS({"node_modules/crypto-js/rc4.js"(exports2,module2){(function(root,factory,undef){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core(),require_enc_base64(),require_md5(),require_evpkdf(),require_cipher_core())}else if(typeof define==="function"&&define.amd){define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){(function(){var C=CryptoJS2;var C_lib=C.lib;var StreamCipher=C_lib.StreamCipher;var C_algo=C.algo;var RC4=C_algo.RC4=StreamCipher.extend({_doReset:function(){var key=this._key;var keyWords=key.words;var keySigBytes=key.sigBytes;var S=this._S=[];for(var i=0;i<256;i++){S[i]=i}for(var i=0,j=0;i<256;i++){var keyByteIndex=i%keySigBytes;var keyByte=keyWords[keyByteIndex>>>2]>>>24-keyByteIndex%4*8&255;j=(j+S[i]+keyByte)%256;var t=S[i];S[i]=S[j];S[j]=t}this._i=this._j=0},_doProcessBlock:function(M,offset){M[offset]^=generateKeystreamWord.call(this)},keySize:256/32,ivSize:0});function generateKeystreamWord(){var S=this._S;var i=this._i;var j=this._j;var keystreamWord=0;for(var n=0;n<4;n++){i=(i+1)%256;j=(j+S[i])%256;var t=S[i];S[i]=S[j];S[j]=t;keystreamWord|=S[(S[i]+S[j])%256]<<24-n*8}this._i=i;this._j=j;return keystreamWord}C.RC4=StreamCipher._createHelper(RC4);var RC4Drop=C_algo.RC4Drop=RC4.extend({cfg:RC4.cfg.extend({drop:192}),_doReset:function(){RC4._doReset.call(this);for(var i=this.cfg.drop;i>0;i--){generateKeystreamWord.call(this)}}});C.RC4Drop=StreamCipher._createHelper(RC4Drop)})();return CryptoJS2.RC4})}});var require_rabbit=__commonJS({"node_modules/crypto-js/rabbit.js"(exports2,module2){(function(root,factory,undef){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core(),require_enc_base64(),require_md5(),require_evpkdf(),require_cipher_core())}else if(typeof define==="function"&&define.amd){define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){(function(){var C=CryptoJS2;var C_lib=C.lib;var StreamCipher=C_lib.StreamCipher;var C_algo=C.algo;var S=[];var C_=[];var G=[];var Rabbit=C_algo.Rabbit=StreamCipher.extend({_doReset:function(){var K=this._key.words;var iv=this.cfg.iv;for(var i=0;i<4;i++){K[i]=(K[i]<<8|K[i]>>>24)&16711935|(K[i]<<24|K[i]>>>8)&4278255360}var X=this._X=[K[0],K[3]<<16|K[2]>>>16,K[1],K[0]<<16|K[3]>>>16,K[2],K[1]<<16|K[0]>>>16,K[3],K[2]<<16|K[1]>>>16];var C2=this._C=[K[2]<<16|K[2]>>>16,K[0]&4294901760|K[1]&65535,K[3]<<16|K[3]>>>16,K[1]&4294901760|K[2]&65535,K[0]<<16|K[0]>>>16,K[2]&4294901760|K[3]&65535,K[1]<<16|K[1]>>>16,K[3]&4294901760|K[0]&65535];this._b=0;for(var i=0;i<4;i++){nextState.call(this)}for(var i=0;i<8;i++){C2[i]^=X[i+4&7]}if(iv){var IV=iv.words;var IV_0=IV[0];var IV_1=IV[1];var i0=(IV_0<<8|IV_0>>>24)&16711935|(IV_0<<24|IV_0>>>8)&4278255360;var i2=(IV_1<<8|IV_1>>>24)&16711935|(IV_1<<24|IV_1>>>8)&4278255360;var i1=i0>>>16|i2&4294901760;var i3=i2<<16|i0&65535;C2[0]^=i0;C2[1]^=i1;C2[2]^=i2;C2[3]^=i3;C2[4]^=i0;C2[5]^=i1;C2[6]^=i2;C2[7]^=i3;for(var i=0;i<4;i++){nextState.call(this)}}},_doProcessBlock:function(M,offset){var X=this._X;nextState.call(this);S[0]=X[0]^X[5]>>>16^X[3]<<16;S[1]=X[2]^X[7]>>>16^X[5]<<16;S[2]=X[4]^X[1]>>>16^X[7]<<16;S[3]=X[6]^X[3]>>>16^X[1]<<16;for(var i=0;i<4;i++){S[i]=(S[i]<<8|S[i]>>>24)&16711935|(S[i]<<24|S[i]>>>8)&4278255360;M[offset+i]^=S[i]}},blockSize:128/32,ivSize:64/32});function nextState(){var X=this._X;var C2=this._C;for(var i=0;i<8;i++){C_[i]=C2[i]}C2[0]=C2[0]+1295307597+this._b|0;C2[1]=C2[1]+3545052371+(C2[0]>>>0<C_[0]>>>0?1:0)|0;C2[2]=C2[2]+886263092+(C2[1]>>>0<C_[1]>>>0?1:0)|0;C2[3]=C2[3]+1295307597+(C2[2]>>>0<C_[2]>>>0?1:0)|0;C2[4]=C2[4]+3545052371+(C2[3]>>>0<C_[3]>>>0?1:0)|0;C2[5]=C2[5]+886263092+(C2[4]>>>0<C_[4]>>>0?1:0)|0;C2[6]=C2[6]+1295307597+(C2[5]>>>0<C_[5]>>>0?1:0)|0;C2[7]=C2[7]+3545052371+(C2[6]>>>0<C_[6]>>>0?1:0)|0;this._b=C2[7]>>>0<C_[7]>>>0?1:0;for(var i=0;i<8;i++){var gx=X[i]+C2[i];var ga=gx&65535;var gb=gx>>>16;var gh=((ga*ga>>>17)+ga*gb>>>15)+gb*gb;var gl=((gx&4294901760)*gx|0)+((gx&65535)*gx|0);G[i]=gh^gl}X[0]=G[0]+(G[7]<<16|G[7]>>>16)+(G[6]<<16|G[6]>>>16)|0;X[1]=G[1]+(G[0]<<8|G[0]>>>24)+G[7]|0;X[2]=G[2]+(G[1]<<16|G[1]>>>16)+(G[0]<<16|G[0]>>>16)|0;X[3]=G[3]+(G[2]<<8|G[2]>>>24)+G[1]|0;X[4]=G[4]+(G[3]<<16|G[3]>>>16)+(G[2]<<16|G[2]>>>16)|0;X[5]=G[5]+(G[4]<<8|G[4]>>>24)+G[3]|0;X[6]=G[6]+(G[5]<<16|G[5]>>>16)+(G[4]<<16|G[4]>>>16)|0;X[7]=G[7]+(G[6]<<8|G[6]>>>24)+G[5]|0}C.Rabbit=StreamCipher._createHelper(Rabbit)})();return CryptoJS2.Rabbit})}});var require_rabbit_legacy=__commonJS({"node_modules/crypto-js/rabbit-legacy.js"(exports2,module2){(function(root,factory,undef){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core(),require_enc_base64(),require_md5(),require_evpkdf(),require_cipher_core())}else if(typeof define==="function"&&define.amd){define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){(function(){var C=CryptoJS2;var C_lib=C.lib;var StreamCipher=C_lib.StreamCipher;var C_algo=C.algo;var S=[];var C_=[];var G=[];var RabbitLegacy=C_algo.RabbitLegacy=StreamCipher.extend({_doReset:function(){var K=this._key.words;var iv=this.cfg.iv;var X=this._X=[K[0],K[3]<<16|K[2]>>>16,K[1],K[0]<<16|K[3]>>>16,K[2],K[1]<<16|K[0]>>>16,K[3],K[2]<<16|K[1]>>>16];var C2=this._C=[K[2]<<16|K[2]>>>16,K[0]&4294901760|K[1]&65535,K[3]<<16|K[3]>>>16,K[1]&4294901760|K[2]&65535,K[0]<<16|K[0]>>>16,K[2]&4294901760|K[3]&65535,K[1]<<16|K[1]>>>16,K[3]&4294901760|K[0]&65535];this._b=0;for(var i=0;i<4;i++){nextState.call(this)}for(var i=0;i<8;i++){C2[i]^=X[i+4&7]}if(iv){var IV=iv.words;var IV_0=IV[0];var IV_1=IV[1];var i0=(IV_0<<8|IV_0>>>24)&16711935|(IV_0<<24|IV_0>>>8)&4278255360;var i2=(IV_1<<8|IV_1>>>24)&16711935|(IV_1<<24|IV_1>>>8)&4278255360;var i1=i0>>>16|i2&4294901760;var i3=i2<<16|i0&65535;C2[0]^=i0;C2[1]^=i1;C2[2]^=i2;C2[3]^=i3;C2[4]^=i0;C2[5]^=i1;C2[6]^=i2;C2[7]^=i3;for(var i=0;i<4;i++){nextState.call(this)}}},_doProcessBlock:function(M,offset){var X=this._X;nextState.call(this);S[0]=X[0]^X[5]>>>16^X[3]<<16;S[1]=X[2]^X[7]>>>16^X[5]<<16;S[2]=X[4]^X[1]>>>16^X[7]<<16;S[3]=X[6]^X[3]>>>16^X[1]<<16;for(var i=0;i<4;i++){S[i]=(S[i]<<8|S[i]>>>24)&16711935|(S[i]<<24|S[i]>>>8)&4278255360;M[offset+i]^=S[i]}},blockSize:128/32,ivSize:64/32});function nextState(){var X=this._X;var C2=this._C;for(var i=0;i<8;i++){C_[i]=C2[i]}C2[0]=C2[0]+1295307597+this._b|0;C2[1]=C2[1]+3545052371+(C2[0]>>>0<C_[0]>>>0?1:0)|0;C2[2]=C2[2]+886263092+(C2[1]>>>0<C_[1]>>>0?1:0)|0;C2[3]=C2[3]+1295307597+(C2[2]>>>0<C_[2]>>>0?1:0)|0;C2[4]=C2[4]+3545052371+(C2[3]>>>0<C_[3]>>>0?1:0)|0;C2[5]=C2[5]+886263092+(C2[4]>>>0<C_[4]>>>0?1:0)|0;C2[6]=C2[6]+1295307597+(C2[5]>>>0<C_[5]>>>0?1:0)|0;C2[7]=C2[7]+3545052371+(C2[6]>>>0<C_[6]>>>0?1:0)|0;this._b=C2[7]>>>0<C_[7]>>>0?1:0;for(var i=0;i<8;i++){var gx=X[i]+C2[i];var ga=gx&65535;var gb=gx>>>16;var gh=((ga*ga>>>17)+ga*gb>>>15)+gb*gb;var gl=((gx&4294901760)*gx|0)+((gx&65535)*gx|0);G[i]=gh^gl}X[0]=G[0]+(G[7]<<16|G[7]>>>16)+(G[6]<<16|G[6]>>>16)|0;X[1]=G[1]+(G[0]<<8|G[0]>>>24)+G[7]|0;X[2]=G[2]+(G[1]<<16|G[1]>>>16)+(G[0]<<16|G[0]>>>16)|0;X[3]=G[3]+(G[2]<<8|G[2]>>>24)+G[1]|0;X[4]=G[4]+(G[3]<<16|G[3]>>>16)+(G[2]<<16|G[2]>>>16)|0;X[5]=G[5]+(G[4]<<8|G[4]>>>24)+G[3]|0;X[6]=G[6]+(G[5]<<16|G[5]>>>16)+(G[4]<<16|G[4]>>>16)|0;X[7]=G[7]+(G[6]<<8|G[6]>>>24)+G[5]|0}C.RabbitLegacy=StreamCipher._createHelper(RabbitLegacy)})();return CryptoJS2.RabbitLegacy})}});var require_blowfish=__commonJS({"node_modules/crypto-js/blowfish.js"(exports2,module2){(function(root,factory,undef){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core(),require_enc_base64(),require_md5(),require_evpkdf(),require_cipher_core())}else if(typeof define==="function"&&define.amd){define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(exports2,function(CryptoJS2){(function(){var C=CryptoJS2;var C_lib=C.lib;var BlockCipher=C_lib.BlockCipher;var C_algo=C.algo;const N=16;const ORIG_P=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731];const ORIG_S=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var BLOWFISH_CTX={pbox:[],sbox:[]};function F(ctx,x){let a=x>>24&255;let b=x>>16&255;let c=x>>8&255;let d=x&255;let y=ctx.sbox[0][a]+ctx.sbox[1][b];y=y^ctx.sbox[2][c];y=y+ctx.sbox[3][d];return y}function BlowFish_Encrypt(ctx,left,right){let Xl=left;let Xr=right;let temp;for(let i=0;i<N;++i){Xl=Xl^ctx.pbox[i];Xr=F(ctx,Xl)^Xr;temp=Xl;Xl=Xr;Xr=temp}temp=Xl;Xl=Xr;Xr=temp;Xr=Xr^ctx.pbox[N];Xl=Xl^ctx.pbox[N+1];return{left:Xl,right:Xr}}function BlowFish_Decrypt(ctx,left,right){let Xl=left;let Xr=right;let temp;for(let i=N+1;i>1;--i){Xl=Xl^ctx.pbox[i];Xr=F(ctx,Xl)^Xr;temp=Xl;Xl=Xr;Xr=temp}temp=Xl;Xl=Xr;Xr=temp;Xr=Xr^ctx.pbox[1];Xl=Xl^ctx.pbox[0];return{left:Xl,right:Xr}}function BlowFishInit(ctx,key,keysize){for(let Row=0;Row<4;Row++){ctx.sbox[Row]=[];for(let Col=0;Col<256;Col++){ctx.sbox[Row][Col]=ORIG_S[Row][Col]}}let keyIndex=0;for(let index=0;index<N+2;index++){ctx.pbox[index]=ORIG_P[index]^key[keyIndex];keyIndex++;if(keyIndex>=keysize){keyIndex=0}}let Data1=0;let Data2=0;let res=0;for(let i=0;i<N+2;i+=2){res=BlowFish_Encrypt(ctx,Data1,Data2);Data1=res.left;Data2=res.right;ctx.pbox[i]=Data1;ctx.pbox[i+1]=Data2}for(let i=0;i<4;i++){for(let j=0;j<256;j+=2){res=BlowFish_Encrypt(ctx,Data1,Data2);Data1=res.left;Data2=res.right;ctx.sbox[i][j]=Data1;ctx.sbox[i][j+1]=Data2}}return true}var Blowfish=C_algo.Blowfish=BlockCipher.extend({_doReset:function(){if(this._keyPriorReset===this._key){return}var key=this._keyPriorReset=this._key;var keyWords=key.words;var keySize=key.sigBytes/4;BlowFishInit(BLOWFISH_CTX,keyWords,keySize)},encryptBlock:function(M,offset){var res=BlowFish_Encrypt(BLOWFISH_CTX,M[offset],M[offset+1]);M[offset]=res.left;M[offset+1]=res.right},decryptBlock:function(M,offset){var res=BlowFish_Decrypt(BLOWFISH_CTX,M[offset],M[offset+1]);M[offset]=res.left;M[offset+1]=res.right},blockSize:64/32,keySize:128/32,ivSize:64/32});C.Blowfish=BlockCipher._createHelper(Blowfish)})();return CryptoJS2.Blowfish})}});var require_crypto_js=__commonJS({"node_modules/crypto-js/index.js"(exports2,module2){(function(root,factory,undef){if(typeof exports2==="object"){module2.exports=exports2=factory(require_core(),require_x64_core(),require_lib_typedarrays(),require_enc_utf16(),require_enc_base64(),require_enc_base64url(),require_md5(),require_sha1(),require_sha256(),require_sha224(),require_sha512(),require_sha384(),require_sha3(),require_ripemd160(),require_hmac(),require_pbkdf2(),require_evpkdf(),require_cipher_core(),require_mode_cfb(),require_mode_ctr(),require_mode_ctr_gladman(),require_mode_ofb(),require_mode_ecb(),require_pad_ansix923(),require_pad_iso10126(),require_pad_iso97971(),require_pad_zeropadding(),require_pad_nopadding(),require_format_hex(),require_aes(),require_tripledes(),require_rc4(),require_rabbit(),require_rabbit_legacy(),require_blowfish())}else if(typeof define==="function"&&define.amd){define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],factory)}else{root.CryptoJS=factory(root.CryptoJS)}})(exports2,function(CryptoJS2){return CryptoJS2})}});var require_eventemitter2=__commonJS({"node_modules/eventemitter2/lib/eventemitter2.js"(exports2,module2){!function(undefined2){var hasOwnProperty=Object.hasOwnProperty;var isArray=Array.isArray?Array.isArray:function _isArray(obj){return Object.prototype.toString.call(obj)==="[object Array]"};var defaultMaxListeners=10;var nextTickSupported=typeof process=="object"&&typeof process.nextTick=="function";var symbolsSupported=typeof Symbol==="function";var reflectSupported=typeof Reflect==="object";var setImmediateSupported=typeof setImmediate==="function";var _setImmediate=setImmediateSupported?setImmediate:setTimeout;var ownKeys=symbolsSupported?reflectSupported&&typeof Reflect.ownKeys==="function"?Reflect.ownKeys:function(obj){var arr=Object.getOwnPropertyNames(obj);arr.push.apply(arr,Object.getOwnPropertySymbols(obj));return arr}:Object.keys;function init(){this._events={};if(this._conf){configure.call(this,this._conf)}}function configure(conf){if(conf){this._conf=conf;conf.delimiter&&(this.delimiter=conf.delimiter);if(conf.maxListeners!==undefined2){this._maxListeners=conf.maxListeners}conf.wildcard&&(this.wildcard=conf.wildcard);conf.newListener&&(this._newListener=conf.newListener);conf.removeListener&&(this._removeListener=conf.removeListener);conf.verboseMemoryLeak&&(this.verboseMemoryLeak=conf.verboseMemoryLeak);conf.ignoreErrors&&(this.ignoreErrors=conf.ignoreErrors);if(this.wildcard){this.listenerTree={}}}}function logPossibleMemoryLeak(count,eventName){var errorMsg="(node) warning: possible EventEmitter memory leak detected. "+count+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak){errorMsg+=" Event name: "+eventName+"."}if(typeof process!=="undefined"&&process.emitWarning){var e=new Error(errorMsg);e.name="MaxListenersExceededWarning";e.emitter=this;e.count=count;process.emitWarning(e)}else{console.error(errorMsg);if(console.trace){console.trace()}}}var toArray=function(a,b,c){var n=arguments.length;switch(n){case 0:return[];case 1:return[a];case 2:return[a,b];case 3:return[a,b,c];default:var arr=new Array(n);while(n--){arr[n]=arguments[n]}return arr}};function toObject(keys,values){var obj={};var key;var len=keys.length;var valuesCount=values?values.length:0;for(var i=0;i<len;i++){key=keys[i];obj[key]=i<valuesCount?values[i]:undefined2}return obj}function TargetObserver(emitter,target,options){this._emitter=emitter;this._target=target;this._listeners={};this._listenersCount=0;var on2,off;if(options.on||options.off){on2=options.on;off=options.off}if(target.addEventListener){on2=target.addEventListener;off=target.removeEventListener}else if(target.addListener){on2=target.addListener;off=target.removeListener}else if(target.on){on2=target.on;off=target.off}if(!on2&&!off){throw Error("target does not implement any known event API")}if(typeof on2!=="function"){throw TypeError("on method must be a function")}if(typeof off!=="function"){throw TypeError("off method must be a function")}this._on=on2;this._off=off;var _observers=emitter._observers;if(_observers){_observers.push(this)}else{emitter._observers=[this]}}Object.assign(TargetObserver.prototype,{subscribe:function(event,localEvent,reducer){var observer=this;var target=this._target;var emitter=this._emitter;var listeners=this._listeners;var handler=function(){var args=toArray.apply(null,arguments);var eventObj={data:args,name:localEvent,original:event};if(reducer){var result=reducer.call(target,eventObj);if(result!==false){emitter.emit.apply(emitter,[eventObj.name].concat(args))}return}emitter.emit.apply(emitter,[localEvent].concat(args))};if(listeners[event]){throw Error("Event '"+event+"' is already listening")}this._listenersCount++;if(emitter._newListener&&emitter._removeListener&&!observer._onNewListener){this._onNewListener=function(_event){if(_event===localEvent&&listeners[event]===null){listeners[event]=handler;observer._on.call(target,event,handler)}};emitter.on("newListener",this._onNewListener);this._onRemoveListener=function(_event){if(_event===localEvent&&!emitter.hasListeners(_event)&&listeners[event]){listeners[event]=null;observer._off.call(target,event,handler)}};listeners[event]=null;emitter.on("removeListener",this._onRemoveListener)}else{listeners[event]=handler;observer._on.call(target,event,handler)}},unsubscribe:function(event){var observer=this;var listeners=this._listeners;var emitter=this._emitter;var handler;var events;var off=this._off;var target=this._target;var i;if(event&&typeof event!=="string"){throw TypeError("event must be a string")}function clearRefs(){if(observer._onNewListener){emitter.off("newListener",observer._onNewListener);emitter.off("removeListener",observer._onRemoveListener);observer._onNewListener=null;observer._onRemoveListener=null}var index=findTargetIndex.call(emitter,observer);emitter._observers.splice(index,1)}if(event){handler=listeners[event];if(!handler)return;off.call(target,event,handler);delete listeners[event];if(!--this._listenersCount){clearRefs()}}else{events=ownKeys(listeners);i=events.length;while(i-- >0){event=events[i];off.call(target,event,listeners[event])}this._listeners={};this._listenersCount=0;clearRefs()}}});function resolveOptions(options,schema,reducers,allowUnknown){var computedOptions=Object.assign({},schema);if(!options)return computedOptions;if(typeof options!=="object"){throw TypeError("options must be an object")}var keys=Object.keys(options);var length=keys.length;var option,value;var reducer;function reject(reason){throw Error('Invalid "'+option+'" option value'+(reason?". Reason: "+reason:""))}for(var i=0;i<length;i++){option=keys[i];if(!allowUnknown&&!hasOwnProperty.call(schema,option)){throw Error('Unknown "'+option+'" option')}value=options[option];if(value!==undefined2){reducer=reducers[option];computedOptions[option]=reducer?reducer(value,reject):value}}return computedOptions}function constructorReducer(value,reject){if(typeof value!=="function"||!value.hasOwnProperty("prototype")){reject("value must be a constructor")}return value}function makeTypeReducer(types){var message="value must be type of "+types.join("|");var len=types.length;var firstType=types[0];var secondType=types[1];if(len===1){return function(v,reject){if(typeof v===firstType){return v}reject(message)}}if(len===2){return function(v,reject){var kind=typeof v;if(kind===firstType||kind===secondType)return v;reject(message)}}return function(v,reject){var kind=typeof v;var i=len;while(i-- >0){if(kind===types[i])return v}reject(message)}}var functionReducer=makeTypeReducer(["function"]);var objectFunctionReducer=makeTypeReducer(["object","function"]);function makeCancelablePromise(Promise2,executor,options){var isCancelable;var callbacks;var timer=0;var subscriptionClosed;var promise=new Promise2(function(resolve,reject,onCancel){options=resolveOptions(options,{timeout:0,overload:false},{timeout:function(value,reject2){value*=1;if(typeof value!=="number"||value<0||!Number.isFinite(value)){reject2("timeout must be a positive number")}return value}});isCancelable=!options.overload&&typeof Promise2.prototype.cancel==="function"&&typeof onCancel==="function";function cleanup(){if(callbacks){callbacks=null}if(timer){clearTimeout(timer);timer=0}}var _resolve=function(value){cleanup();resolve(value)};var _reject=function(err){cleanup();reject(err)};if(isCancelable){executor(_resolve,_reject,onCancel)}else{callbacks=[function(reason){_reject(reason||Error("canceled"))}];executor(_resolve,_reject,function(cb){if(subscriptionClosed){throw Error("Unable to subscribe on cancel event asynchronously")}if(typeof cb!=="function"){throw TypeError("onCancel callback must be a function")}callbacks.push(cb)});subscriptionClosed=true}if(options.timeout>0){timer=setTimeout(function(){var reason=Error("timeout");reason.code="ETIMEDOUT";timer=0;promise.cancel(reason);reject(reason)},options.timeout)}});if(!isCancelable){promise.cancel=function(reason){if(!callbacks){return}var length=callbacks.length;for(var i=1;i<length;i++){callbacks[i](reason)}callbacks[0](reason);callbacks=null}}return promise}function findTargetIndex(observer){var observers=this._observers;if(!observers){return-1}var len=observers.length;for(var i=0;i<len;i++){if(observers[i]._target===observer)return i}return-1}function searchListenerTree(handlers,type,tree,i,typeLength){if(!tree){return null}if(i===0){var kind=typeof type;if(kind==="string"){var ns,n,l=0,j=0,delimiter=this.delimiter,dl=delimiter.length;if((n=type.indexOf(delimiter))!==-1){ns=new Array(5);do{ns[l++]=type.slice(j,n);j=n+dl}while((n=type.indexOf(delimiter,j))!==-1);ns[l++]=type.slice(j);type=ns;typeLength=l}else{type=[type];typeLength=1}}else if(kind==="object"){typeLength=type.length}else{type=[type];typeLength=1}}var listeners=null,branch,xTree,xxTree,isolatedBranch,endReached,currentType=type[i],nextType=type[i+1],branches,_listeners;if(i===typeLength){if(tree._listeners){if(typeof tree._listeners==="function"){handlers&&handlers.push(tree._listeners);listeners=[tree]}else{handlers&&handlers.push.apply(handlers,tree._listeners);listeners=[tree]}}}else{if(currentType==="*"){branches=ownKeys(tree);n=branches.length;while(n-- >0){branch=branches[n];if(branch!=="_listeners"){_listeners=searchListenerTree(handlers,type,tree[branch],i+1,typeLength);if(_listeners){if(listeners){listeners.push.apply(listeners,_listeners)}else{listeners=_listeners}}}}return listeners}else if(currentType==="**"){endReached=i+1===typeLength||i+2===typeLength&&nextType==="*";if(endReached&&tree._listeners){listeners=searchListenerTree(handlers,type,tree,typeLength,typeLength)}branches=ownKeys(tree);n=branches.length;while(n-- >0){branch=branches[n];if(branch!=="_listeners"){if(branch==="*"||branch==="**"){if(tree[branch]._listeners&&!endReached){_listeners=searchListenerTree(handlers,type,tree[branch],typeLength,typeLength);if(_listeners){if(listeners){listeners.push.apply(listeners,_listeners)}else{listeners=_listeners}}}_listeners=searchListenerTree(handlers,type,tree[branch],i,typeLength)}else if(branch===nextType){_listeners=searchListenerTree(handlers,type,tree[branch],i+2,typeLength)}else{_listeners=searchListenerTree(handlers,type,tree[branch],i,typeLength)}if(_listeners){if(listeners){listeners.push.apply(listeners,_listeners)}else{listeners=_listeners}}}}return listeners}else if(tree[currentType]){listeners=searchListenerTree(handlers,type,tree[currentType],i+1,typeLength)}}xTree=tree["*"];if(xTree){searchListenerTree(handlers,type,xTree,i+1,typeLength)}xxTree=tree["**"];if(xxTree){if(i<typeLength){if(xxTree._listeners){searchListenerTree(handlers,type,xxTree,typeLength,typeLength)}branches=ownKeys(xxTree);n=branches.length;while(n-- >0){branch=branches[n];if(branch!=="_listeners"){if(branch===nextType){searchListenerTree(handlers,type,xxTree[branch],i+2,typeLength)}else if(branch===currentType){searchListenerTree(handlers,type,xxTree[branch],i+1,typeLength)}else{isolatedBranch={};isolatedBranch[branch]=xxTree[branch];searchListenerTree(handlers,type,{"**":isolatedBranch},i+1,typeLength)}}}}else if(xxTree._listeners){searchListenerTree(handlers,type,xxTree,typeLength,typeLength)}else if(xxTree["*"]&&xxTree["*"]._listeners){searchListenerTree(handlers,type,xxTree["*"],typeLength,typeLength)}}return listeners}function growListenerTree(type,listener,prepend){var len=0,j=0,i,delimiter=this.delimiter,dl=delimiter.length,ns;if(typeof type==="string"){if((i=type.indexOf(delimiter))!==-1){ns=new Array(5);do{ns[len++]=type.slice(j,i);j=i+dl}while((i=type.indexOf(delimiter,j))!==-1);ns[len++]=type.slice(j)}else{ns=[type];len=1}}else{ns=type;len=type.length}if(len>1){for(i=0;i+1<len;i++){if(ns[i]==="**"&&ns[i+1]==="**"){return}}}var tree=this.listenerTree,name;for(i=0;i<len;i++){name=ns[i];tree=tree[name]||(tree[name]={});if(i===len-1){if(!tree._listeners){tree._listeners=listener}else{if(typeof tree._listeners==="function"){tree._listeners=[tree._listeners]}if(prepend){tree._listeners.unshift(listener)}else{tree._listeners.push(listener)}if(!tree._listeners.warned&&this._maxListeners>0&&tree._listeners.length>this._maxListeners){tree._listeners.warned=true;logPossibleMemoryLeak.call(this,tree._listeners.length,name)}}return true}}return true}function collectTreeEvents(tree,events,root,asArray){var branches=ownKeys(tree);var i=branches.length;var branch,branchName,path;var hasListeners=tree["_listeners"];var isArrayPath;while(i-- >0){branchName=branches[i];branch=tree[branchName];if(branchName==="_listeners"){path=root}else{path=root?root.concat(branchName):[branchName]}isArrayPath=asArray||typeof branchName==="symbol";hasListeners&&events.push(isArrayPath?path:path.join(this.delimiter));if(typeof branch==="object"){collectTreeEvents.call(this,branch,events,path,isArrayPath)}}return events}function recursivelyGarbageCollect(root){var keys=ownKeys(root);var i=keys.length;var obj,key,flag;while(i-- >0){key=keys[i];obj=root[key];if(obj){flag=true;if(key!=="_listeners"&&!recursivelyGarbageCollect(obj)){delete root[key]}}}return flag}function Listener(emitter,event,listener){this.emitter=emitter;this.event=event;this.listener=listener}Listener.prototype.off=function(){this.emitter.off(this.event,this.listener);return this};function setupListener(event,listener,options){if(options===true){promisify=true}else if(options===false){async=true}else{if(!options||typeof options!=="object"){throw TypeError("options should be an object or true")}var async=options.async;var promisify=options.promisify;var nextTick=options.nextTick;var objectify=options.objectify}if(async||nextTick||promisify){var _listener=listener;var _origin=listener._origin||listener;if(nextTick&&!nextTickSupported){throw Error("process.nextTick is not supported")}if(promisify===undefined2){promisify=listener.constructor.name==="AsyncFunction"}listener=function(){var args=arguments;var context=this;var event2=this.event;return promisify?nextTick?Promise.resolve():new Promise(function(resolve){_setImmediate(resolve)}).then(function(){context.event=event2;return _listener.apply(context,args)}):(nextTick?process.nextTick:_setImmediate)(function(){context.event=event2;_listener.apply(context,args)})};listener._async=true;listener._origin=_origin}return[listener,objectify?new Listener(this,event,listener):this]}function EventEmitter(conf){this._events={};this._newListener=false;this._removeListener=false;this.verboseMemoryLeak=false;configure.call(this,conf)}EventEmitter.EventEmitter2=EventEmitter;EventEmitter.prototype.listenTo=function(target,events,options){if(typeof target!=="object"){throw TypeError("target musts be an object")}var emitter=this;options=resolveOptions(options,{on:undefined2,off:undefined2,reducers:undefined2},{on:functionReducer,off:functionReducer,reducers:objectFunctionReducer});function listen(events2){if(typeof events2!=="object"){throw TypeError("events must be an object")}var reducers=options.reducers;var index=findTargetIndex.call(emitter,target);var observer;if(index===-1){observer=new TargetObserver(emitter,target,options)}else{observer=emitter._observers[index]}var keys=ownKeys(events2);var len=keys.length;var event;var isSingleReducer=typeof reducers==="function";for(var i=0;i<len;i++){event=keys[i];observer.subscribe(event,events2[event]||event,isSingleReducer?reducers:reducers&&reducers[event])}}isArray(events)?listen(toObject(events)):typeof events==="string"?listen(toObject(events.split(/\s+/))):listen(events);return this};EventEmitter.prototype.stopListeningTo=function(target,event){var observers=this._observers;if(!observers){return false}var i=observers.length;var observer;var matched=false;if(target&&typeof target!=="object"){throw TypeError("target should be an object")}while(i-- >0){observer=observers[i];if(!target||observer._target===target){observer.unsubscribe(event);matched=true}}return matched};EventEmitter.prototype.delimiter=".";EventEmitter.prototype.setMaxListeners=function(n){if(n!==undefined2){this._maxListeners=n;if(!this._conf)this._conf={};this._conf.maxListeners=n}};EventEmitter.prototype.getMaxListeners=function(){return this._maxListeners};EventEmitter.prototype.event="";EventEmitter.prototype.once=function(event,fn,options){return this._once(event,fn,false,options)};EventEmitter.prototype.prependOnceListener=function(event,fn,options){return this._once(event,fn,true,options)};EventEmitter.prototype._once=function(event,fn,prepend,options){return this._many(event,1,fn,prepend,options)};EventEmitter.prototype.many=function(event,ttl,fn,options){return this._many(event,ttl,fn,false,options)};EventEmitter.prototype.prependMany=function(event,ttl,fn,options){return this._many(event,ttl,fn,true,options)};EventEmitter.prototype._many=function(event,ttl,fn,prepend,options){var self2=this;if(typeof fn!=="function"){throw new Error("many only accepts instances of Function")}function listener(){if(--ttl===0){self2.off(event,listener)}return fn.apply(this,arguments)}listener._origin=fn;return this._on(event,listener,prepend,options)};EventEmitter.prototype.emit=function(){if(!this._events&&!this._all){return false}this._events||init.call(this);var type=arguments[0],ns,wildcard=this.wildcard;var args,l,i,j,containsSymbol;if(type==="newListener"&&!this._newListener){if(!this._events.newListener){return false}}if(wildcard){ns=type;if(type!=="newListener"&&type!=="removeListener"){if(typeof type==="object"){l=type.length;if(symbolsSupported){for(i=0;i<l;i++){if(typeof type[i]==="symbol"){containsSymbol=true;break}}}if(!containsSymbol){type=type.join(this.delimiter)}}}}var al=arguments.length;var handler;if(this._all&&this._all.length){handler=this._all.slice();for(i=0,l=handler.length;i<l;i++){this.event=type;switch(al){case 1:handler[i].call(this,type);break;case 2:handler[i].call(this,type,arguments[1]);break;case 3:handler[i].call(this,type,arguments[1],arguments[2]);break;default:handler[i].apply(this,arguments)}}}if(wildcard){handler=[];searchListenerTree.call(this,handler,ns,this.listenerTree,0,l)}else{handler=this._events[type];if(typeof handler==="function"){this.event=type;switch(al){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=new Array(al-1);for(j=1;j<al;j++)args[j-1]=arguments[j];handler.apply(this,args)}return true}else if(handler){handler=handler.slice()}}if(handler&&handler.length){if(al>3){args=new Array(al-1);for(j=1;j<al;j++)args[j-1]=arguments[j]}for(i=0,l=handler.length;i<l;i++){this.event=type;switch(al){case 1:handler[i].call(this);break;case 2:handler[i].call(this,arguments[1]);break;case 3:handler[i].call(this,arguments[1],arguments[2]);break;default:handler[i].apply(this,args)}}return true}else if(!this.ignoreErrors&&!this._all&&type==="error"){if(arguments[1]instanceof Error){throw arguments[1]}else{throw new Error("Uncaught, unspecified 'error' event.")}}return!!this._all};EventEmitter.prototype.emitAsync=function(){if(!this._events&&!this._all){return false}this._events||init.call(this);var type=arguments[0],wildcard=this.wildcard,ns,containsSymbol;var args,l,i,j;if(type==="newListener"&&!this._newListener){if(!this._events.newListener){return Promise.resolve([false])}}if(wildcard){ns=type;if(type!=="newListener"&&type!=="removeListener"){if(typeof type==="object"){l=type.length;if(symbolsSupported){for(i=0;i<l;i++){if(typeof type[i]==="symbol"){containsSymbol=true;break}}}if(!containsSymbol){type=type.join(this.delimiter)}}}}var promises=[];var al=arguments.length;var handler;if(this._all){for(i=0,l=this._all.length;i<l;i++){this.event=type;switch(al){case 1:promises.push(this._all[i].call(this,type));break;case 2:promises.push(this._all[i].call(this,type,arguments[1]));break;case 3:promises.push(this._all[i].call(this,type,arguments[1],arguments[2]));break;default:promises.push(this._all[i].apply(this,arguments))}}}if(wildcard){handler=[];searchListenerTree.call(this,handler,ns,this.listenerTree,0)}else{handler=this._events[type]}if(typeof handler==="function"){this.event=type;switch(al){case 1:promises.push(handler.call(this));break;case 2:promises.push(handler.call(this,arguments[1]));break;case 3:promises.push(handler.call(this,arguments[1],arguments[2]));break;default:args=new Array(al-1);for(j=1;j<al;j++)args[j-1]=arguments[j];promises.push(handler.apply(this,args))}}else if(handler&&handler.length){handler=handler.slice();if(al>3){args=new Array(al-1);for(j=1;j<al;j++)args[j-1]=arguments[j]}for(i=0,l=handler.length;i<l;i++){this.event=type;switch(al){case 1:promises.push(handler[i].call(this));break;case 2:promises.push(handler[i].call(this,arguments[1]));break;case 3:promises.push(handler[i].call(this,arguments[1],arguments[2]));break;default:promises.push(handler[i].apply(this,args))}}}else if(!this.ignoreErrors&&!this._all&&type==="error"){if(arguments[1]instanceof Error){return Promise.reject(arguments[1])}else{return Promise.reject("Uncaught, unspecified 'error' event.")}}return Promise.all(promises)};EventEmitter.prototype.on=function(type,listener,options){return this._on(type,listener,false,options)};EventEmitter.prototype.prependListener=function(type,listener,options){return this._on(type,listener,true,options)};EventEmitter.prototype.onAny=function(fn){return this._onAny(fn,false)};EventEmitter.prototype.prependAny=function(fn){return this._onAny(fn,true)};EventEmitter.prototype.addListener=EventEmitter.prototype.on;EventEmitter.prototype._onAny=function(fn,prepend){if(typeof fn!=="function"){throw new Error("onAny only accepts instances of Function")}if(!this._all){this._all=[]}if(prepend){this._all.unshift(fn)}else{this._all.push(fn)}return this};EventEmitter.prototype._on=function(type,listener,prepend,options){if(typeof type==="function"){this._onAny(type,listener);return this}if(typeof listener!=="function"){throw new Error("on only accepts instances of Function")}this._events||init.call(this);var returnValue=this,temp;if(options!==undefined2){temp=setupListener.call(this,type,listener,options);listener=temp[0];returnValue=temp[1]}if(this._newListener){this.emit("newListener",type,listener)}if(this.wildcard){growListenerTree.call(this,type,listener,prepend);return returnValue}if(!this._events[type]){this._events[type]=listener}else{if(typeof this._events[type]==="function"){this._events[type]=[this._events[type]]}if(prepend){this._events[type].unshift(listener)}else{this._events[type].push(listener)}if(!this._events[type].warned&&this._maxListeners>0&&this._events[type].length>this._maxListeners){this._events[type].warned=true;logPossibleMemoryLeak.call(this,this._events[type].length,type)}}return returnValue};EventEmitter.prototype.off=function(type,listener){if(typeof listener!=="function"){throw new Error("removeListener only takes instances of Function")}var handlers,leafs=[];if(this.wildcard){var ns=typeof type==="string"?type.split(this.delimiter):type.slice();leafs=searchListenerTree.call(this,null,ns,this.listenerTree,0);if(!leafs)return this}else{if(!this._events[type])return this;handlers=this._events[type];leafs.push({_listeners:handlers})}for(var iLeaf=0;iLeaf<leafs.length;iLeaf++){var leaf=leafs[iLeaf];handlers=leaf._listeners;if(isArray(handlers)){var position=-1;for(var i=0,length=handlers.length;i<length;i++){if(handlers[i]===listener||handlers[i].listener&&handlers[i].listener===listener||handlers[i]._origin&&handlers[i]._origin===listener){position=i;break}}if(position<0){continue}if(this.wildcard){leaf._listeners.splice(position,1)}else{this._events[type].splice(position,1)}if(handlers.length===0){if(this.wildcard){delete leaf._listeners}else{delete this._events[type]}}if(this._removeListener)this.emit("removeListener",type,listener);return this}else if(handlers===listener||handlers.listener&&handlers.listener===listener||handlers._origin&&handlers._origin===listener){if(this.wildcard){delete leaf._listeners}else{delete this._events[type]}if(this._removeListener)this.emit("removeListener",type,listener)}}this.listenerTree&&recursivelyGarbageCollect(this.listenerTree);return this};EventEmitter.prototype.offAny=function(fn){var i=0,l=0,fns;if(fn&&this._all&&this._all.length>0){fns=this._all;for(i=0,l=fns.length;i<l;i++){if(fn===fns[i]){fns.splice(i,1);if(this._removeListener)this.emit("removeListenerAny",fn);return this}}}else{fns=this._all;if(this._removeListener){for(i=0,l=fns.length;i<l;i++)this.emit("removeListenerAny",fns[i])}this._all=[]}return this};EventEmitter.prototype.removeListener=EventEmitter.prototype.off;EventEmitter.prototype.removeAllListeners=function(type){if(type===undefined2){!this._events||init.call(this);return this}if(this.wildcard){var leafs=searchListenerTree.call(this,null,type,this.listenerTree,0),leaf,i;if(!leafs)return this;for(i=0;i<leafs.length;i++){leaf=leafs[i];leaf._listeners=null}this.listenerTree&&recursivelyGarbageCollect(this.listenerTree)}else if(this._events){this._events[type]=null}return this};EventEmitter.prototype.listeners=function(type){var _events=this._events;var keys,listeners,allListeners;var i;var listenerTree;if(type===undefined2){if(this.wildcard){throw Error("event name required for wildcard emitter")}if(!_events){return[]}keys=ownKeys(_events);i=keys.length;allListeners=[];while(i-- >0){listeners=_events[keys[i]];if(typeof listeners==="function"){allListeners.push(listeners)}else{allListeners.push.apply(allListeners,listeners)}}return allListeners}else{if(this.wildcard){listenerTree=this.listenerTree;if(!listenerTree)return[];var handlers=[];var ns=typeof type==="string"?type.split(this.delimiter):type.slice();searchListenerTree.call(this,handlers,ns,listenerTree,0);return handlers}if(!_events){return[]}listeners=_events[type];if(!listeners){return[]}return typeof listeners==="function"?[listeners]:listeners}};EventEmitter.prototype.eventNames=function(nsAsArray){var _events=this._events;return this.wildcard?collectTreeEvents.call(this,this.listenerTree,[],null,nsAsArray):_events?ownKeys(_events):[]};EventEmitter.prototype.listenerCount=function(type){return this.listeners(type).length};EventEmitter.prototype.hasListeners=function(type){if(this.wildcard){var handlers=[];var ns=typeof type==="string"?type.split(this.delimiter):type.slice();searchListenerTree.call(this,handlers,ns,this.listenerTree,0);return handlers.length>0}var _events=this._events;var _all=this._all;return!!(_all&&_all.length||_events&&(type===undefined2?ownKeys(_events).length:_events[type]))};EventEmitter.prototype.listenersAny=function(){if(this._all){return this._all}else{return[]}};EventEmitter.prototype.waitFor=function(event,options){var self2=this;var type=typeof options;if(type==="number"){options={timeout:options}}else if(type==="function"){options={filter:options}}options=resolveOptions(options,{timeout:0,filter:undefined2,handleError:false,Promise,overload:false},{filter:functionReducer,Promise:constructorReducer});return makeCancelablePromise(options.Promise,function(resolve,reject,onCancel){function listener(){var filter=options.filter;if(filter&&!filter.apply(self2,arguments)){return}self2.off(event,listener);if(options.handleError){var err=arguments[0];err?reject(err):resolve(toArray.apply(null,arguments).slice(1))}else{resolve(toArray.apply(null,arguments))}}onCancel(function(){self2.off(event,listener)});self2._on(event,listener,false)},{timeout:options.timeout,overload:options.overload})};function once(emitter,name,options){options=resolveOptions(options,{Promise,timeout:0,overload:false},{Promise:constructorReducer});var _Promise=options.Promise;return makeCancelablePromise(_Promise,function(resolve,reject,onCancel){var handler;if(typeof emitter.addEventListener==="function"){handler=function(){resolve(toArray.apply(null,arguments))};onCancel(function(){emitter.removeEventListener(name,handler)});emitter.addEventListener(name,handler,{once:true});return}var eventListener=function(){errorListener&&emitter.removeListener("error",errorListener);resolve(toArray.apply(null,arguments))};var errorListener;if(name!=="error"){errorListener=function(err){emitter.removeListener(name,eventListener);reject(err)};emitter.once("error",errorListener)}onCancel(function(){errorListener&&emitter.removeListener("error",errorListener);emitter.removeListener(name,eventListener)});emitter.once(name,eventListener)},{timeout:options.timeout,overload:options.overload})}var prototype=EventEmitter.prototype;Object.defineProperties(EventEmitter,{defaultMaxListeners:{get:function(){return prototype._maxListeners},set:function(n){if(typeof n!=="number"||n<0||Number.isNaN(n)){throw TypeError("n must be a non-negative number")}prototype._maxListeners=n},enumerable:true},once:{value:once,writable:true,configurable:true}});Object.defineProperties(prototype,{_maxListeners:{value:defaultMaxListeners,writable:true,configurable:true},_observers:{value:null,writable:true,configurable:true}});if(typeof define==="function"&&define.amd){define(function(){return EventEmitter})}else if(typeof exports2==="object"){module2.exports=EventEmitter}else{var _global=new Function("","return this")();_global.EventEmitter2=EventEmitter}}()}});var Cache=class{constructor(){__publicField(this,"store",new Map)}set(key,value){this.store.set(key,value)}get(key){return this.store.get(key)}has(key){return this.store.has(key)}delete(key){return this.store.delete(key)}clear(){this.store.clear()}keys(){return Array.from(this.store.keys())}values(){return Array.from(this.store.values())}size(){return this.store.size}entries(){return Array.from(this.store.entries())}};var CryptoJS=__toESM(require_crypto_js());var WordArray=CryptoJS.lib.WordArray;WordArray.random=function(nBytes){const words=[];const iterations=nBytes+3>>>2;for(let i=0;i<iterations;i++){words.push(Math.random()*4294967296|0)}return new WordArray.init(words,nBytes)};var _CryptoHelper=class _CryptoHelper{hash(rawToken){return CryptoJS.SHA256(rawToken).toString(_CryptoHelper.hexEncoder)}encrypt(data,key){return CryptoJS.AES.encrypt(data,key).toString()}decrypt(encryptedData,key){try{const decrypted=CryptoJS.AES.decrypt(encryptedData,key);return decrypted.toString(_CryptoHelper.utf8Encoder)}catch{return null}}};__publicField(_CryptoHelper,"hexEncoder",CryptoJS.enc.Hex);__publicField(_CryptoHelper,"utf8Encoder",CryptoJS.enc.Utf8);var CryptoHelper=_CryptoHelper;var SecureEventManager=class{constructor(){__publicField(this,"cryptoHelper");__publicField(this,"obfuscatedEvents",new Cache);__publicField(this,"secretKey");__publicField(this,"cachedKey");__publicField(this,"sessionToken");__publicField(this,"lastEventId",1);__publicField(this,"lastServerEventId",0);this.cryptoHelper=new CryptoHelper;this.secretKey=GetConvar("sv_eventKey","SECURE_EVENT_KEY");this.cachedKey="";this.sessionToken="";this.generateEncryptionKey();this.onSecureNet("Client:SecureEvent:SessionToken",this.receiveSessionToken.bind(this))}onSecureNet(eventName,callback){const obfuscatedName=this.getObfuscatedEventName(eventName);onNet(obfuscatedName,encryptedPayload=>{if(obfuscatedName===this.getObfuscatedEventName("Client:SecureEvent:SessionToken")){return callback(encryptedPayload)}const decryptedPayload=this.cryptoHelper.decrypt(encryptedPayload,`${this.cachedKey}:${this.sessionToken}`);if(!decryptedPayload)return;const parsedPayload=JSON.parse(decryptedPayload);if(!this.validateEventData(parsedPayload))return;if(parsedPayload.sessionToken!==this.sessionToken)return;if(parsedPayload.eventId<=this.lastServerEventId)return;this.lastServerEventId=parsedPayload.eventId;callback(...parsedPayload.payload)})}emitSecureNet(eventName,...payload){if(!eventName)return;try{const secureData={eventId:++this.lastEventId,eventName,payload,timestamp:Date.now(),sessionToken:this.sessionToken};const encryption=this.cryptoHelper.encrypt(JSON.stringify(secureData),`${this.cachedKey}:${this.sessionToken}`);const obfuscatedEventName=this.getObfuscatedEventName(eventName);emitNet(obfuscatedEventName,encryption)}catch{return}}validateEventData(data){return data&&typeof data.eventId==="number"&&typeof data.sessionToken==="string"&&typeof data.timestamp==="number"&&data.payload!==void 0}receiveSessionToken(token){const decryptedToken=this.cryptoHelper.decrypt(token,this.cachedKey);if(!decryptedToken)return;this.sessionToken=decryptedToken;this.lastServerEventId=0}generateEncryptionKey(){if(!this.cachedKey){this.cachedKey=this.cryptoHelper.hash(this.secretKey)}return this.cachedKey}createObfuscatedEventName(eventName){const obfuscatedName=this.cryptoHelper.hash(`${eventName}:${this.cachedKey}`);this.obfuscatedEvents.set(eventName,obfuscatedName);return obfuscatedName}getObfuscatedEventName(eventName){if(this.obfuscatedEvents.has(eventName)){return this.obfuscatedEvents.get(eventName)}return this.createObfuscatedEventName(eventName)}isEventManagerReady(){return this.sessionToken.length>0}};var secureEventManager=new SecureEventManager;var TickSystem=class{constructor(){__publicField(this,"ticks",[]);this.initializeMainTick()}initializeMainTick(){setTick(()=>{for(const tick of this.ticks){tick()}})}registerTick(tick){this.ticks.push(tick)}};var tickSystem=new TickSystem;var Vector3=class _Vector3{constructor(x,y,z){__publicField(this,"x");__publicField(this,"y");__publicField(this,"z");this.x=x;this.y=y;this.z=z}add(other){return new _Vector3(this.x+other.x,this.y+other.y,this.z+other.z)}subtract(other){return new _Vector3(this.x-other.x,this.y-other.y,this.z-other.z)}distanceTo(other){const dx=this.x-other.x;const dy=this.y-other.y;const dz=this.z-other.z;return Math.sqrt(dx*dx+dy*dy+dz*dz)}};var EntityTypeId={["colshape"]:0,["vehicle"]:1,["lock"]:2,["container"]:3,["textlabel"]:4,["marker"]:5,["ped"]:6,["object"]:7};function getEntityTypeKey(type){return`${type}s`}var SpatialGrid=class{constructor(gridSize=100){__publicField(this,"grid",new Map);__publicField(this,"entities",new Map);__publicField(this,"invGridSize");__publicField(this,"cellsPool",[]);this.invGridSize=1/gridSize;for(let i=0;i<10;i++){this.cellsPool.push([])}}getEntityKey(type,id){return EntityTypeId[type]<<24|id&16777215}getCellKey(x,y){return(x&65535)<<16|y&65535}getCell(x,y){const key=this.getCellKey(x,y);let cell=this.grid.get(key);if(!cell){cell={colshapes:new Set,vehicles:new Set,locks:new Set,containers:new Set,textlabels:new Set,markers:new Set,peds:new Set,objects:new Set};this.grid.set(key,cell)}return cell}getCellsForEntity(position,radius){const minCellX=Math.floor((position.x-radius)*this.invGridSize);const maxCellX=Math.floor((position.x+radius)*this.invGridSize);const minCellY=Math.floor((position.y-radius)*this.invGridSize);const maxCellY=Math.floor((position.y+radius)*this.invGridSize);const cells=this.getPooledCells();for(let cellX=minCellX;cellX<=maxCellX;cellX++){for(let cellY=minCellY;cellY<=maxCellY;cellY++){cells.push([cellX,cellY])}}return cells}getPooledCells(){const cells=this.cellsPool.pop()||[];cells.length=0;return cells}returnCellsToPool(cells){if(this.cellsPool.length<20){cells.length=0;this.cellsPool.push(cells)}}copyVector3(position){return new Vector3(position.x,position.y,position.z)}getNearbyCells(position){const cellX=Math.floor(position.x*this.invGridSize);const cellY=Math.floor(position.y*this.invGridSize);const cells=this.getPooledCells();cells[0]=[cellX,cellY];cells[1]=[cellX+1,cellY];cells[2]=[cellX-1,cellY];cells[3]=[cellX,cellY+1];cells[4]=[cellX,cellY-1];cells[5]=[cellX+1,cellY+1];cells[6]=[cellX-1,cellY-1];cells[7]=[cellX+1,cellY-1];cells[8]=[cellX-1,cellY+1];cells.length=9;return cells}addEntity(type,id,position,radius){const entityKey=this.getEntityKey(type,id);const entity={id,position:this.copyVector3(position),radius};this.removeEntity(type,id);this.entities.set(entityKey,entity);this.addEntityToCells(type,id,position,radius)}processEntityCells(type,id,position,radius,operation){const cells=this.getCellsForEntity(position,radius);const typeKey=getEntityTypeKey(type);for(const[cellX,cellY]of cells){const cell=this.getCell(cellX,cellY);if(operation==="add"){cell[typeKey].add(id)}else{cell[typeKey].delete(id)}}this.returnCellsToPool(cells)}addEntityToCells(type,id,position,radius){this.processEntityCells(type,id,position,radius,"add")}removeEntity(type,id){const entityKey=this.getEntityKey(type,id);const entity=this.entities.get(entityKey);if(!entity)return;this.removeEntityFromCells(type,id,entity.position,entity.radius);this.entities.delete(entityKey)}removeEntityFromCells(type,id,position,radius){this.processEntityCells(type,id,position,radius,"remove")}updateEntity(type,id,newPosition){const entityKey=this.getEntityKey(type,id);const entity=this.entities.get(entityKey);if(!entity)return;const dx=newPosition.x-entity.position.x;const dy=newPosition.y-entity.position.y;const distanceSquared=dx*dx+dy*dy;if(distanceSquared<1)return;this.removeEntityFromCells(type,id,entity.position,entity.radius);const updatedEntity={...entity,position:this.copyVector3(newPosition)};this.entities.set(entityKey,updatedEntity);this.addEntityToCells(type,id,newPosition,entity.radius)}getNearbyEntities(position,type){const result=[];const nearbyCells=this.getNearbyCells(position);const processedIds=new Set;const typeKey=getEntityTypeKey(type);for(let i=0;i<nearbyCells.length;i++){const[cellX,cellY]=nearbyCells[i];const cellKey=this.getCellKey(cellX,cellY);const cell=this.grid.get(cellKey);if(!cell)continue;const entitySet=cell[typeKey];for(const id of entitySet){const entityKey=this.getEntityKey(type,id);if(processedIds.has(entityKey))continue;processedIds.add(entityKey);const entity=this.entities.get(entityKey);if(entity){result.push(entity)}}}this.returnCellsToPool(nearbyCells);return result}getEntitiesInRadius(position,radius,type){const nearby=this.getNearbyEntities(position,type);const result=[];const radiusSquared=radius*radius;const px=position.x;const py=position.y;const pz=position.z;for(let i=0;i<nearby.length;i++){const entity=nearby[i];const dx=px-entity.position.x;const dy=py-entity.position.y;const dz=pz-entity.position.z;const distanceSquared=dx*dx+dy*dy+dz*dz;if(distanceSquared<=radiusSquared){result.push(entity)}}return result}};var spatialGrid=new SpatialGrid(100);var EntityCacheManager=class{constructor(){__publicField(this,"cache",new Map);__publicField(this,"lastPlayerPosition",new Vector3(0,0,0));__publicField(this,"cacheValidityRadius",5);__publicField(this,"updateCounter",0)}copyVector3(position){return new Vector3(position.x,position.y,position.z)}getOrCreateCache(type){let cacheData=this.cache.get(type);if(!cacheData){cacheData={nearby:[],inRadius:new Map,lastUpdate:-1,lastPosition:new Vector3(0,0,0)};this.cache.set(type,cacheData)}return cacheData}shouldUpdateCache(cacheData,currentPosition){if(cacheData.lastUpdate!==this.updateCounter)return true;const dx=currentPosition.x-cacheData.lastPosition.x;const dy=currentPosition.y-cacheData.lastPosition.y;const distanceSquared=dx*dx+dy*dy;return distanceSquared>this.cacheValidityRadius*this.cacheValidityRadius}updatePlayerPosition(position){this.lastPlayerPosition=this.copyVector3(position);this.updateCounter++}getNearbyEntities(type){const cacheData=this.getOrCreateCache(type);if(this.shouldUpdateCache(cacheData,this.lastPlayerPosition)){const nearby=spatialGrid.getNearbyEntities(this.lastPlayerPosition,type);cacheData.nearby.length=0;cacheData.nearby.push(...nearby);cacheData.lastUpdate=this.updateCounter;cacheData.lastPosition=this.copyVector3(this.lastPlayerPosition);cacheData.inRadius.clear()}return cacheData.nearby}getEntitiesInRadius(radius,type){const cacheData=this.getOrCreateCache(type);let radiusCache=cacheData.inRadius.get(radius);if(!radiusCache||this.shouldUpdateCache(cacheData,this.lastPlayerPosition)){const entitiesInRadius=spatialGrid.getEntitiesInRadius(this.lastPlayerPosition,radius,type);radiusCache=[...entitiesInRadius];cacheData.inRadius.set(radius,radiusCache);cacheData.lastUpdate=this.updateCounter;cacheData.lastPosition=this.copyVector3(this.lastPlayerPosition)}return radiusCache}invalidateCache(){for(const cacheData of this.cache.values()){cacheData.lastUpdate=-1;cacheData.inRadius.clear()}}getStats(){return{totalCacheEntries:this.cache.size,updateCounter:this.updateCounter,lastPosition:this.lastPlayerPosition,cacheKeys:Array.from(this.cache.keys())}}};var entityCacheManager=new EntityCacheManager;var ScheduleSystem=class{constructor(){__publicField(this,"intervals",[]);__publicField(this,"intervalId",null);this.initializeScheduler()}initializeScheduler(){this.intervalId=setInterval(()=>{const coords=GetEntityCoords(PlayerPedId(),true);const playerPosition=new Vector3(coords[0],coords[1],coords[2]);entityCacheManager.updatePlayerPosition(playerPosition);this.intervals.forEach(interval=>interval())},200)}registerInterval(interval){this.intervals.push(interval)}removeInterval(interval){const index=this.intervals.indexOf(interval);if(index>-1){this.intervals.splice(index,1)}}getIntervalCount(){return this.intervals.length}clearAllIntervals(){this.intervals=[]}destroy(){if(this.intervalId){clearInterval(this.intervalId);this.intervalId=null}this.clearAllIntervals()}};var scheduleSystem=new ScheduleSystem;var CameraManager=class{constructor(){__publicField(this,"initialYPos",0);__publicField(this,"cam",null)}isCameraActive(){return this.cam!==null&&DoesCamExist(this.cam)}createPlayerCamera(offset,fov){if(this.isCameraActive()){this.destroyCamera()}const playerPed=PlayerPedId();const playerPos=GetEntityCoords(playerPed,true);const playerHeading=GetEntityHeading(playerPed);const camOffset=offset||{x:0,y:-2,z:0};const camFov=fov||60;const headingRad=(playerHeading+180)*Math.PI/180;const camX=playerPos[0]-Math.sin(headingRad)*camOffset.y+Math.cos(headingRad)*camOffset.x;const camY=playerPos[1]+Math.cos(headingRad)*camOffset.y+Math.sin(headingRad)*camOffset.x;const camZ=playerPos[2]+camOffset.z;this.initialYPos=camY;this.cam=CreateCam("DEFAULT_SCRIPTED_CAMERA",true);SetCamCoord(this.cam,camX,camY,camZ);PointCamAtEntity(this.cam,playerPed,0,0,0,true);SetCamFov(this.cam,camFov);SetCamActive(this.cam,true);RenderScriptCams(true,true,1e3,true,false);FreezeEntityPosition(playerPed,true)}setCameraFov(fov){if(!this.cam||!DoesCamExist(this.cam)){return}SetCamFov(this.cam,fov)}pointAtFace(){if(!this.cam||!DoesCamExist(this.cam)){return}const playerPed=PlayerPedId();PointCamAtEntity(this.cam,playerPed,0,0,.7,true)}pointAtBody(){if(!this.cam||!DoesCamExist(this.cam)){return}const playerPed=PlayerPedId();PointCamAtEntity(this.cam,playerPed,0,0,0,true)}destroyCamera(){if(this.cam&&DoesCamExist(this.cam)){DestroyCam(this.cam,false);this.cam=null;RenderScriptCams(false,true,1e3,true,false);FreezeEntityPosition(PlayerPedId(),false)}}};var cameraManager=new CameraManager;var NuiManager=class{constructor(){__publicField(this,"viewName","");__publicField(this,"rateLimitMap",new Map);__publicField(this,"BASE_RATE_LIMIT_MS",150);__publicField(this,"MAX_RATE_LIMIT_MS",5e3);__publicField(this,"TIMEOUT_INCREASE_FACTOR",1.2);__publicField(this,"COOLDOWN_PERIOD_MS",2e3);this.registerEvents();this.closeESC();this.toggleNuiRender()}registerEvents(){secureEventManager.onSecureNet("Client:Web:Emit",this.emitNui.bind(this));secureEventManager.onSecureNet("Client:Router:Change",this.setView.bind(this));this.onNui("Client:Web:EmitServer",this.emitServer.bind(this));this.onNui("Client:Web:CloseViews",this.closeViews.bind(this))}onNui(eventName,handler){RegisterNuiCallback(eventName,(args,cb)=>{if(handler){if(Array.isArray(args)){handler(...args)}else{handler(args)}}cb({success:true})})}emitNui(eventName,...args){SendNUIMessage({action:eventName,data:args[0]})}emitServer(eventName,...args){if(!this.checkRateLimit(eventName))return;secureEventManager.emitSecureNet(eventName,...args)}checkRateLimit(eventName){const now=Date.now();const limitData=this.rateLimitMap.get(eventName);if(!limitData){this.rateLimitMap.set(eventName,{lastCall:now,consecutiveCalls:1,timeout:this.BASE_RATE_LIMIT_MS});return true}const timeSinceLastCall=now-limitData.lastCall;if(timeSinceLastCall>=this.COOLDOWN_PERIOD_MS){limitData.consecutiveCalls=1;limitData.timeout=this.BASE_RATE_LIMIT_MS;limitData.lastCall=now;return true}if(timeSinceLastCall<limitData.timeout){limitData.consecutiveCalls++;limitData.timeout=Math.min(this.BASE_RATE_LIMIT_MS*Math.pow(this.TIMEOUT_INCREASE_FACTOR,limitData.consecutiveCalls-1),this.MAX_RATE_LIMIT_MS);console.warn(`[RateLimit] Event "${eventName}" blocked. Consecutive calls: ${limitData.consecutiveCalls}, Next timeout: ${Math.round(limitData.timeout)}ms`);return false}limitData.lastCall=now;return true}setView(viewName){this.viewName=viewName;this.emitNui("Web:Router:Change",viewName);const state=!this.viewName?false:true;SetNuiFocus(state,state);SetNuiFocusKeepInput(true)}closeViews(){if(cameraManager.isCameraActive()){cameraManager.destroyCamera()}if(this.viewName==="clothingshop"){this.emitServer("Server:ClothingShop:Leave")}else if(this.viewName==="hairshop"){this.emitServer("Server:HairShop:Leave")}else if(this.viewName==="tattooshop"){this.emitServer("Server:TattooShop:Leave")}else if(this.viewName==="charactercreator"){this.emitServer("Server:Cosmetic:Leave");return}else if(this.viewName==="phone"){this.emitNui("Web:Phone:Show",false)}else if(this.viewName==="laptop"){this.emitNui("Web:Laptop:Show",false)}else if(this.viewName==="radio"){this.emitNui("Web:Radio:Show",{mode:"off",favorites:[0,0,0,0],isOpen:false})}this.setView("")}closeESC(){tickSystem.registerTick(()=>{if(this.viewName){DisableAllControlActions(0);EnableControlAction(0,200,true);if(IsPauseMenuActive()){SetPauseMenuActive(false);SetFrontendActive(false)}if(this.viewName==="nativemenu"){EnableAllControlActions(0)}if(IsControlJustReleased(0,200)){if(this.viewName==="dialog"||this.viewName==="charactercreator")return;this.closeViews()}}})}getCurrentView(){return this.viewName}isViewOpen(){return this.viewName!==""}setPhoneState(isOpen){this.viewName=isOpen?"phone":"";SetNuiFocus(isOpen,isOpen);SetNuiFocusKeepInput(isOpen)}setLaptopState(isOpen){if(isOpen){this.setView("laptop")}else{this.closeViews()}}setRadioState(isOpen){this.viewName=isOpen?"radio":"";SetNuiFocus(isOpen,isOpen);SetNuiFocusKeepInput(isOpen)}toggleNuiRender(){const event="Web:Router:ToggleRender";let lastState=null;tickSystem.registerTick(()=>{const isMenuActive=IsPauseMenuActive();if(isMenuActive!==lastState){lastState=isMenuActive;this.emitNui(event,!isMenuActive)}})}};var nuiManager=new NuiManager;var InputSystem=class{constructor(){__publicField(this,"keyBindings",new Map)}registerKey(key,commandString,description,callback){const binding={key,commandString,description,callback};RegisterKeyMapping(commandString,description,"keyboard",key);RegisterCommand(commandString,()=>{if(IsPauseMenuActive()||nuiManager.viewName)return;callback()},false);this.keyBindings.set(commandString,binding)}};var inputSystem=new InputSystem;var PlayerPoolManager=class{constructor(){__publicField(this,"playerPool",new Cache);this.registerSchedule()}registerSchedule(){scheduleSystem.registerInterval(this.updatePlayerPool.bind(this))}updatePlayerPool(){const pool=GetGamePool("CPed");const players=new Set(pool.filter(ped=>IsPedAPlayer(ped)));for(const player of this.playerPool.keys()){if(!players.has(player)){this.playerPool.delete(player)}}for(const player of players){this.playerPool.set(player,this.getNameFromPed(player))}}getPlayerPool(){return this.playerPool.keys()}getPlayerName(pedId){return this.playerPool.get(pedId)}getNameFromPed(pedId){return Entity(pedId).state.username||`${GetPlayerServerId(PlayerId())}`}};var playerPoolManager=new PlayerPoolManager;var SpawnManager=class{constructor(){__publicField(this,"spawned",false);this.registerEvents();this.loadPlayer()}registerEvents(){secureEventManager.onSecureNet("Client:Spawn:SpawnPlayer",this.spawnPlayer.bind(this));secureEventManager.onSecureNet("Client:Spawn:LoadPlayer",this.loadPlayer.bind(this))}isSpawned(){return this.spawned}spawnPlayer(){const currentCoords=GetEntityCoords(PlayerPedId(),false);this.setPedStats();RequestCollisionAtCoord(currentCoords[0],currentCoords[1],currentCoords[2]);SetPedSuffersCriticalHits(PlayerPedId(),false);DisableIdleCamera(true);SetMaxWantedLevel(0);SetEntityInvincible(PlayerPedId(),false);NetworkSetFriendlyFireOption(true);SetCanAttackFriendly(PlayerPedId(),false,false);SetPedDropsWeaponsWhenDead(PlayerPedId(),false);SetPlayerHealthRechargeMultiplier(PlayerId(),0);setTimeout(()=>{FreezeEntityPosition(PlayerPedId(),false);ClearPedTasksImmediately(PlayerPedId());SetPedToRagdoll(PlayerPedId(),1,1,0,false,false,false);ClearPedTasksImmediately(PlayerPedId());ClearPedTasks(PlayerPedId());this.spawned=true;ShutdownLoadingScreen()},500)}async loadPlayer(){FreezeEntityPosition(PlayerPedId(),true);ClearAllPedProps(PlayerPedId());const maleModel=GetHashKey("mp_m_freemode_01");const femaleModel=GetHashKey("mp_f_freemode_01");RequestModel(maleModel);RequestModel(femaleModel);while(!HasModelLoaded(maleModel)||!HasModelLoaded(femaleModel)){await new Promise(resolve=>setTimeout(resolve,1))}while(!secureEventManager.isEventManagerReady()){await new Promise(resolve=>setTimeout(resolve,5))}secureEventManager.emitSecureNet("Server:Player:Spawn",Date.now())}setPedStats(){const playerPed=PlayerPedId();StatSetInt(GetHashKey("MP0_STAMINA"),100,true);StatSetInt(GetHashKey("MP0_STRENGTH"),100,true);StatSetInt(GetHashKey("MP0_LUNG_CAPACITY"),100,true);StatSetInt(GetHashKey("MP0_WHEELIE_ABILITY"),100,true);StatSetInt(GetHashKey("MP0_FLYING_ABILITY"),100,true);StatSetInt(GetHashKey("MP0_SHOOTING_ABILITY"),100,true);StatSetInt(GetHashKey("MP0_STEALTH_ABILITY"),100,true);SetPedConfigFlag(playerPed,2,true);SetPedConfigFlag(playerPed,14,true);SetPedConfigFlag(playerPed,22,true);SetPedConfigFlag(playerPed,429,true);SetPedConfigFlag(playerPed,438,true);SetPedConfigFlag(playerPed,241,true);SetPedConfigFlag(playerPed,184,true);SetPedCanLosePropsOnDamage(playerPed,false,0);weaponManager.setMeleeDamageModifier();ReplaceHudColourWithRgba(143,10,110,189,180);ReplaceHudColourWithRgba(116,10,110,189,180)}resetSpawnState(){this.spawned=false;FreezeEntityPosition(PlayerPedId(),true)}getPlayerPed(){return PlayerPedId()}};var spawnManager=new SpawnManager;var AmmoModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",1e3);__publicField(this,"ignoredWeapons",[GetHashKey("WEAPON_FLARE"),GetHashKey("WEAPON_STUNGUN")]);this.detectionCount=0;this.lastDetection=0}async initialize(){return}async performCheck(context){const detections=[];const currentTime=GetGameTimer();if(currentTime-this.lastDetection<this.checkInterval){return detections}this.lastDetection=currentTime;const ped=context.ped;SetPedInfiniteAmmoClip(ped,false);if(IsPedArmed(ped,6)){const weaponHash=context.currentWeapon;const[_maxAmmoSuccess,maxAmmo]=GetMaxAmmo(ped,weaponHash);const totalAmmo=context.currentAmmo;if(totalAmmo>maxAmmo||totalAmmo==-1&&!this.ignoredWeapons.includes(weaponHash)){SetPedAmmo(ped,weaponHash,0);RemoveWeaponFromPed(ped,weaponHash);this.detectionCount+=1;detections.push({module:"AmmoModule",severity:3,timestamp:this.lastDetection,reason:`Player has an invalid amount of ammo: ${totalAmmo} (max: ${maxAmmo})`,details:{weaponHash,totalAmmo,maxAmmo}})}}return detections}};var ExplosiveWeaponModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",1e3);__publicField(this,"explosionHash",GetHashKey("WEAPON_EXPLOSION"));this.detectionCount=0;this.lastDetection=0}async initialize(){return}async performCheck(context){const detections=[];const currentTime=GetGameTimer();if(currentTime-this.lastDetection<this.checkInterval){return detections}this.lastDetection=currentTime;const checkModifiedWeaponsDetection=this.checkModifiedWeapon(context.currentWeapon);if(checkModifiedWeaponsDetection){detections.push(checkModifiedWeaponsDetection)}return detections}checkModifiedWeapon(weaponHash){SetWeaponDamageModifier(this.explosionHash,0);const damageType=GetWeaponDamageType(weaponHash);if(damageType===4||damageType===5||damageType===6||damageType===13){return{module:"ExplosiveWeaponModule",severity:1,timestamp:this.lastDetection,reason:`Player is using a weapon with explosive damage type: ${damageType}`,details:{weaponHash,damageType}}}return null}};function dotProduct(a,b){return a.x*b.x+a.y*b.y+a.z*b.z}function normalize(a){const m=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z);return m===0?{x:0,y:0,z:0}:{x:a.x/m,y:a.y/m,z:a.z/m}}function normalizeVector(v){const len=vectorLength(v);if(len===0)return new Vector3(0,0,0);return new Vector3(v.x/len,v.y/len,v.z/len)}function vectorLength(v){return Math.sqrt(v.x*v.x+v.y*v.y+v.z*v.z)}function getDirectionFromRotation(rot){const pitch=typeof rot==="object"&&"x"in rot?rot.x*Math.PI/180:rot[0]*Math.PI/180;const yaw=typeof rot==="object"&&"z"in rot?rot.z*Math.PI/180:rot[2]*Math.PI/180;const x=-Math.sin(yaw)*Math.cos(pitch);const y=Math.cos(yaw)*Math.cos(pitch);const z=Math.sin(pitch);return{x,y,z}}function raycastWithEntity(from,to){const handle=StartShapeTestRay(from.x,from.y,from.z,to.x,to.y,to.z,-1,PlayerPedId(),0);const result=GetShapeTestResult(handle);const hit=!!result[1];const hitPosArr=result[2];const hitPos=[hitPosArr[0]??0,hitPosArr[1]??0,hitPosArr[2]??0];const hitEntity=result[4]??null;return[hit,hitPos,hitEntity]}function isPlayerInAimDirection(origin,direction,maxDistance,angleTolerance){for(const ped of playerPoolManager.getPlayerPool()){if(ped===PlayerPedId())continue;const pos=GetEntityCoords(ped,false);const toTarget=new Vector3(pos[0]-origin.x,pos[1]-origin.y,pos[2]-origin.z);const dist=vectorLength(toTarget);if(dist>maxDistance)continue;const normToTarget=normalizeVector(toTarget);const dot=dotProduct(direction,normToTarget);const angle=Math.acos(Math.max(-1,Math.min(1,dot)))*(180/Math.PI);if(angle<angleTolerance){return true}}return false}var boneNames=new Cache;boneNames.set(0,"SKEL_ROOT");boneNames.set(1356,"FB_R_Brow_Out_000");boneNames.set(2108,"SKEL_L_Toe0");boneNames.set(2992,"MH_R_Elbow");boneNames.set(4089,"SKEL_L_Finger01");boneNames.set(4090,"SKEL_L_Finger02");boneNames.set(4137,"SKEL_L_Finger31");boneNames.set(4138,"SKEL_L_Finger32");boneNames.set(4153,"SKEL_L_Finger41");boneNames.set(4154,"SKEL_L_Finger42");boneNames.set(4169,"SKEL_L_Finger11");boneNames.set(4170,"SKEL_L_Finger12");boneNames.set(4185,"SKEL_L_Finger21");boneNames.set(4186,"SKEL_L_Finger22");boneNames.set(5232,"RB_L_ArmRoll");boneNames.set(6286,"IK_R_Hand");boneNames.set(6442,"RB_R_ThighRoll");boneNames.set(10706,"SKEL_R_Clavicle");boneNames.set(11174,"FB_R_Lip_Corner_000");boneNames.set(11816,"SKEL_Pelvis");boneNames.set(12844,"IK_Head");boneNames.set(14201,"SKEL_L_Foot");boneNames.set(16335,"MH_R_Knee");boneNames.set(17188,"FB_LowerLipRoot_000");boneNames.set(17719,"FB_R_Lip_Top_000");boneNames.set(18905,"SKEL_L_Hand");boneNames.set(19336,"FB_R_CheekBone_000");boneNames.set(20178,"FB_UpperLipRoot_000");boneNames.set(20279,"FB_L_Lip_Top_000");boneNames.set(20623,"FB_LowerLip_000");boneNames.set(20781,"SKEL_R_Toe0");boneNames.set(21550,"FB_L_CheekBone_000");boneNames.set(22711,"MH_L_Elbow");boneNames.set(23553,"SKEL_Spine0");boneNames.set(23639,"RB_L_ThighRoll");boneNames.set(24806,"PH_R_Foot");boneNames.set(24816,"SKEL_Spine1");boneNames.set(24817,"SKEL_Spine2");boneNames.set(24818,"SKEL_Spine3");boneNames.set(25260,"FB_L_Eye_000");boneNames.set(26610,"SKEL_L_Finger00");boneNames.set(26611,"SKEL_L_Finger10");boneNames.set(26612,"SKEL_L_Finger20");boneNames.set(26613,"SKEL_L_Finger30");boneNames.set(26614,"SKEL_L_Finger40");boneNames.set(27474,"FB_R_Eye_000");boneNames.set(28252,"SKEL_R_Forearm");boneNames.set(28422,"PH_R_Hand");boneNames.set(29868,"FB_L_Lip_Corner_000");boneNames.set(31086,"SKEL_Head");boneNames.set(35502,"IK_R_Foot");boneNames.set(35731,"RB_Neck_1");boneNames.set(36029,"IK_L_Hand");boneNames.set(36864,"SKEL_R_Calf");boneNames.set(37119,"RB_R_ArmRoll");boneNames.set(37193,"FB_Brow_Centre_000");boneNames.set(39317,"SKEL_Neck_1");boneNames.set(40269,"SKEL_R_UpperArm");boneNames.set(43536,"FB_R_Lid_Upper_000");boneNames.set(43810,"RB_R_ForeArmRoll");boneNames.set(45509,"SKEL_L_UpperArm");boneNames.set(45750,"FB_L_Lid_Upper_000");boneNames.set(46078,"MH_L_Knee");boneNames.set(46240,"FB_Jaw_000");boneNames.set(47419,"FB_L_Lip_Bot_000");boneNames.set(47495,"FB_Tongue_000");boneNames.set(49979,"FB_R_Lip_Bot_000");boneNames.set(51826,"SKEL_R_Thigh");boneNames.set(52301,"SKEL_R_Foot");boneNames.set(56604,"IK_Root");boneNames.set(57005,"SKEL_R_Hand");boneNames.set(57597,"SKEL_Spine_Root");boneNames.set(57717,"PH_L_Foot");boneNames.set(58271,"SKEL_L_Thigh");boneNames.set(58331,"FB_L_Brow_Out_000");boneNames.set(58866,"SKEL_R_Finger00");boneNames.set(58867,"SKEL_R_Finger10");boneNames.set(58868,"SKEL_R_Finger20");boneNames.set(58869,"SKEL_R_Finger30");boneNames.set(58870,"SKEL_R_Finger40");boneNames.set(60309,"PH_L_Hand");boneNames.set(61007,"RB_L_ForeArmRoll");boneNames.set(61163,"SKEL_L_Forearm");boneNames.set(61839,"FB_UpperLip_000");boneNames.set(63931,"SKEL_L_Calf");boneNames.set(64016,"SKEL_R_Finger01");boneNames.set(64017,"SKEL_R_Finger02");boneNames.set(64064,"SKEL_R_Finger31");boneNames.set(64065,"SKEL_R_Finger32");boneNames.set(64080,"SKEL_R_Finger41");boneNames.set(64081,"SKEL_R_Finger42");boneNames.set(64096,"SKEL_R_Finger11");boneNames.set(64097,"SKEL_R_Finger12");boneNames.set(64112,"SKEL_R_Finger21");boneNames.set(64113,"SKEL_R_Finger22");boneNames.set(64729,"SKEL_L_Clavicle");boneNames.set(65068,"FACIAL_facialRoot");boneNames.set(65245,"IK_L_Foot");var SilentAimModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",1e3);__publicField(this,"lastShotTime",0);__publicField(this,"silentSendInterval",5e3);__publicField(this,"shotLog",[]);__publicField(this,"shotEvents",[]);__publicField(this,"damageEvents",[]);__publicField(this,"matchingTimeWindow",80);this.detectionCount=0;this.lastDetection=0}async initialize(){on("CEventGunShot",this.onGunShot.bind(this));on("entityDamaged",this.onEntityDamaged.bind(this));return}async performCheck(context){const detections=[];const currentTime=GetGameTimer();if(currentTime-this.lastDetection<this.checkInterval){return detections}this.lastDetection=currentTime;this.matchShotsAndDamage();this.cleanupOldEvents();if(this.shotLog.length>0&&currentTime-this.lastShotTime>this.silentSendInterval){secureEventManager.emitSecureNet("Server:Weapon:Stats",this.shotLog);this.shotLog.length=0;this.lastShotTime=currentTime}const silentAimDetection=this.checkSilentAimModel(context.model);if(silentAimDetection){detections.push(silentAimDetection)}return detections}matchShotsAndDamage(){const now=Date.now();for(const shot of this.shotEvents){if(shot.matched)continue;let bestMatch=null;for(const damage of this.damageEvents){if(damage.matched)continue;const timeDiff=Math.abs(shot.timestamp-damage.timestamp);if(timeDiff>this.matchingTimeWindow)continue;if(shot.weaponHash!==damage.weaponHash)continue;const score=timeDiff;if(bestMatch===null||score<bestMatch.score){bestMatch={damage,score}}}if(bestMatch!==null){this.createShotLog(shot,bestMatch.damage);shot.matched=true;bestMatch.damage.matched=true}else if(now-shot.timestamp>this.matchingTimeWindow){this.createShotLog(shot,null);shot.matched=true}}for(const damage of this.damageEvents){if(!damage.matched&&now-damage.timestamp>this.matchingTimeWindow*2){damage.matched=true}}}createShotLog(shot,damage){this.shotLog.push({shotSend:shot.timestamp,shotReceived:damage?.timestamp??null,hit:damage!==null,shouldHit:shot.shouldHit,aimingOnTarget:shot.aimingOnTarget,targetMoving:shot.targetMoving,weaponHash:shot.weaponHash,entityStartHealth:shot.entityStartHealth,entityEndHealth:damage?.entityEndHealth??null,cameraPosition:shot.cameraPosition,cameraRotation:shot.cameraRotation,shotStart:shot.shotStart,shotDirection:shot.shotDirection,raycastHitPos:shot.raycastHitPos,playerPos:shot.playerPos,targetPos:shot.targetPos,boneId:damage?.boneId??null,boneName:damage?.boneName??null,boneCenter:damage?.boneCenter??null,realHitPosition:damage?.realHitPosition??null})}cleanupOldEvents(){this.shotEvents=this.shotEvents.filter(e=>!e.matched);this.damageEvents=this.damageEvents.filter(e=>!e.matched)}checkSilentAimModel(pedModel){const[minDim,maxDim]=GetModelDimensions(pedModel);if(minDim[1]<-.29||maxDim[2]>.98){this.detectionCount+=1;return{module:"SilentAimModule",severity:0,timestamp:this.lastDetection,reason:`Player model dimensions are abnormal: minY=${minDim[1]}, maxZ=${maxDim[2]}`,details:{pedModel,minDim,maxDim,detectionCount:this.detectionCount}}}if(minDim[1]-.5>.1){this.detectionCount+=1;return{module:"SilentAimModule",severity:0,timestamp:this.lastDetection,reason:`Player model minY dimension is suspiciously high: minY=${minDim[1]}`,details:{pedModel,minDim,maxDim,detectionCount:this.detectionCount}}}if(maxDim[2]-2.24>.05){this.detectionCount+=1;return{module:"SilentAimModule",severity:0,timestamp:this.lastDetection,reason:`Player model maxZ dimension is suspiciously high: maxZ=${maxDim[2]}`,details:{pedModel,minDim,maxDim,detectionCount:this.detectionCount}}}if(Math.abs(minDim[0]- -.938245)<.001&&Math.abs(minDim[1]- -.25)<.001&&Math.abs(minDim[2]- -1.3)<.001&&Math.abs(maxDim[0]-.9379423)<.001&&Math.abs(maxDim[1]-.25)<.001&&Math.abs(maxDim[2]-.945)<.001){this.detectionCount+=1;return{module:"SilentAimModule",severity:2,timestamp:this.lastDetection,reason:`Player model dimensions are highly suspicious: minY=${minDim[1]}, maxZ=${maxDim[2]}`,details:{pedModel,minDim,maxDim,detectionCount:this.detectionCount}}}if(Math.abs(minDim[0]- -.5628748)<.001&&Math.abs(minDim[1]- -.25)<.001&&Math.abs(minDim[2]- -1.3)<.001&&Math.abs(maxDim[0]-.5650583)<.001&&Math.abs(maxDim[1]-.25)<.001&&Math.abs(maxDim[2]-.945)<.001){this.detectionCount+=1;return{module:"SilentAimModule",severity:2,timestamp:this.lastDetection,reason:`Player model dimensions are highly suspicious: minY=${minDim[1]}, maxZ=${maxDim[2]}`,details:{pedModel,minDim,maxDim,detectionCount:this.detectionCount}}}return null}onGunShot(entities,eventEntity,_data){const playerPed=PlayerPedId();if(eventEntity!==playerPed||!entities.includes(playerPed))return;let coords=GetPedBoneCoords(playerPed,56006,0,0,0);if(!coords||coords[0]===0&&coords[1]===0&&coords[2]===0){coords=GetPedBoneCoords(playerPed,57005,0,0,0)}const camCoordsArr=GetGameplayCamCoord();const camCoords={x:camCoordsArr[0],y:camCoordsArr[1],z:camCoordsArr[2]};const camRot=GetGameplayCamRot(2);const direction=getDirectionFromRotation(camRot);const rayLength=250;const playerInAimDirection=isPlayerInAimDirection(camCoords,direction,rayLength,5);if(!playerInAimDirection)return;const toTarget={x:camCoords.x+direction.x*rayLength,y:camCoords.y+direction.y*rayLength,z:camCoords.z+direction.z*rayLength};const[shouldHit,raycastHitPos,hitEntity]=raycastWithEntity(camCoords,toTarget);const shotDir=shouldHit?normalize({x:raycastHitPos[0]-coords[0],y:raycastHitPos[1]-coords[1],z:raycastHitPos[2]-coords[2]}):direction;const shotStart={x:coords[0],y:coords[1],z:coords[2]};let isRaycastHitPlayer=typeof hitEntity==="number"&&DoesEntityExist(hitEntity)&&IsEntityAPed(hitEntity)&&IsPedAPlayer(hitEntity);const[aimingOnTarget,entity]=GetEntityPlayerIsFreeAimingAt(PlayerId());let targetMoving=false;const playerPosArr=GetEntityCoords(playerPed,false);const playerPos={x:playerPosArr[0],y:playerPosArr[1],z:playerPosArr[2]};let targetPos=null;let targetEntity=null;if(DoesEntityExist(entity)&&IsEntityAPed(entity)&&IsPedAPlayer(entity)){const targetPosArr=GetEntityCoords(entity,true);targetPos={x:targetPosArr[0],y:targetPosArr[1],z:targetPosArr[2]};targetMoving=IsPedWalking(entity)||IsPedRunning(entity)||IsPedSprinting(entity);targetEntity=entity;isRaycastHitPlayer=true}else if(isRaycastHitPlayer&&hitEntity){const targetPosArr=GetEntityCoords(hitEntity,true);targetPos={x:targetPosArr[0],y:targetPosArr[1],z:targetPosArr[2]};targetMoving=IsPedWalking(hitEntity)||IsPedRunning(hitEntity)||IsPedSprinting(hitEntity);targetEntity=hitEntity}this.shotEvents.push({timestamp:Date.now(),weaponHash:GetSelectedPedWeapon(playerPed),targetEntity,entityStartHealth:targetEntity?GetEntityHealth(targetEntity):null,shouldHit:isRaycastHitPlayer,aimingOnTarget,targetMoving,cameraPosition:camCoords,cameraRotation:{x:camRot[0],y:camRot[1],z:camRot[2]},shotStart,shotDirection:shotDir,raycastHitPos:{x:raycastHitPos[0],y:raycastHitPos[1],z:raycastHitPos[2]},playerPos,targetPos,matched:false})}onEntityDamaged(victim,attacker,weapon,_baseDamage){if(PlayerPedId()!==attacker)return;if(!DoesEntityExist(victim))return;if(!IsPedAPlayer(victim))return;const[found,[impactX,impactY,impactZ]]=GetPedLastWeaponImpactCoord(attacker);if(!found)return;const[hasBone,hitBone]=GetPedLastDamageBone(victim);if(!hasBone||hitBone<=0)return;const boneCenterPos=GetPedBoneCoords(victim,hitBone,0,0,0);const boneName=boneNames.get(hitBone)??"unknown";this.damageEvents.push({timestamp:Date.now(),victim,weaponHash:weapon,entityEndHealth:GetEntityHealth(victim),boneId:hitBone,boneName,boneCenter:{x:boneCenterPos[0],y:boneCenterPos[1],z:boneCenterPos[2]},realHitPosition:{x:impactX,y:impactY,z:impactZ},matched:false})}};var SoftAimModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",1e3);this.detectionCount=0;this.lastDetection=0}async initialize(){return}async performCheck(context){if(IsPedArmed(context.ped,1)){SetPlayerLockonRangeOverride(PlayerId(),-1)}else{SetPlayerLockonRangeOverride(PlayerId(),0)}const currentTime=GetGameTimer();if(currentTime-this.lastDetection<this.checkInterval){return[]}this.lastDetection=currentTime;const detections=[];if(NetworkGetTargetingMode()!==3||GetLocalPlayerAimState()!==3){SetPlayerTargetingMode(3)}if(GetScriptTaskStatus(context.ped,3641635208)==1||GetScriptTaskStatus(context.ped,167901368)==1||GetScriptTaskStatus(context.ped,167901369)==1){this.detectionCount++;detections.push({module:"SoftAimModule",severity:2,timestamp:this.lastDetection,reason:`Detected potential soft aim usage.`,details:{detectionCount:this.detectionCount}})}return detections}};var WallHackModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",1e3);this.detectionCount=0;this.lastDetection=0}async initialize(){return}async performCheck(context){return[]}};var WeaponModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",2500);__publicField(this,"WEAPON_UNARMED_HASH",GetHashKey("WEAPON_UNARMED"));__publicField(this,"weaponDamageCache",new Map);this.detectionCount=0;this.lastDetection=0}async initialize(){return}async performCheck(context){const detections=[];const currentTime=GetGameTimer();if(currentTime-this.lastDetection<this.checkInterval){return detections}this.lastDetection=currentTime;const weapon=context.currentWeapon;if(weapon===this.WEAPON_UNARMED_HASH){return detections}if(!playerManager.isInSystem()){const realWeapons=weaponManager.getWeapons();if(!realWeapons.some(w=>w.weaponHash===weapon)){this.detectionCount++;detections.push({module:"WeaponModule",severity:3,reason:"Player has an invalid weapon",timestamp:currentTime,details:{weapon}});RemoveWeaponFromPed(context.ped,weapon)}}const weaponDamage=GetWeaponDamage(weapon,0);if(this.weaponDamageCache.has(weapon)){const cachedDamage=this.weaponDamageCache.get(weapon);if(cachedDamage&&cachedDamage<weaponDamage){this.detectionCount++;detections.push({module:"WeaponModule",severity:2,reason:"Weapon damage has been modified",timestamp:currentTime,details:{weapon,originalDamage:cachedDamage,currentDamage:weaponDamage}})}}else{this.weaponDamageCache.set(weapon,weaponDamage)}if(context.isInVehicle){return detections}const recoil=GetWeaponRecoilShakeAmplitude(weapon);const focused=IsNuiFocused();if(recoil<=0&&GetGameplayCamRelativePitch()===0&&weapon!==-1569615261&&!focused&&!IsPedArmed(context.ped,1)&&!IsPauseMenuActive()&&context.isShooting){this.detectionCount++;detections.push({module:"WeaponModule",severity:1,reason:"Shooting without recoil",timestamp:currentTime,details:{weapon,recoil}})}return detections}};var AntiAIModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",1e3);__publicField(this,"weaponComponents",[GetHashKey("COMPONENT_COMBATPISTOL_CLIP_01"),GetHashKey("COMPONENT_COMBATPISTOL_CLIP_02"),GetHashKey("COMPONENT_APPISTOL_CLIP_01"),GetHashKey("COMPONENT_APPISTOL_CLIP_02"),GetHashKey("COMPONENT_MICROSMG_CLIP_01"),GetHashKey("COMPONENT_MICROSMG_CLIP_02"),GetHashKey("COMPONENT_SMG_CLIP_01"),GetHashKey("COMPONENT_SMG_CLIP_02"),GetHashKey("COMPONENT_ASSAULTRIFLE_CLIP_01"),GetHashKey("COMPONENT_ASSAULTRIFLE_CLIP_02"),GetHashKey("COMPONENT_CARBINERIFLE_CLIP_01"),GetHashKey("COMPONENT_CARBINERIFLE_CLIP_02"),GetHashKey("COMPONENT_ADVANCEDRIFLE_CLIP_01"),GetHashKey("COMPONENT_ADVANCEDRIFLE_CLIP_02"),GetHashKey("COMPONENT_MG_CLIP_01"),GetHashKey("COMPONENT_MG_CLIP_02"),GetHashKey("COMPONENT_COMBATMG_CLIP_01"),GetHashKey("COMPONENT_COMBATMG_CLIP_02"),GetHashKey("COMPONENT_PUMPSHOTGUN_CLIP_01"),GetHashKey("COMPONENT_SAWNOFFSHOTGUN_CLIP_01"),GetHashKey("COMPONENT_ASSAULTSHOTGUN_CLIP_01"),GetHashKey("COMPONENT_ASSAULTSHOTGUN_CLIP_02"),GetHashKey("COMPONENT_PISTOL50_CLIP_01"),GetHashKey("COMPONENT_PISTOL50_CLIP_02"),GetHashKey("COMPONENT_ASSAULTSMG_CLIP_01"),GetHashKey("COMPONENT_ASSAULTSMG_CLIP_02"),GetHashKey("COMPONENT_AT_RAILCOVER_01"),GetHashKey("COMPONENT_AT_AR_AFGRIP"),GetHashKey("COMPONENT_AT_PI_FLSH"),GetHashKey("COMPONENT_AT_AR_FLSH"),GetHashKey("COMPONENT_AT_SCOPE_MACRO"),GetHashKey("COMPONENT_AT_SCOPE_SMALL"),GetHashKey("COMPONENT_AT_SCOPE_MEDIUM"),GetHashKey("COMPONENT_AT_SCOPE_LARGE"),GetHashKey("COMPONENT_AT_SCOPE_MAX"),GetHashKey("COMPONENT_AT_PI_SUPP")]);this.detectionCount=0;this.lastDetection=0}async initialize(){return}async performCheck(_context){const detections=[];const currentTime=GetGameTimer();if(currentTime-this.lastDetection<this.checkInterval){return detections}this.lastDetection=currentTime;for(const weaponComponent of this.weaponComponents){const dmgMod=GetWeaponComponentDamageModifier(weaponComponent);const accMod=GetWeaponComponentAccuracyModifier(weaponComponent);const rangeMod=GetWeaponComponentRangeModifier(weaponComponent);if(dmgMod>1.5||accMod>1.5||rangeMod>1.5){this.detectionCount++;detections.push({module:"AntiAIModule",reason:"AI Weapon Modification Detected",severity:1,details:{weaponComponent,dmgMod,accMod,rangeMod},timestamp:currentTime})}}return detections}};var AntiEntityModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",5e3);this.detectionCount=0;this.lastDetection=0}async initialize(){on("populationPedCreating",this.handlePedCreating.bind(this))}handlePedCreating(){CancelEvent()}async performCheck(context){return[]}};var AntiResourceModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",1e3);__publicField(this,"detections",[]);this.detectionCount=0;this.lastDetection=0}async initialize(){AddEventHandler("onClientResourceStart",this.onResourceStart.bind(this));AddEventHandler("onClientResourceStop",this.onResourceStop.bind(this))}async performCheck(_context){const detections=[];const currentTime=GetGameTimer();if(currentTime-this.lastDetection<this.checkInterval){return detections}this.lastDetection=currentTime;if(this.detections.length>0){detections.push(...this.detections);this.detections=[]}return detections}onResourceStart(resourceName){if(resourceName===GetCurrentResourceName())return;this.detectionCount+=1;this.detections.push({module:"AntiResourceModule",severity:1,timestamp:GetGameTimer(),reason:`Started resource: ${resourceName}`,details:{detectionCount:this.detectionCount,resourceName}})}onResourceStop(resourceName){this.detectionCount+=1;this.detections.push({module:"AntiResourceModule",severity:1,timestamp:GetGameTimer(),reason:`Stopped resource: ${resourceName}`,details:{detectionCount:this.detectionCount,resourceName}})}};var ClothingModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",5e3);__publicField(this,"wrongClothingItems",[]);this.detectionCount=0;this.lastDetection=0}async initialize(){secureEventManager.onSecureNet("Client:Clothing:Check",this.checkClothing.bind(this));return}checkClothing(clothingData){if(nuiManager.isViewOpen())return;const ped=PlayerPedId();this.wrongClothingItems=[];clothingData.forEach(([componentId,allowedValues])=>{if(componentId<=0)return;const currentDrawableId=GetPedDrawableVariation(ped,componentId);const currentTextureId=GetPedTextureVariation(ped,componentId);const expectedDrawableId=allowedValues[0];const expectedTextureId=allowedValues[1];if(currentDrawableId!==expectedDrawableId||currentTextureId!==expectedTextureId){this.wrongClothingItems.push({componentId,drawableId:currentDrawableId,textureId:currentTextureId,expectedDrawableId,expectedTextureId})}});if(this.wrongClothingItems.length>0){this.detectionCount++}}async performCheck(_context){const detections=[];const currentTime=GetGameTimer();if(currentTime-this.lastDetection<this.checkInterval){return detections}this.lastDetection=currentTime;if(this.detectionCount>1){detections.push({module:"ClothingModule",reason:"Wrong clothing detected",severity:2,timestamp:Date.now(),details:{wrongClothingItems:this.wrongClothingItems}});this.detectionCount=0}return detections}};var InjectorModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",5e3);__publicField(this,"verifyDetectionCount",0);__publicField(this,"blacklistedGlobals",["nexus","WarMenu","AlikhanCheats","gaybuild","Plane","LynxEvo","FendinX","LR","Lynx8","MIOddhwuie","ililililil","esxdestroyv2","LiLLL","obl2","HamMafia","Absolute","Absolute_function","TiagoMenu","SkazaMenu","BrutanPremium","b00mMenu","Cience","MaestroMenu","Crusader","NertigelFunc","dreanhsMod","nukeserver","SDefwsWr","FlexSkazaMenu","DynnoFamily","FrostedMenu","frosted_config","FXMenu","CKgang","HoaxMenu","alkomenu","xseira","KoGuSzEk","LynxSeven","lynxunknowncheats","MaestroEra","foriv","ariesMenu","Ham","Outcasts666","b00mek","redMENU","rootMenu","xnsadifnias","LDOWJDWDdddwdwdad","moneymany","FlexSkazaMenu","VOITUREMenu","fESX","dexMenu","zzzt","AKTeam","SwagMenu","Gatekeeper","Dopameme","Lux","Swag","SwagUI","Nisi","nigmenu0001","Motion","MMenu","FantaMenuEvo","GRubyMenu","InSec","AlphaVeta","ShaniuMenu","HamHaxia","FendinXMenu","AlphaV","Deer","NyPremium","lIlIllIlI","OnionUI","qJtbGTz5y8ZmqcAg","LuxUI","JokerMenu","IlIlIlIlIlIlI","SidMenu","GheMenu","INFINITY","klVZJu56hiZnIjg88ekXcEgegjfDvuMv83grKxQiUJJFvN8SHENeK2WaRgTTuafpGe","jailServerLoop","carSpamServer","Dopamine","nofuckinglol"]);this.detectionCount=0;this.lastDetection=0}async initialize(){addNetEventListener(`${GetCurrentResourceName()}.verify`,this.verify.bind(this));AddEventHandler(`${GetCurrentResourceName()}.verify`,this.verify.bind(this))}async performCheck(_context){const detections=[];const currentTime=GetGameTimer();if(currentTime-this.lastDetection<this.checkInterval){return detections}this.lastDetection=currentTime;if(this.verifyDetectionCount>0){this.detectionCount+=1;detections.push({module:"InjectorModule",severity:3,timestamp:this.lastDetection,reason:`Verification event was triggered ${this.verifyDetectionCount} times.`,details:{detectionCount:this.detectionCount}})}if(GetNumResourceMetadata("_cfx_internal","client_script")>0){this.detectionCount+=1;detections.push({module:"InjectorModule",severity:3,timestamp:this.lastDetection,reason:`Resource metadata _cfx_internal is present.`,details:{detectionCount:this.detectionCount}})}if(GetGlobalCharBuffer()==void 0||GetGlobalCharBuffer()==null){this.detectionCount+=1;detections.push({module:"InjectorModule",severity:3,timestamp:this.lastDetection,reason:`Global character buffer is undefined or null.`,details:{detectionCount:this.detectionCount}})}const vehicles=GetGamePool("CVehicle");for(const vehicle of vehicles){if(!vehicle)continue;const[entityScript]=GetEntityScript(vehicle);if(entityScript==="scr_2"){const entityOwner=NetworkGetEntityOwner(vehicle);const ownerServerId=GetPlayerServerId(entityOwner);const myServerId=GetPlayerServerId(PlayerId());if(entityOwner===-1||ownerServerId===myServerId){detections.push({module:"InjectorModule",severity:3,timestamp:this.lastDetection,reason:`Unauthorized vehicle detected with script scr_2.`,details:{entityScript,entityOwner,ownerServerId,myServerId,detectionCount:this.detectionCount}});SetEntityAsMissionEntity(vehicle,true,true);DeleteVehicle(vehicle)}}else if(entityScript==="scr_3"){const entityOwner=NetworkGetEntityOwner(vehicle);const ownerServerId=GetPlayerServerId(entityOwner);const myServerId=GetPlayerServerId(PlayerId());if(entityOwner===-1||ownerServerId===myServerId){detections.push({module:"InjectorModule",severity:3,timestamp:this.lastDetection,reason:`Unauthorized vehicle detected with script scr_3.`,details:{entityScript,entityOwner,ownerServerId,myServerId,detectionCount:this.detectionCount}});SetEntityAsMissionEntity(vehicle,true,true);DeleteVehicle(vehicle)}}}for(const variableName of this.blacklistedGlobals){if(globalThis[variableName]!==void 0){globalThis[variableName]=void 0;this.detectionCount+=1;detections.push({module:"InjectorModule",severity:3,timestamp:this.lastDetection,reason:`Blacklisted global variable detected: ${variableName}`,details:{variableName,detectionCount:this.detectionCount}})}}return detections}verify(){this.verifyDetectionCount+=1}};var MenuModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",2e3);__publicField(this,"menuDetectedCount",0);__publicField(this,"blacklistedTextures",["fm","rampage_tr_main","MenyooExtras","shopui_title_graphics_franklin","deadline","cockmenuu"]);__publicField(this,"menuTextures",[{txd:"HydroMenu",txt:"HydroMenuHeader",name:"HydroMenu"},{txd:"John",txt:"John2",name:"SugarMenu"},{txd:"darkside",txt:"logo",name:"Darkside"},{txd:"ISMMENU",txt:"ISMMENUHeader",name:"ISMMENU"},{txd:"dopatest",txt:"duiTex",name:"Copypaste Menu"},{txd:"fm",txt:"menu_bg",name:"Fallout Menu"},{txd:"wave",txt:"logo",name:"Wave"},{txd:"wave1",txt:"logo1",name:"Wave (alt.)"},{txd:"meow2",txt:"woof2",name:"Alokas66",x:1e3,y:1e3},{txd:"adb831a7fdd83d_Guest_d1e2a309ce7591dff86",txt:"adb831a7fdd83d_Guest_d1e2a309ce7591dff8Header6",name:"Guest Menu"},{txd:"hugev_gif_DSGUHDSGISDG",txt:"duiTex_DSIOGISDG",name:"HugeV Menu"},{txd:"MM",txt:"menu_bg",name:"Metrix Mehtods"},{txd:"wm",txt:"wm2",name:"WM Menu"},{txd:"NeekerMan",txt:"NeekerMan1",name:"Lumia Menu"},{txd:"Blood-X",txt:"Blood-X",name:"Blood-X Menu"},{txd:"Dopamine",txt:"Dopameme",name:"Dopamine Menu"},{txd:"Fallout",txt:"FalloutMenu",name:"Fallout Menu"},{txd:"Luxmenu",txt:"Lux meme",name:"LuxMenu"},{txd:"Reaper",txt:"reaper",name:"Reaper Menu"},{txd:"absoluteeulen",txt:"Absolut",name:"Absolut Menu"},{txd:"KekHack",txt:"kekhack",name:"KekHack Menu"},{txd:"Maestro",txt:"maestro",name:"Maestro Menu"},{txd:"SkidMenu",txt:"skidmenu",name:"Skid Menu"},{txd:"Brutan",txt:"brutan",name:"Brutan Menu"},{txd:"FiveSense",txt:"fivesense",name:"Fivesense Menu"},{txd:"NeekerMan",txt:"NeekerMan1",name:"Lumia Menu"},{txd:"Auttaja",txt:"auttaja",name:"Auttaja Menu"},{txd:"BartowMenu",txt:"bartowmenu",name:"Bartow Menu"},{txd:"Hoax",txt:"hoaxmenu",name:"Hoax Menu"},{txd:"FendinX",txt:"fendin",name:"Fendinx Menu"},{txd:"Hammenu",txt:"Ham",name:"Ham Menu"},{txd:"Lynxmenu",txt:"Lynx",name:"Lynx Menu"},{txd:"Oblivious",txt:"oblivious",name:"Oblivious Menu"},{txd:"malossimenuv",txt:"malossimenu",name:"Malossi Menu"},{txd:"memeeee",txt:"Memeeee",name:"Memeeee Menu"},{txd:"tiago",txt:"Tiago",name:"Tiago Menu"},{txd:"Hydramenu",txt:"hydramenu",name:"Hydra Menu"},{txd:"dopamine",txt:"Swagamine",name:"Dopamine"},{txd:"HydroMenu",txt:"HydroMenuHeader",name:"Hydro Menu"},{txd:"HydroMenu",txt:"HydroMenuLogo",name:"Hydro Menu"},{txd:"HydroMenu",txt:"https://i.ibb.co/0GhPPL7/Hydro-New-Header.png",name:"Hydro Menu"},{txd:"test",txt:"Terror Menu",name:"Terror Menu"},{txd:"lynxmenu",txt:"lynxmenu",name:"Lynx Menu"},{txd:"Maestro 2.3",txt:"Maestro 2.3",name:"Maestro Menu"},{txd:"ALIEN MENU",txt:"ALIEN MENU",name:"Alien Menu"},{txd:"~u~ALIEN MENU",txt:"~u~ALIEN MENU",name:"Alien Menu"}]);this.detectionCount=0;this.lastDetection=0}async initialize(){AddEventHandler("antilynx8:crashuser",this.menuDetected.bind(this));AddEventHandler("shilling=yet5",this.menuDetected.bind(this));AddEventHandler("antilynxr4:crashuser",this.menuDetected.bind(this));AddEventHandler("shilling=yet7",this.menuDetected.bind(this));AddEventHandler("antilynxr4:crashuser1",this.menuDetected.bind(this));AddEventHandler("HCheat:TempDisableDetection",this.menuDetected.bind(this));AddEventHandler("shilling=yet7",this.menuDetected.bind(this));AddStateBagChangeHandler(null,null,(_bagName,key,value)=>{if(key==="dimension")return;if(value>131072){this.menuDetected()}if(typeof key==="string"&&key.length>131072){this.menuDetected()}})}async performCheck(context){const detections=[];const currentTime=GetGameTimer();if(currentTime-this.lastDetection<this.checkInterval){return detections}this.lastDetection=currentTime;if(this.menuDetectedCount>0){this.detectionCount+=this.menuDetectedCount;detections.push({module:"MenuModule",severity:3,timestamp:this.lastDetection,reason:`Menu detection events triggered ${this.menuDetectedCount} times`,details:{detectionCount:this.detectionCount,menuDetectedCount:this.menuDetectedCount}});this.menuDetectedCount=0}const blacklistedTexturesDetections=this.checkForBlacklistedTextures();if(blacklistedTexturesDetections&&blacklistedTexturesDetections.length>0){detections.push(...blacklistedTexturesDetections)}const menuTexturesDetections=this.checkForMenuTextures();if(menuTexturesDetections&&menuTexturesDetections.length>0){detections.push(...menuTexturesDetections)}const vehicle=context.vehicle;if(vehicle&&vehicle!==0){if(IsVehicleVisible(vehicle)){this.detectionCount++;SetEntityVisible(vehicle,true,false);detections.push({module:"MenuModule",severity:1,timestamp:this.lastDetection,reason:`Player vehicle was invisible`,details:{detectionCount:this.detectionCount}})}}return detections}checkForBlacklistedTextures(){const results=[];for(const texture of this.blacklistedTextures){if(HasStreamedTextureDictLoaded(texture)){this.detectionCount++;results.push({module:"MenuModule",severity:3,timestamp:this.lastDetection,reason:`Blacklisted texture detected: ${texture}`,details:{texture,detectionCount:this.detectionCount}})}}return results}checkForMenuTextures(){const results=[];for(const texture of this.menuTextures){if(texture.x&&texture.y){if(GetTextureResolution(texture.txd,texture.txt)[0]===texture.x&&GetTextureResolution(texture.txd,texture.txt)[1]===texture.y){results.push({module:"MenuModule",severity:3,timestamp:this.lastDetection,reason:`Menu texture detected: ${texture.txd}/${texture.txt}`,details:{texture,detectionCount:this.detectionCount}})}}else{if(GetTextureResolution(texture.txd,texture.txt)[0]!=4){results.push({module:"MenuModule",severity:3,timestamp:this.lastDetection,reason:`Menu texture detected: ${texture.txd}/${texture.txt}`,details:{texture,detectionCount:this.detectionCount}})}}}return results}menuDetected(){this.menuDetectedCount+=1}};var NightVisionModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",1e3);this.detectionCount=0;this.lastDetection=0}async initialize(){return}async performCheck(context){const detections=[];const currentTime=GetGameTimer();if(currentTime-this.lastDetection<this.checkInterval){return detections}this.lastDetection=currentTime;if(GetUsingnightvision()){this.detectionCount+=1;detections.push({module:"NightVisionModule",severity:1,timestamp:this.lastDetection,reason:`Player is using night vision`,details:{detectionCount:this.detectionCount}})}return detections}};var PedModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",1e3);this.detectionCount=0;this.lastDetection=0}async initialize(){tickSystem.registerTick(this.onTick.bind(this));return}async performCheck(context){const detections=[];const currentTime=GetGameTimer();if(currentTime-this.lastDetection<this.checkInterval){return detections}this.lastDetection=currentTime;if(IsEntityPlayingAnim(context.ped,"reaction@shove","shoved_back",3)){FreezeEntityPosition(context.ped,false);StopAnimTask(context.ped,"reaction@shove","shoved_back",3);ClearPedTasks(context.ped)}return detections}async onTick(){SetCreateRandomCops(false);SetCreateRandomCopsNotOnScenarios(false);SetCreateRandomCopsOnScenarios(false);SetGarbageTrucks(false);SetRandomBoats(false);SetVehicleDensityMultiplierThisFrame(0);SetPedDensityMultiplierThisFrame(0);SetRandomVehicleDensityMultiplierThisFrame(0);SetScenarioPedDensityMultiplierThisFrame(0,0);SetParkedVehicleDensityMultiplierThisFrame(0);const position=GetEntityCoords(PlayerPedId(),true);ClearAreaOfVehicles(position[0],position[1],position[2],1e3,false,false,false,false,false);RemoveVehiclesFromGeneratorsInArea(position[0]-500,position[1]-500,position[2]-500,position[0]+500,position[1]+500,position[2]+500,0)}};var PickUpModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",5e3);__publicField(this,"pickUpHashes",["PICKUP_ARMOUR_STANDARD","PICKUP_VEHICLE_ARMOUR_STANDARD","PICKUP_HEALTH_SNACK","PICKUP_HEALTH_STANDARD","PICKUP_VEHICLE_HEALTH_STANDARD","PICKUP_VEHICLE_HEALTH_STANDARD_LOW_GLOW",`PICKUP_AMMO_BULLET_MP`,`PICKUP_AMMO_FIREWORK`,`PICKUP_AMMO_FLAREGUN`,`PICKUP_AMMO_GRENADELAUNCHER`,`PICKUP_AMMO_GRENADELAUNCHER_MP`,`PICKUP_AMMO_HOMINGLAUNCHER`,`PICKUP_AMMO_MG`,`PICKUP_AMMO_MINIGUN`,`PICKUP_AMMO_MISSILE_MP`,`PICKUP_AMMO_PISTOL`,`PICKUP_AMMO_RIFLE`,`PICKUP_AMMO_RPG`,`PICKUP_AMMO_SHOTGUN`,`PICKUP_AMMO_SMG`,`PICKUP_AMMO_SNIPER`,`PICKUP_CAMERA`,`PICKUP_CUSTOM_SCRIPT`,`PICKUP_GANG_ATTACK_MONEY`,`PICKUP_MONEY_CASE`,`PICKUP_MONEY_DEP_BAG`,`PICKUP_MONEY_MED_BAG`,`PICKUP_MONEY_PAPER_BAG`,`PICKUP_MONEY_PURSE`,`PICKUP_MONEY_SECURITY_CASE`,`PICKUP_MONEY_VARIABLE`,`PICKUP_MONEY_WALLET`,`PICKUP_PARACHUTE`,`PICKUP_PORTABLE_CRATE_FIXED_INCAR`,`PICKUP_PORTABLE_CRATE_UNFIXED`,`PICKUP_PORTABLE_CRATE_UNFIXED_INCAR`,`PICKUP_PORTABLE_CRATE_UNFIXED_INCAR_SMALL`,`PICKUP_PORTABLE_CRATE_UNFIXED_LOW_GLOW`,`PICKUP_PORTABLE_DLC_VEHICLE_PACKAGE`,`PICKUP_PORTABLE_PACKAGE`,`PICKUP_SUBMARINE`,`PICKUP_VEHICLE_CUSTOM_SCRIPT`,`PICKUP_VEHICLE_CUSTOM_SCRIPT_LOW_GLOW`,`PICKUP_VEHICLE_MONEY_VARIABLE`,`PICKUP_VEHICLE_WEAPON_APPISTOL`,`PICKUP_VEHICLE_WEAPON_ASSAULTSMG`,`PICKUP_VEHICLE_WEAPON_COMBATPISTOL`,`PICKUP_VEHICLE_WEAPON_GRENADE`,`PICKUP_VEHICLE_WEAPON_MICROSMG`,`PICKUP_VEHICLE_WEAPON_MOLOTOV`,`PICKUP_VEHICLE_WEAPON_PISTOL`,`PICKUP_VEHICLE_WEAPON_PISTOL50`,`PICKUP_VEHICLE_WEAPON_SAWNOFF`,`PICKUP_VEHICLE_WEAPON_SMG`,`PICKUP_VEHICLE_WEAPON_SMOKEGRENADE`,`PICKUP_VEHICLE_WEAPON_STICKYBOMB`,`PICKUP_WEAPON_ADVANCEDRIFLE`,`PICKUP_WEAPON_APPISTOL`,`PICKUP_WEAPON_ASSAULTRIFLE`,`PICKUP_WEAPON_ASSAULTSHOTGUN`,`PICKUP_WEAPON_ASSAULTSMG`,`PICKUP_WEAPON_AUTOSHOTGUN`,`PICKUP_WEAPON_BAT`,`PICKUP_WEAPON_BATTLEAXE`,`PICKUP_WEAPON_BOTTLE`,`PICKUP_WEAPON_BULLPUPRIFLE`,`PICKUP_WEAPON_BULLPUPSHOTGUN`,`PICKUP_WEAPON_CARBINERIFLE`,`PICKUP_WEAPON_COMBATMG`,`PICKUP_WEAPON_COMBATPDW`,`PICKUP_WEAPON_COMBATPISTOL`,`PICKUP_WEAPON_COMPACTLAUNCHER`,`PICKUP_WEAPON_COMPACTRIFLE`,`PICKUP_WEAPON_CROWBAR`,`PICKUP_WEAPON_DAGGER`,`PICKUP_WEAPON_DBSHOTGUN`,`PICKUP_WEAPON_FIREWORK`,`PICKUP_WEAPON_FLAREGUN`,`PICKUP_WEAPON_FLASHLIGHT`,`PICKUP_WEAPON_GRENADE`,`PICKUP_WEAPON_GRENADELAUNCHER`,`PICKUP_WEAPON_GUSENBERG`,`PICKUP_WEAPON_GOLFCLUB`,`PICKUP_WEAPON_HAMMER`,`PICKUP_WEAPON_HATCHET`,`PICKUP_WEAPON_HEAVYPISTOL`,`PICKUP_WEAPON_HEAVYSHOTGUN`,`PICKUP_WEAPON_HEAVYSNIPER`,`PICKUP_WEAPON_HOMINGLAUNCHER`,`PICKUP_WEAPON_KNIFE`,`PICKUP_WEAPON_KNUCKLE`,`PICKUP_WEAPON_MACHETE`,`PICKUP_WEAPON_MACHINEPISTOL`,`PICKUP_WEAPON_MARKSMANPISTOL`,`PICKUP_WEAPON_MARKSMANRIFLE`,`PICKUP_WEAPON_MG`,`PICKUP_WEAPON_MICROSMG`,`PICKUP_WEAPON_MINIGUN`,`PICKUP_WEAPON_MINISMG`,`PICKUP_WEAPON_MOLOTOV`,`PICKUP_WEAPON_MUSKET`,`PICKUP_WEAPON_NIGHTSTICK`,`PICKUP_WEAPON_PETROLCAN`,`PICKUP_WEAPON_PIPEBOMB`,`PICKUP_WEAPON_PISTOL`,`PICKUP_WEAPON_PISTOL50`,`PICKUP_WEAPON_POOLCUE`,`PICKUP_WEAPON_PROXMINE`,`PICKUP_WEAPON_PUMPSHOTGUN`,`PICKUP_WEAPON_RAILGUN`,`PICKUP_WEAPON_REVOLVER`,`PICKUP_WEAPON_RPG`,`PICKUP_WEAPON_SAWNOFFSHOTGUN`,`PICKUP_WEAPON_SMG`,`PICKUP_WEAPON_SMOKEGRENADE`,`PICKUP_WEAPON_SNIPERRIFLE`,`PICKUP_WEAPON_SNSPISTOL`,`PICKUP_WEAPON_SPECIALCARBINE`,`PICKUP_WEAPON_STICKYBOMB`,`PICKUP_WEAPON_STUNGUN`,`PICKUP_WEAPON_SWITCHBLADE`,`PICKUP_WEAPON_VINTAGEPISTOL`,`PICKUP_WEAPON_WRENCH`,`PICKUP_WEAPON_RAYCARBINE`]);this.detectionCount=0;this.lastDetection=0}async initialize(){this.removeAllPickups();return}async performCheck(_context){const currentTime=GetGameTimer();if(currentTime-this.lastDetection<this.checkInterval){return[]}this.lastDetection=currentTime;for(const hash of this.pickUpHashes){RemoveAllPickupsOfType(GetHashKey(hash))}return[]}removeAllPickups(){for(const hash of this.pickUpHashes){ToggleUsePickupsForPlayer(PlayerId(),hash,false)}}};var SpectateModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",5e3);this.detectionCount=0;this.lastDetection=0}async initialize(){return}async performCheck(_context){const detections=[];const currentTime=GetGameTimer();if(currentTime-this.lastDetection<this.checkInterval){return detections}this.lastDetection=currentTime;if(playerManager.isPlayerAdminDuty()){return detections}if(NetworkIsInSpectatorMode()){this.detectionCount+=1;detections.push({module:"SpectateModule",severity:3,timestamp:this.lastDetection,reason:`Player is in spectator mode.`,details:{detectionCount:this.detectionCount}})}if(NetworkSessionIsSolo()){this.detectionCount+=1;detections.push({module:"SoloSessionModule",severity:3,timestamp:this.lastDetection,reason:`Player is in a solo session.`,details:{detectionCount:this.detectionCount}})}return detections}};var SpriteModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",5e3);__publicField(this,"blacklistedSprites",[{sprite:"deadline",name:"Dopamine"},{sprite:"Dopameme",name:"Dopamine Menu"},{sprite:"dopamine",name:"Dopamine Menu"},{sprite:"dopamemes",name:"Dopameme Menu"},{sprite:"wm2",name:"WM Menu"},{sprite:"KentasCheckboxDict",name:"Kentas Menu Synapse"},{sprite:"KentasMenu",name:"Kentas Menu Synapse"},{sprite:"HydroMenuHeader",name:"HydroMenu"},{sprite:"godmenu",name:"God Menu"},{sprite:"redrum",name:"Redrum Menu"},{sprite:"beautiful",name:"Beautiful Menu"},{sprite:"Absolut",name:"Absolute Menu"},{sprite:"hoaxmenu",name:"Hoax Menu"},{sprite:"fendin",name:"Fendinx Menu"},{sprite:"Ham",name:"Ham Menu"},{sprite:"hammafia",name:"Ham Mafia Menu"},{sprite:"Fallout",name:"Fallout"},{sprite:"menu_bg",name:"Fallout Menu"},{sprite:"DefaultMenu",name:"Default Menu"},{sprite:"ISMMENUHeader",name:"ISMMENU"},{sprite:"fivesense",name:"Fivesense Menu"},{sprite:"maestro",name:"Maestro Menu"},{sprite:"kekhack",name:"KekHack Menu"},{sprite:"trolling",name:"Trolling Menu"},{sprite:"mm",name:"MM Menu"},{sprite:"MmPremium",name:"MM Premium Menu"},{sprite:"Fallout",name:"Fallout"},{sprite:"dopatest",name:"Dopa Menu"},{sprite:"deadline",name:"Dopamine"},{sprite:"dopamine",name:"Dopamine Menu"},{sprite:"cat",name:"Cat Menu"},{sprite:"John2",name:"SugarMenu"},{sprite:"bartowmenu",name:"Bartow Menu"},{sprite:"duiTex",name:"Copypaste Menu"},{sprite:"Mafins",name:"Mafins Menu"},{sprite:"__REAPER24__",name:"Repear Menu"},{sprite:"__REAPER5__",name:"Repear Menu"},{sprite:"__REAPER7__",name:"Repear Menu"},{sprite:"__REAPER8__",name:"Repear Menu"},{sprite:"__REAPER10__",name:"Repear Menu"},{sprite:"__REAPER3__",name:"Repear Menu"},{sprite:"__REAPER2__",name:"Repear Menu"},{sprite:"__REAPER1__",name:"Repear Menu"},{sprite:"__REAPER23__",name:"Repear Menu"},{sprite:"__REAPER17__",name:"Repear Menu"},{sprite:"skidmenu",name:"Skid Menu"},{sprite:"skidmenu",name:"Skid Menu"},{sprite:"Urubu3",name:"Urubu Menu"},{sprite:"Urubu",name:"Urubu Menu"},{sprite:"love",name:"Love Menu"},{sprite:"brutan",name:"Brutan Menu"},{sprite:"auttaja",name:"Auttaja Menu"},{sprite:"oblivious",name:"Oblivious Menu"},{sprite:"malossimenu",name:"Malossi Menu"},{sprite:"Memeeee",name:"Memeeee Menu"},{sprite:"Tiago",name:"Tiago Menu"},{sprite:"fantasy",name:"Fantasy Menu"},{sprite:"Vagos",name:"Vagos Menu"},{sprite:"simplicity",name:"Simplicity Menu"},{sprite:"WarMenu",name:"War Menu"},{sprite:"Darkside",name:"Darkside Menu"},{sprite:"antario",name:"Antario Menu"},{sprite:"kingpin",name:"Kingpin Menu"},{sprite:"Wave (alt.)",name:"Wave (alt.)"},{sprite:"Wave",name:"Wave"},{sprite:"Alokas66",name:"Alokas66"},{sprite:"Guest Menu",name:"Guest Menu"}]);this.detectionCount=0;this.lastDetection=0}async initialize(){return}async performCheck(_context){const detections=[];const currentTime=GetGameTimer();if(currentTime-this.lastDetection<this.checkInterval){return detections}this.lastDetection=currentTime;for(const value of this.blacklistedSprites){if(HasStreamedTextureDictLoaded(value.sprite)){this.detectionCount++;detections.push({module:"SpriteModule",reason:`Blacklisted sprite detected.`,severity:2,details:{spriteHash:value.sprite,spriteName:value.name,detectionCount:this.detectionCount},timestamp:currentTime})}}return detections}};var ThermalVisionModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",1e3);this.detectionCount=0;this.lastDetection=0}async initialize(){return}async performCheck(_context){const detections=[];const currentTime=GetGameTimer();if(currentTime-this.lastDetection<this.checkInterval){return detections}this.lastDetection=currentTime;if(GetUsingseethrough()){this.detectionCount+=1;detections.push({module:"ThermalVisionModule",severity:3,timestamp:this.lastDetection,reason:`Player is using thermal vision.`,details:{detectionCount:this.detectionCount}})}return detections}};var AntiFreeCamModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",2e3);__publicField(this,"freeCamFlags",0);__publicField(this,"counter",0);this.detectionCount=0;this.lastDetection=0}async initialize(){return}async performCheck(context){const detections=[];DisableVehiclePassengerIdleCamera(true);if(!cameraManager.isCameraActive()){DestroyAllCams(true)}const currentTime=GetGameTimer();if(currentTime-this.lastDetection<this.checkInterval){return detections}this.lastDetection=currentTime;const playerPed=context.ped;if(IsPedSittingInAnyVehicle(playerPed)){if(IsCinematicCamActive()){return detections}}const check=this.checkCamera(context.coords);if(check){detections.push(check)}if(this.counter%3!==0){this.counter+=1;return detections}this.counter=0;const camPos=GetGameplayCamCoords();if(!IsPedInAnyPlane(playerPed)&&!IsPedInAnyHeli(playerPed)&&!IsPedInAnyTrain(playerPed)){const distanceDetection=this.checkDistance(playerPed,context.coords,new Vector3(camPos[0],camPos[1],camPos[2]));if(distanceDetection){detections.push(distanceDetection)}}return detections}checkCamera(playerPosition){const finalCamCoords=GetFinalRenderedCamCoord();const camCoords={x:playerPosition.x-finalCamCoords[0],y:playerPosition.y-finalCamCoords[1],z:playerPosition.z-finalCamCoords[2]};if(camCoords.x===0&&camCoords.y===0&&camCoords.z===0){this.freeCamFlags+=1}if(this.freeCamFlags>1){this.freeCamFlags=0;return{module:"AntiFreeCamModule",severity:2,timestamp:GetGameTimer(),reason:"Camera position identical to player position multiple times.",details:{freeCamFlags:this.freeCamFlags}}}return null}checkDistance(ped,playerPosition,camPosition){const distance=Vdist2(camPosition.x,camPosition.y,camPosition.z,playerPosition.x,playerPosition.y,playerPosition.z);const isInterior=GetInteriorFromEntity(ped)!==0;const threshold=isInterior?17:31;if(distance>threshold*threshold){return{module:"AntiFreeCamModule",severity:2,timestamp:GetGameTimer(),reason:`Camera too far from player: ${distance.toFixed(2)} units.`,details:{distance:distance.toFixed(2)}}}const heightDifference=Math.abs(camPosition.z-playerPosition.z);if(heightDifference>100){return{module:"AntiFreeCamModule",severity:2,timestamp:GetGameTimer(),reason:`Camera height difference too great: ${heightDifference.toFixed(2)} units.`,details:{heightDifference:heightDifference.toFixed(2)}}}return null}};var NoClipManager=class{constructor(){__publicField(this,"lastInteraction",0);__publicField(this,"isEnabled",false);__publicField(this,"speed",.75);__publicField(this,"ped",0);this.registerInputs();this.registerTick();this.registerEvents()}registerEvents(){secureEventManager.onSecureNet("Client:NoClip:Toggle",this.toggleNoClip.bind(this))}registerInputs(){inputSystem.registerKey("f9","client:noclip","NoClip",this.triggerNoClip.bind(this))}registerTick(){tickSystem.registerTick(this.handleNoClip.bind(this))}triggerNoClip(){if(GetGameTimer()-this.lastInteraction<500)return;this.lastInteraction=GetGameTimer();secureEventManager.emitSecureNet("Server:Player:NoClip")}toggleNoClip(state){if(!playerManager.canInteract())return;const ped=PlayerPedId();this.isEnabled=state;if(!state){const[x,y,z]=GetEntityCoords(ped,false);const groundZ=GetGroundZAndNormalFor_3dCoord(x,y,z);if(groundZ[0]){SetEntityCoordsNoOffset(ped,x,y,groundZ[1]+2,true,true,true)}SetEntityCollision(ped,true,true);FreezeEntityPosition(ped,false);if(!playerManager.isPlayerAdminDuty()){SetEntityInvincible(ped,false)}SetEntityVisible(ped,true,false);this.ped=0}else{SetEntityCollision(ped,false,false);FreezeEntityPosition(ped,true);SetEntityInvincible(ped,true);SetEntityVisible(ped,false,false);this.ped=ped}}handleNoClip(){if(!this.isEnabled)return;let[x,y,z]=GetEntityCoords(this.ped,false);let speed=this.speed;if(IsControlPressed(0,21))speed+=1.8;if(IsControlPressed(0,19))speed-=.6;const[camX,_camY,camZ]=GetGameplayCamRot(2);const heading=camZ*(Math.PI/180);const pitch=camX*(Math.PI/180);const forward={x:-Math.sin(heading)*Math.cos(pitch),y:Math.cos(heading)*Math.cos(pitch),z:Math.sin(pitch)};const right={x:Math.cos(heading),y:Math.sin(heading),z:0};let moved=false;if(IsControlPressed(0,32)){x+=forward.x*speed;y+=forward.y*speed;z+=forward.z*speed;moved=true}if(IsControlPressed(0,33)){x-=forward.x*speed;y-=forward.y*speed;z-=forward.z*speed;moved=true}if(IsControlPressed(0,34)){x-=right.x*speed;y-=right.y*speed;moved=true}if(IsControlPressed(0,35)){x+=right.x*speed;y+=right.y*speed;moved=true}if(IsControlPressed(0,22)){z+=speed;moved=true}if(!moved)return;SetEntityCoordsNoOffset(this.ped,x,y,z,true,true,true);SetEntityVelocity(this.ped,0,0,0)}isNoClipEnabled(){return this.isEnabled}getSpeed(){return this.speed}setSpeed(speed){this.speed=Math.max(.1,Math.min(speed,10))}};var noClipManager=new NoClipManager;var NoClipModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",1e3);this.detectionCount=0;this.lastDetection=0}async initialize(){return}async performCheck(context){const detections=[];const currentTime=GetGameTimer();if(currentTime-this.lastDetection<this.checkInterval){return detections}this.lastDetection=currentTime;if(noClipManager.isNoClipEnabled())return detections;const ped=context.ped;const height=GetEntityHeightAboveGround(ped);const isOnVehicle=IsPedOnVehicle(ped);const isInParachuteFall=IsPedInParachuteFreeFall(ped);const parachuteState=GetPedParachuteState(ped);const isPedFalling=IsPedFalling(ped);if(height>8&&!isInParachuteFall&&!isPedFalling&&!IsPedJumpingOutOfVehicle(ped)&&!isOnVehicle&&!IsPedInAnyVehicle(ped,false)&&parachuteState!==-1&&parachuteState!==2&&!IsPedSwimming(ped)&&!IsPedSwimmingUnderWater(ped)&&!IsEntityInWater(ped)){this.detectionCount++;detections.push({module:"NoClipModule",severity:1,timestamp:this.lastDetection,reason:`Player detected with abnormal height above ground: ${height.toFixed(2)} units.`,details:{height,detectionCount:this.detectionCount}})}return detections}};var TeleportModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",1e3);__publicField(this,"lastSystemTeleportTime",0);__publicField(this,"lastPosition",null);this.detectionCount=0;this.lastDetection=0;this.lastSystemTeleportTime=0}async initialize(){secureEventManager.onSecureNet("Client:AntiCheat:SystemTeleport",this.setLastSystemTeleportTime.bind(this));const position=GetEntityCoords(PlayerPedId(),true);this.lastPosition={x:position[0],y:position[1],z:position[2]};return}setLastSystemTeleportTime(){this.lastSystemTeleportTime=GetGameTimer()}async performCheck(context){const detections=[];const currentTime=GetGameTimer();if(currentTime-this.lastDetection<this.checkInterval){return detections}this.lastDetection=currentTime;const currentPosition={x:context.coords.x,y:context.coords.y,z:context.coords.z};if(noClipManager.isNoClipEnabled()||currentTime-this.lastSystemTeleportTime<2e3){this.lastPosition=null;return detections}if(this.lastPosition){const distance=Vdist2(currentPosition.x,currentPosition.y,currentPosition.z,this.lastPosition.x,this.lastPosition.y,this.lastPosition.z);const isInVehicle=context.isInVehicle;let speedThreshold=isInVehicle?80:30;const isInParachuteFall=IsPedInParachuteFreeFall(context.ped);const parachuteState=GetPedParachuteState(context.ped);if(isInParachuteFall||parachuteState===1||parachuteState===2||parachuteState===3){console.log("Parachute detected, adjusting speed threshold");speedThreshold=80}const isRagdoll=IsPedRagdoll(context.ped);if(isRagdoll){speedThreshold=100}if(distance>speedThreshold*speedThreshold){this.detectionCount++;detections.push({module:"TeleportModule",severity:2,timestamp:this.lastDetection,reason:`Player moved an abnormal distance of ${distance.toFixed(2)} units.`,details:{distance,detectionCount:this.detectionCount}})}}this.lastPosition=currentPosition;return detections}};var ArmorModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",200);__publicField(this,"lastArmorChange",0);__publicField(this,"lastArmor",-1);this.detectionCount=0;this.lastDetection=0}async initialize(){return}updateArmor(){this.lastArmorChange=GetGameTimer()}async performCheck(context){const detections=[];if(this.lastArmor===-1){this.lastArmor=context.armor;return detections}const currentArmor=context.armor;if(currentArmor>this.lastArmor){if(GetGameTimer()-this.lastArmorChange>300){this.detectionCount++;detections.push({module:"ArmorModule",severity:2,timestamp:GetGameTimer(),reason:`Armor increased.`,details:{previousArmor:this.lastArmor,currentArmor,detectionCount:this.detectionCount}})}}this.lastArmor=currentArmor;return detections}};var GodModeModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",1e3);__publicField(this,"godModeCount",0);this.detectionCount=0;this.lastDetection=0}async initialize(){return}async performCheck(context){const detections=[];const currentTime=GetGameTimer();if(currentTime-this.lastDetection<this.checkInterval){return detections}this.lastDetection=currentTime;if(playerManager.isPlayerInjured()||noClipManager.isNoClipEnabled()||playerManager.isPlayerAdminDuty())return[];const vehicle=context.vehicle;if(vehicle&&vehicle!==0){SetEntityCanBeDamaged(vehicle,true)}const ped=context.ped;if(GetEntityCanBeDamaged(ped)===false){this.godModeCount+=1;if(this.godModeCount>=3){this.detectionCount+=1;this.godModeCount=0;detections.push({module:"GodModeModule",severity:2,timestamp:this.lastDetection,reason:`Player has god mode enabled.`,details:{detectionCount:this.detectionCount}})}}if(context.isInvincible||GetPlayerInvincible_2(PlayerId())&&!IsEntityPositionFrozen(ped)){this.godModeCount+=1;if(this.godModeCount>=3){this.detectionCount+=1;this.godModeCount=0;detections.push({module:"GodModeModule",severity:2,timestamp:this.lastDetection,reason:`Player has god mode enabled.`,details:{detectionCount:this.detectionCount}})}}SetEntityProofs(ped,false,false,false,false,false,false,false,false);return detections}};var HealthModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",200);__publicField(this,"lastHealthChange",0);__publicField(this,"lastHealth",-1);this.detectionCount=0;this.lastDetection=0}async initialize(){return}updateHealth(){this.lastHealthChange=GetGameTimer()}async performCheck(context){const detections=[];if(this.lastHealth===-1){this.lastHealth=context.health;return detections}const currentHealth=context.health;if(currentHealth>this.lastHealth){if(GetGameTimer()-this.lastHealthChange>300){this.detectionCount++;detections.push({module:"HealthModule",severity:2,timestamp:GetGameTimer(),reason:`Health increased.`,details:{previousHealth:this.lastHealth,currentHealth,detectionCount:this.detectionCount}})}}this.lastHealth=currentHealth;return detections}};var InvisibleModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",5e3);__publicField(this,"entityInvisibleCount",0);this.detectionCount=0;this.lastDetection=0}async initialize(){return}async performCheck(context){const detections=[];const currentTime=GetGameTimer();if(currentTime-this.lastDetection<this.checkInterval){return detections}this.lastDetection=currentTime;if(noClipManager.isNoClipEnabled()||playerManager.isPlayerAdminDuty()){return detections}const ped=context.ped;if(!IsEntityVisible(ped)||GetEntityAlpha(ped)===0||!IsEntityVisibleToScript(ped)){this.entityInvisibleCount+=1;if(this.entityInvisibleCount>=3){this.entityInvisibleCount=0;this.detectionCount+=1;detections.push({module:"InvisibleModule",severity:2,timestamp:this.lastDetection,reason:`Player is invisible.`,details:{detectionCount:this.detectionCount}})}}if(!DoesEntityHavePhysics(ped)&&GetEntityType(ped)===1){this.entityInvisibleCount+=1;if(this.entityInvisibleCount>=3){this.entityInvisibleCount=0;this.detectionCount+=1;detections.push({module:"InvisibleModule",severity:2,timestamp:this.lastDetection,reason:`Player entity lacks physics.`,details:{detectionCount:this.detectionCount}})}}return detections}};var PlayerPedModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",2e3);__publicField(this,"blacklistedTasks",[100,101,151,221,222]);__publicField(this,"allowedPedModels",[GetHashKey("mp_m_freemode_01"),GetHashKey("mp_f_freemode_01")]);__publicField(this,"blacklistedAnimations",[["rcmpaparazzi_2","shag_loop_poppy"],["anim@mp_rollarcoaster","hands_up_idle_a_player_one"]]);this.detectionCount=0;this.lastDetection=0}async initialize(){return}async performCheck(context){const detections=[];const currentTime=GetGameTimer();if(currentTime-this.lastDetection<this.checkInterval){return detections}this.lastDetection=currentTime;const ped=context.ped;const pedModel=context.model;if(!this.allowedPedModels.includes(pedModel)){this.detectionCount+=1;detections.push({module:"PlayerPedModule",severity:3,timestamp:this.lastDetection,reason:`Player is using an unauthorized ped model: ${pedModel}`,details:{pedModel,detectionCount:this.detectionCount}})}if(GetPedConfigFlag(ped,223,true)){this.detectionCount+=1;detections.push({module:"PlayerPedModule",severity:3,timestamp:this.lastDetection,reason:`Tried to turn into tiny ped.`,details:{pedModel,detectionCount:this.detectionCount}})}for(const task of this.blacklistedTasks){if(GetIsTaskActive(ped,task)){this.detectionCount+=1;ClearPedTasksImmediately(ped);ClearPedTasks(ped);ClearPedSecondaryTask(ped);detections.push({module:"PlayerPedModule",severity:3,timestamp:this.lastDetection,reason:`Player is performing a blacklisted task: ${task}`,details:{pedModel,task,detectionCount:this.detectionCount}})}}for(const animDict of this.blacklistedAnimations){if(IsEntityPlayingAnim(ped,animDict[0],animDict[1],3)){this.detectionCount+=1;ClearPedTasksImmediately(ped);ClearPedTasks(ped);ClearPedSecondaryTask(ped);detections.push({module:"PlayerPedModule",severity:3,timestamp:this.lastDetection,reason:`Player is performing a blacklisted animation: ${animDict[0]} - ${animDict[1]}`,details:{pedModel,animDict,detectionCount:this.detectionCount}})}}if(GetIsTaskActive(ped,100)||GetIsTaskActive(ped,101)||GetIsTaskActive(ped,151)||GetIsTaskActive(ped,221)||GetIsTaskActive(ped,222)){this.detectionCount+=1;detections.push({module:"PlayerPedModule",severity:1,timestamp:this.lastDetection,reason:`Anti AFK detection triggered.`,details:{detectionCount:this.detectionCount}})}if(GetIsTaskActive(PlayerPedId(),151)){this.detectionCount+=1;detections.push({module:"PlayerPedModule",severity:1,timestamp:this.lastDetection,reason:`Tesla Mode detection triggered.`,details:{detectionCount:this.detectionCount}})}const activePlayers=GetActivePlayers();for(const player of activePlayers){const playerPed=GetPlayerPed(player);const playerBlip=GetBlipFromEntity(playerPed);if(DoesBlipExist(playerBlip)&&player!==PlayerId()){this.detectionCount+=1;detections.push({module:"PlayerPedModule",severity:1,timestamp:this.lastDetection,reason:`Detected player blips.`,details:{targetPlayer:player,detectionCount:this.detectionCount}})}}return detections}};var ChatManager=class{constructor(){__publicField(this,"lastInteraction",0);this.registerEvents();this.registerInputs()}registerEvents(){secureEventManager.onSecureNet("Client:Hud:Announcement",this.globalNotification.bind(this));secureEventManager.onSecureNet("Client:Player:SendMessage",this.sendMessage.bind(this));nuiManager.onNui("Client:Chat:SendMessage",this.onCommand.bind(this))}registerInputs(){inputSystem.registerKey("t","client:chat","Press to open chat",this.onInteractionKey.bind(this))}onInteractionKey(){if(GetGameTimer()-this.lastInteraction<300)return;this.lastInteraction=GetGameTimer();this.openChat()}onCommand(command){secureEventManager.emitSecureNet("Server:Chat:SendCommand",command)}openChat(){nuiManager.setView("chat");SetNuiFocusKeepInput(false)}isChatOpen(){return nuiManager.getCurrentView()==="chat"}globalNotification(title,message,type,duration){const dto={title,message,type,duration};nuiManager.emitNui("Web:Hud:Announcement",dto)}sendMessage(title,message,type,duration){const notificationDto={title,message,type,duration};nuiManager.emitNui("Web:Hud:Notification",notificationDto);playerManager.playSound(-1,"ATM_WINDOW","HUD_FRONTEND_DEFAULT_SOUNDSET",true)}};var chatManager=new ChatManager;var VehicleManager=class{constructor(){__publicField(this,"vehicles",new Cache);__publicField(this,"lastInteraction",0);__publicField(this,"frameSkipCounter",0);__publicField(this,"VEHICLE_UPDATE_SKIP_FRAMES",4);__publicField(this,"VEHICLE_FUEL_UPDATE_DELTA",.4);__publicField(this,"fuelVehicle",-1);__publicField(this,"lastVehicleFuel",-1);__publicField(this,"isHudVisible",false);__publicField(this,"DRIVER_SEAT",-1);__publicField(this,"FPS_REF",120);__publicField(this,"BETA",.025);__publicField(this,"SENS",7);__publicField(this,"BOOST_MAX",35);__publicField(this,"V_RELEASE",250);__publicField(this,"MIN_THR",.05);__publicField(this,"MAX_BRK",.05);__publicField(this,"SLEW_PPS",30);__publicField(this,"HYST",.5);__publicField(this,"lastPct",0);__publicField(this,"lastMs",0);__publicField(this,"lastVeh",0);__publicField(this,"modelMaxSpeedCache",new Map);__publicField(this,"lastMaxSpeedVehicle",0);__publicField(this,"lastMaxSpeedValue",0);this.registerEvents();this.registerInputs();this.registerIntervals()}registerEvents(){secureEventManager.onSecureNet("Client:Vehicle:SetVehicleExtraColours",this.setVehicleExtraColours.bind(this));secureEventManager.onSecureNet("Client:Vehicle:SetVehicleExtraColour",this.addVehicleExtraColour.bind(this));secureEventManager.onSecureNet("Client:Vehicle:SetVehicleMods",this.setVehicleMods.bind(this));secureEventManager.onSecureNet("Client:Vehicle:SetVehicleMod",this.addVehicleMod.bind(this));secureEventManager.onSecureNet("Client:Vehicle:ToggleEngineState",this.toggleEngineState.bind(this));secureEventManager.onSecureNet("Client:Vehicle:Repair",this.repairVehicle.bind(this));secureEventManager.onSecureNet("Client:Vehicle:ResetTuning",this.resetTuning.bind(this))}registerInputs(){inputSystem.registerKey("m","client:vehicle:triggerEngine","Motor",this.triggerEngineState.bind(this));inputSystem.registerKey("k","client:vehicle:triggerTrunk","Kofferraum",this.triggerTrunkState.bind(this));inputSystem.registerKey("g","client:vehicle:get-in","Einsteigen",this.triggerGetIn.bind(this))}registerIntervals(){scheduleSystem.registerInterval(this.updateVehicles.bind(this));tickSystem.registerTick(this.vehicleHandling.bind(this));this.lastMs=GetGameTimer()}clamp(x,a,b){if(x<a)return a;if(x>b)return b;return x}getModelMaxSpeed(vehicle){const cached=this.modelMaxSpeedCache.get(vehicle);if(cached!==void 0){return cached}const maxSpeed=GetVehicleHandlingFloat(vehicle,"CHandlingData","fInitialDriveMaxFlatVel")/3.6;this.modelMaxSpeedCache.set(vehicle,maxSpeed);return maxSpeed}resetBoostIfNeeded(){if(Math.abs(this.lastPct)<this.HYST){return}if(this.lastVeh!==0&&DoesEntityExist(this.lastVeh)){SetVehicleEnginePowerMultiplier(this.lastVeh,0)}this.lastPct=0}vehicleHandling(){const ped=PlayerPedId();if(!IsPedInAnyVehicle(ped,false)){this.resetBoostIfNeeded();return}const veh=GetVehiclePedIsIn(ped,false);if(veh===0||GetPedInVehicleSeat(veh,this.DRIVER_SEAT)!==ped||!IsVehicleEngineOn(veh)){this.resetBoostIfNeeded();return}const throttle=GetControlNormal(0,71);const brake=GetControlNormal(0,72);const speedMs=GetEntitySpeed(veh);const speedKmh=speedMs*3.6;const frameTime=GetFrameTime();const fps=1/Math.max(5e-4,frameTime);const baseMaxSpeed=this.getModelMaxSpeed(veh);if(veh!==this.lastMaxSpeedVehicle||this.lastMaxSpeedValue!==baseMaxSpeed){SetVehicleMaxSpeed(veh,baseMaxSpeed);this.lastMaxSpeedVehicle=veh;this.lastMaxSpeedValue=baseMaxSpeed}const maxSpeedKmh=baseMaxSpeed*3.6;if(throttle<=this.MIN_THR||brake>=this.MAX_BRK||speedKmh>=this.V_RELEASE||speedKmh>=maxSpeedKmh){this.resetBoostIfNeeded();return}const deltaA=this.BETA*(this.FPS_REF-fps);const pctTargetRaw=Math.max(0,deltaA)/Math.max(.1,this.SENS)*100;const pctTarget=this.clamp(pctTargetRaw,0,this.BOOST_MAX);const now=GetGameTimer();const dt=Math.max(.001,(now-this.lastMs)/1e3);this.lastMs=now;const maxStep=this.SLEW_PPS*dt;let nextPct=this.lastPct;if(pctTarget>this.lastPct){nextPct=Math.min(pctTarget,this.lastPct+maxStep)}else{nextPct=Math.max(pctTarget,this.lastPct-maxStep)}if(Math.abs(nextPct-this.lastPct)<this.HYST){return}SetVehicleEnginePowerMultiplier(veh,nextPct);this.lastPct=nextPct;this.lastVeh=veh}async updateVehicles(){this.checkCurrentVehicle();this.frameSkipCounter++;if(this.frameSkipCounter<this.VEHICLE_UPDATE_SKIP_FRAMES){return}this.frameSkipCounter=0;if(IsPedInAnyVehicle(PlayerPedId(),true)){if(playerManager.isPlayerCarrying()){secureEventManager.emitSecureNet("Server:Player:StopCarry")}}const vehiclePool=GetGamePool("CVehicle");if(!vehiclePool||vehiclePool.length===0)return;for(const localVehicle of vehiclePool){const vehicleId=VehToNet(localVehicle);const data=this.vehicles.get(vehicleId);if(!data||data.isStreamed){continue}SetVehicleRadioEnabled(localVehicle,false);SetVehRadioStation(localVehicle,"OFF");this.setVehicleExtraColour(localVehicle,data.pearlescentColor,data.wheelColor,data.interiorColor);this.setVehicleMod(localVehicle,data.tuning);if(Entity(localVehicle).state.isShopVehicle){this.setShopVehicle(localVehicle)}data.isStreamed=true}}updateVehicleHud(vehicleHud){if(!vehicleHud){if(!this.isHudVisible)return;nuiManager.emitNui("Web:Hud:Vehicle",{inVehicle:false,speed:0,rpm:0,gear:0,fuel:0,maxFuel:0,engineOn:false,locked:false,trunkOpen:false});this.isHudVisible=false;return}else{nuiManager.emitNui("Web:Hud:Vehicle",vehicleHud);this.isHudVisible=true}}checkCurrentVehicle(){const playerPed=PlayerPedId();if(!IsPedInAnyVehicle(playerPed,false)){if(this.fuelVehicle!==-1){Entity(this.fuelVehicle).state.set("fuel",this.lastVehicleFuel,true);this.fuelVehicle=-1;this.lastVehicleFuel=-1}this.updateVehicleHud(null);return}const vehicle=GetVehiclePedIsIn(playerPed,false);if(!vehicle||!DoesEntityExist(vehicle))return;if(this.fuelVehicle!==-1&&this.fuelVehicle!==vehicle){Entity(this.fuelVehicle).state.set("fuel",this.lastVehicleFuel,true);this.fuelVehicle=-1;this.lastVehicleFuel=-1}const fuel=Number(this.lastVehicleFuel!==-1?this.lastVehicleFuel:Entity(vehicle).state.fuel)||0;const maxFuel=Entity(vehicle).state.maxFuel;const kmh=GetEntitySpeed(vehicle)*3.6;const engineOn=GetIsVehicleEngineRunning(vehicle);const currentRpm=GetVehicleCurrentRpm(vehicle)||0;const vehicleHud={inVehicle:true,speed:Math.round(kmh),rpm:currentRpm,gear:GetVehicleCurrentGear(vehicle),fuel,maxFuel,engineOn,locked:GetVehicleDoorLockStatus(vehicle)===2,trunkOpen:false};this.updateVehicleHud(vehicleHud);if(GetPedInVehicleSeat(vehicle,-1)!==playerPed||!engineOn)return;if(fuel<=0){SetVehicleEngineOn(vehicle,false,true,true);chatManager.sendMessage("Fahrzeug","Der Tank des Fahrzeug ist leer!","error",7500);if(fuel!==0){Entity(vehicle).state.set("fuel",0,true)}return}const isOverloaded=Entity(vehicle).state.isOverloaded;if(isOverloaded){const vehicleMaxSpeed=this.getModelMaxSpeed(vehicle);SetEntityMaxSpeed(vehicle,vehicleMaxSpeed*.7)}const multiplier=Entity(vehicle).state.fuelMultiplier;const oldFuel=Entity(vehicle).state.fuel;if(kmh>0){const fuelConsumption=kmh*15e-6*multiplier;this.fuelVehicle=vehicle;this.lastVehicleFuel=fuel-fuelConsumption;if(this.lastVehicleFuel<0){this.lastVehicleFuel=0;Entity(vehicle).state.set("fuel",0,true)}else if(oldFuel-this.lastVehicleFuel>this.VEHICLE_FUEL_UPDATE_DELTA){Entity(vehicle).state.set("fuel",this.lastVehicleFuel,true)}}}addVehicleExtraColour(vehicleId,pearlescentColor,wheelColor,interiorColor){const vehicle=this.vehicles.get(vehicleId);if(!vehicle){this.vehicles.set(vehicleId,{pearlescentColor,wheelColor,interiorColor,isStreamed:false,tuning:[]});return}vehicle.pearlescentColor=pearlescentColor;vehicle.wheelColor=wheelColor;vehicle.interiorColor=interiorColor;vehicle.isStreamed=false}addVehicleMod(vehicleId,tuning){const vehicle=this.vehicles.get(vehicleId);if(!vehicle){this.vehicles.set(vehicleId,{pearlescentColor:0,wheelColor:0,interiorColor:0,isStreamed:false,tuning});return}vehicle.tuning=tuning;vehicle.isStreamed=false}triggerGetIn(){if(GetGameTimer()-this.lastInteraction<500)return;this.lastInteraction=GetGameTimer();if(playerManager.isInAction()||playerManager.isPlayerCuffed()||playerManager.isPlayerInjured())return;if(playerManager.isPlayerCarried()||playerManager.isPlayerCarrying())return;const playerPed=PlayerPedId();if(IsPedInAnyVehicle(playerPed,true))return;const playerCoords=GetEntityCoords(playerPed,true);const vehiclePool=GetGamePool("CVehicle");if(!vehiclePool||vehiclePool.length===0)return;const MAX_DISTANCE=10;let nearestVehicle=null;let nearestDistance=MAX_DISTANCE;for(const vehicle of vehiclePool){if(!DoesEntityExist(vehicle))continue;const vehCoords=GetEntityCoords(vehicle,true);const dist=Vdist2(playerCoords[0],playerCoords[1],playerCoords[2],vehCoords[0],vehCoords[1],vehCoords[2]);if(dist>MAX_DISTANCE)continue;if(dist<nearestDistance){if(!IsAnyVehicleSeatEmpty(vehicle))continue;if(GetEntitySpeed(vehicle)>1.5)continue;nearestDistance=dist;nearestVehicle=vehicle}}if(!nearestVehicle)return;const doorBones=[{name:"door_pside_f",seat:0},{name:"door_dside_r",seat:1},{name:"door_pside_r",seat:2}];let foundSeat=-1;let closestDoorDistance=MAX_DISTANCE;for(const door of doorBones){const boneIndex=GetEntityBoneIndexByName(nearestVehicle,door.name);if(boneIndex===-1)continue;const boneCoords=GetWorldPositionOfEntityBone(nearestVehicle,boneIndex);const dist=Vdist2(playerCoords[0],playerCoords[1],playerCoords[2],boneCoords[0],boneCoords[1],boneCoords[2]);if(dist>MAX_DISTANCE)continue;if(IsVehicleSeatFree(nearestVehicle,door.seat)){if(dist<closestDoorDistance){closestDoorDistance=dist;foundSeat=door.seat}}}if(foundSeat===-1){for(let seat=-1;seat<GetVehicleMaxNumberOfPassengers(nearestVehicle);seat++){if(IsVehicleSeatFree(nearestVehicle,seat)){foundSeat=seat;break}}}if(foundSeat===-1)return;TaskEnterVehicle(playerPed,nearestVehicle,5e3,foundSeat,2,1,0)}toggleEngineState(vehicleNetworkId,state){const playerPed=PlayerPedId();if(IsPedInAnyVehicle(playerPed,false)){const vehicleId=NetToVeh(vehicleNetworkId);const vehicle=GetVehiclePedIsIn(playerPed,false);if(vehicle===vehicleId){SetVehicleEngineOn(vehicle,state,true,true)}}}triggerEngineState(){if(GetGameTimer()-this.lastInteraction<500)return;this.lastInteraction=GetGameTimer();const playerPed=PlayerPedId();if(IsPedInAnyVehicle(playerPed,false)){const vehicle=GetVehiclePedIsIn(playerPed,false);if(GetPedInVehicleSeat(vehicle,-1)!==playerPed)return;const vehicleId=VehToNet(vehicle);secureEventManager.emitSecureNet("Server:Vehicle:ToggleEngine",vehicleId)}}triggerTrunkState(){if(GetGameTimer()-this.lastInteraction<500)return;this.lastInteraction=GetGameTimer();const playerPed=PlayerPedId();if(IsPedInAnyVehicle(playerPed,false)){const vehicle=GetVehiclePedIsIn(playerPed,false);const vehicleId=VehToNet(vehicle);secureEventManager.emitSecureNet("Server:Vehicle:ToggleTrunk",vehicleId);return}const playerCoords=GetEntityCoords(playerPed,true);const vehiclePool=GetGamePool("CVehicle");for(const vehicle of vehiclePool){const vehicleCoords=GetEntityCoords(vehicle,true);const distance=Vdist2(playerCoords[0],playerCoords[1],playerCoords[2],vehicleCoords[0],vehicleCoords[1],vehicleCoords[2]);if(distance<9){const vehicleNetworkId=NetworkGetNetworkIdFromEntity(vehicle);if(NetworkDoesNetworkIdExist(vehicleNetworkId)){secureEventManager.emitSecureNet("Server:Vehicle:ToggleTrunk",vehicleNetworkId);return}}}}setVehicleExtraColours(data){for(const{vehicleId,pearlescentColor,wheelColor,interiorColor}of data){const vehicle=this.vehicles.get(vehicleId);if(!vehicle){this.vehicles.set(vehicleId,{pearlescentColor,wheelColor,interiorColor,isStreamed:false,tuning:[]});continue}vehicle.pearlescentColor=pearlescentColor;vehicle.wheelColor=wheelColor}}setVehicleMods(data){for(const{vehicleId,tuning}of data){const vehicle=this.vehicles.get(vehicleId);if(!vehicle){this.vehicles.set(vehicleId,{pearlescentColor:0,wheelColor:0,interiorColor:0,isStreamed:false,tuning});continue}vehicle.tuning=tuning}}setVehicleExtraColour(vehicleId,pearlescentColor,wheelColor,interiorColor){SetVehicleExtraColours(vehicleId,pearlescentColor,wheelColor);SetVehicleInteriorColor(vehicleId,interiorColor)}setVehicleMod(vehicleId,tuning){SetVehicleModKit(vehicleId,0);for(const{type,index}of tuning){if(type===999){SetVehicleWindowTint(vehicleId,index);continue}SetVehicleMod(vehicleId,type,index,false)}}setShopVehicle(vehicle){SetEntityInvincible(vehicle,true);FreezeEntityPosition(vehicle,true);SetVehicleOnGroundProperly(vehicle)}repairVehicle(vehicleNetworkId){const vehicleId=NetToVeh(vehicleNetworkId);if(!vehicleId||!DoesEntityExist(vehicleId))return;const module2=antiCheatManager.getModule("vehicleModule");if(module2)module2.updateVehicle();SetVehicleFixed(vehicleId);SetVehicleDeformationFixed(vehicleId);SetVehicleUndriveable(vehicleId,false);SetVehicleEngineHealth(vehicleId,1e3);SetVehicleBodyHealth(vehicleId,1e3)}resetTuning(vehicleNetworkId){const vehicleId=NetToVeh(vehicleNetworkId);if(!vehicleId||!DoesEntityExist(vehicleId))return;SetVehicleModKit(vehicleId,0);for(let modType=0;modType<50;modType++){RemoveVehicleMod(vehicleId,modType)}}canInteract(){return GetGameTimer()-this.lastInteraction>=500}};var vehicleManager=new VehicleManager;var SpeedChangerModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",1e3);__publicField(this,"speedThreshold",10);this.detectionCount=0;this.lastDetection=0}async initialize(){return}async performCheck(context){const detections=[];const currentTime=GetGameTimer();if(currentTime-this.lastDetection<this.checkInterval){return detections}this.lastDetection=currentTime;const ped=context.ped;const isInVehicle=context.isInVehicle;if(isInVehicle){if(!IsPedInAnyPlane(ped)&&!IsPedInAnyHeli(ped)){const vehicle=context.vehicle;const isInAir=IsEntityInAir(vehicle);const velocity=context.velocity;const coords=GetEntityCoords(vehicle,true);const maxSpeed=vehicleManager.getModelMaxSpeed(vehicle);if(maxSpeed>0){const speed=Math.sqrt(velocity.x**2+velocity.y**2);if(!isInAir&&speed>maxSpeed+this.speedThreshold){this.detectionCount+=1;detections.push({module:"SpeedChangerModule",severity:1,timestamp:this.lastDetection,reason:`Vehicle speed exceeds estimated max speed.`,details:{speed,maxSpeed,coords,detectionCount:this.detectionCount}})}}}}return detections}};var SuperJumpModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",1e3);this.detectionCount=0;this.lastDetection=0}async initialize(){return}async performCheck(context){const detections=[];const currentTime=GetGameTimer();if(currentTime-this.lastDetection<this.checkInterval){return detections}this.lastDetection=currentTime;if(IsPedDoingBeastJump(context.ped)){this.detectionCount+=1;detections.push({module:"SuperJumpModule",severity:1,timestamp:this.lastDetection,reason:`Player is using super jump ability.`,details:{detectionCount:this.detectionCount}})}return detections}};var HornBoostModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",1e3);this.detectionCount=0;this.lastDetection=0}async initialize(){return}async performCheck(context){const detections=[];const currentTime=GetGameTimer();if(currentTime-this.lastDetection<this.checkInterval){return detections}this.lastDetection=currentTime;if(!context.isInVehicle){return detections}const vehicle=context.vehicle;if(GetPedInVehicleSeat(vehicle,-1)!==context.ped){return detections}if(IsVehicleRocketBoostActive(vehicle)){this.detectionCount+=1;detections.push({module:"HornBoostModule",severity:3,timestamp:this.lastDetection,reason:`Player is using horn boost.`,details:{detectionCount:this.detectionCount}})}return detections}};var VehicleModule=class{constructor(){__publicField(this,"detectionCount");__publicField(this,"lastDetection");__publicField(this,"checkInterval",2500);__publicField(this,"lastVehicleChange",0);__publicField(this,"vehicleWeaponHashes",[2971687502,1945616459,3450622333,3530961278,1259576109,4026335563,1566990507,1186503822,2669318622,3473446624,4171469727,1741783703,2211086889]);__publicField(this,"healthThreshold",50);__publicField(this,"lastHealth",{vehicle:-1,health:-1,engineHealth:-1,bodyHealth:-1,plate:""});this.detectionCount=0;this.lastDetection=0}async initialize(){return}updateVehicle(){this.lastVehicleChange=GetGameTimer();this.lastHealth.vehicle=-1;this.lastHealth.health=-1;this.lastHealth.engineHealth=-1;this.lastHealth.bodyHealth=-1;this.lastHealth.plate=""}async performCheck(context){const ped=context.ped;SetPedCanBeDraggedOut(ped,false);const detections=[];const currentTime=GetGameTimer();if(currentTime-this.lastDetection<this.checkInterval){return detections}this.lastDetection=currentTime;if(context.isInVehicle){const vehicle=context.vehicle;if(DoesVehicleHaveWeapons(vehicle)){for(const weaponHash of this.vehicleWeaponHashes){DisableVehicleWeapon(true,weaponHash,vehicle,ped)}}if(currentTime-this.lastVehicleChange>500){const currentHealth=GetEntityHealth(vehicle);const currentEngineHealth=GetVehicleEngineHealth(vehicle);const currentBodyHealth=GetVehicleBodyHealth(vehicle);const currentPlate=GetVehicleNumberPlateText(vehicle);if(this.lastHealth.vehicle!==vehicle){this.lastHealth={vehicle,health:currentHealth,engineHealth:currentEngineHealth,bodyHealth:currentBodyHealth,plate:GetVehicleNumberPlateText(vehicle)}}else{if(currentHealth>this.lastHealth.health+this.healthThreshold){this.detectionCount++;detections.push({module:"VehicleModule",severity:2,timestamp:GetGameTimer(),reason:`Vehicle health increased.`,details:{previousHealth:this.lastHealth.health,currentHealth,detectionCount:this.detectionCount}})}if(currentEngineHealth>this.lastHealth.engineHealth+this.healthThreshold){this.detectionCount++;detections.push({module:"VehicleModule",severity:2,timestamp:GetGameTimer(),reason:`Vehicle engine health increased.`,details:{previousEngineHealth:this.lastHealth.engineHealth,currentEngineHealth,detectionCount:this.detectionCount}})}if(currentBodyHealth>this.lastHealth.bodyHealth+this.healthThreshold){this.detectionCount++;detections.push({module:"VehicleModule",severity:2,timestamp:GetGameTimer(),reason:`Vehicle body health increased.`,details:{previousBodyHealth:this.lastHealth.bodyHealth,currentBodyHealth,detectionCount:this.detectionCount}})}if(this.lastHealth.plate!==currentPlate){this.detectionCount++;detections.push({module:"VehicleModule",severity:1,timestamp:GetGameTimer(),reason:`Vehicle plate changed.`,details:{previousPlate:this.lastHealth.plate,currentPlate,detectionCount:this.detectionCount}});this.lastHealth.plate=currentPlate}this.lastHealth.health=currentHealth;this.lastHealth.engineHealth=currentEngineHealth;this.lastHealth.bodyHealth=currentBodyHealth;this.lastHealth.plate=currentPlate}}const vehicleFuelLevel=GetVehicleFuelLevel(vehicle);if(vehicleFuelLevel>1e3){this.detectionCount++;detections.push({module:"VehicleModule",severity:2,timestamp:this.lastDetection,reason:`Vehicle fuel level is abnormally high.`,details:{fuelLevel:vehicleFuelLevel,detectionCount:this.detectionCount}})}if(GetPedInVehicleSeat(vehicle,-1)===context.ped&&!IsPedInAnyHeli(context.ped)&&!IsPedInAnyPlane(context.ped)){const highGround=GetEntityHeightAboveGround(vehicle);if(highGround>50){this.detectionCount++;detections.push({module:"VehicleModule",severity:2,timestamp:this.lastDetection,reason:`Vehicle at extreme height.`,details:{heightAboveGround:highGround,detectionCount:this.detectionCount}})}}}const vehicles=GetGamePool("CVehicle");for(const vehicle of vehicles){const networkId=NetworkGetNetworkIdFromEntity(vehicle);if(networkId===0){this.detectionCount++;detections.push({module:"VehicleModule",severity:3,timestamp:this.lastDetection,reason:`Found non-networked vehicle.`,details:{model:GetEntityModel(vehicle),detectionCount:this.detectionCount}});SetEntityAsMissionEntity(vehicle,true,true);DeleteEntity(vehicle)}const attachedTo=GetEntityAttachedTo(vehicle);if(attachedTo&&attachedTo===ped&&GetPedInVehicleSeat(vehicle,-1)!==ped){this.detectionCount++;detections.push({module:"VehicleModule",severity:3,timestamp:this.lastDetection,reason:`Vehicle attached to player.`,details:{model:GetEntityModel(vehicle),detectionCount:this.detectionCount}})}}return detections}};var AnticheatModules={softAimModule:SoftAimModule,ammoModule:AmmoModule,explosiveWeaponModule:ExplosiveWeaponModule,silentAimModule:SilentAimModule,wallHackModule:WallHackModule,weaponModule:WeaponModule,injectorModule:InjectorModule,menuModule:MenuModule,nightVisionModule:NightVisionModule,pickUpModule:PickUpModule,spectateModule:SpectateModule,thermalVisionModule:ThermalVisionModule,noClipModule:NoClipModule,teleportModule:TeleportModule,armorModule:ArmorModule,godModeModule:GodModeModule,healthModule:HealthModule,invisibleModule:InvisibleModule,pedModule:PedModule,speedChangerModule:SpeedChangerModule,antiEntityModule:AntiEntityModule,superJumpModule:SuperJumpModule,playerPedModule:PlayerPedModule,hornBoostModule:HornBoostModule,vehicleModule:VehicleModule,spriteModule:SpriteModule,antiAIModule:AntiAIModule,antiResourceModule:AntiResourceModule,antiFreeCamModule:AntiFreeCamModule,clothingModule:ClothingModule};var AntiCheatManager=class{constructor(){__publicField(this,"isInitialized",false);__publicField(this,"moduleInstances",new Cache);__publicField(this,"currentDetections",[]);__publicField(this,"checkInterval",5e3);__publicField(this,"lastSendTime",0);this.initializeModules();this.initializeAnticheatInterval()}async initializeModules(){if(this.isInitialized)return;this.isInitialized=true;await this.waitForPlayerSpawn();for(const[moduleName,ModuleClass]of Object.entries(AnticheatModules)){try{const moduleInstance=new ModuleClass;await moduleInstance.initialize();this.moduleInstances.set(moduleName,moduleInstance)}catch(error){console.error(`[AntiCheatManager] Failed to initialize module: ${moduleName}`,error)}}}async initializeAnticheatInterval(){scheduleSystem.registerInterval(this.handleDetectionInterval.bind(this))}buildContext(){const ped=PlayerPedId();const coords=GetEntityCoords(ped,true);const velocity=GetEntityVelocity(ped);const vehicle=GetVehiclePedIsIn(ped,false);const isInVehicle=vehicle!==0;const currentWeapon=GetSelectedPedWeapon(ped);const isArmed=currentWeapon!==GetHashKey("WEAPON_UNARMED");return{ped,coords:new Vector3(coords[0],coords[1],coords[2]),velocity:new Vector3(velocity[0],velocity[1],velocity[2]),health:GetEntityHealth(ped),armor:GetPedArmour(ped),isDead:IsEntityDead(ped),isInvincible:GetPlayerInvincible(PlayerId()),model:GetEntityModel(ped),vehicle,isInVehicle,currentWeapon,currentAmmo:isArmed?GetAmmoInPedWeapon(ped,currentWeapon):0,isShooting:IsPedShooting(ped)}}async handleDetectionInterval(){const context=this.buildContext();const modulePromises=this.moduleInstances.values().map(async moduleInstance=>({moduleName:moduleInstance.constructor.name,detections:await moduleInstance.performCheck(context)}));const results=await Promise.allSettled(modulePromises);for(const result of results){if(result.status==="fulfilled"){const{detections}=result.value;if(detections&&detections.length>0){for(const detection of detections){this.currentDetections.push(detection)}}}else{}}if(this.currentDetections.length===0)return;const currentTime=GetGameTimer();if(currentTime-this.lastSendTime<this.checkInterval)return;this.lastSendTime=currentTime;await this.sendDetections()}async sendDetections(){secureEventManager.emitSecureNet("Server:Anticheat:ReportDetections",this.currentDetections);this.currentDetections=[]}getModule(moduleName){return this.moduleInstances.get(moduleName)}waitForPlayerSpawn(){return new Promise(resolve=>{const checkInterval=setInterval(()=>{if(spawnManager.isSpawned()){clearInterval(checkInterval);setTimeout(()=>{resolve()},2e3)}},100)})}};var antiCheatManager=new AntiCheatManager;var _Lock=class _Lock{constructor(type,position,radius,entityId){__publicField(this,"id");__publicField(this,"type");__publicField(this,"position");__publicField(this,"radius");__publicField(this,"entityId");__publicField(this,"isLocked",false);this.id=_Lock.nextId++;this.type=type;this.position=position;this.radius=radius;this.entityId=entityId}getId(){return this.id}getType(){return this.type}getPosition(){return this.position}getRadius(){return this.radius}getEntityId(){return this.entityId}triggerLockEvent(){secureEventManager.emitSecureNet(`Server:${this.type}:TriggerLock`,this.id,this.entityId)}};__publicField(_Lock,"nextId",1);var Lock=_Lock;var LockManager=class{constructor(){__publicField(this,"lastInteraction",0);__publicField(this,"locks",new Cache);this.loadLocks();this.registerInputs()}registerInputs(){inputSystem.registerKey("l","client:lock","Press to lock/unlock",this.onLockKey.bind(this))}onLockKey(){if(GetGameTimer()-this.lastInteraction<300)return;this.lastInteraction=GetGameTimer();if(!playerManager.canInteract())return;const playerCoords=GetEntityCoords(PlayerPedId(),true);if(!playerManager.isInSystem()){const nearbyEntities=entityCacheManager.getNearbyEntities("lock");for(const entity of nearbyEntities){const lock=this.locks.get(entity.id);if(lock){const lockPosition=lock.getPosition().position;const distance=Vdist2(playerCoords[0],playerCoords[1],playerCoords[2],lockPosition.x,lockPosition.y,lockPosition.z);if(distance<=lock.getRadius()*lock.getRadius()){lock.triggerLockEvent();return}}}}if(IsPedInAnyVehicle(PlayerPedId(),true)){const vehicle=GetVehiclePedIsIn(PlayerPedId(),false);const vehicleId=VehToNet(vehicle);secureEventManager.emitSecureNet("Server:Vehicle:ToggleLockState",vehicleId);return}const vehiclePool=GetGamePool("CVehicle");for(const vehicle of vehiclePool){const vehicleCoords=GetEntityCoords(vehicle,true);const distance=Vdist2(playerCoords[0],playerCoords[1],playerCoords[2],vehicleCoords[0],vehicleCoords[1],vehicleCoords[2]);if(distance<9){const vehicleNetworkId=NetworkGetNetworkIdFromEntity(vehicle);if(NetworkDoesNetworkIdExist(vehicleNetworkId)){secureEventManager.emitSecureNet("Server:Vehicle:ToggleLockState",vehicleNetworkId);return}}}}getLockInRange(position,range){const nearbyEntities=entityCacheManager.getNearbyEntities("lock");for(const entity of nearbyEntities){const lock=this.locks.get(entity.id);if(lock){const lockPosition=lock.getPosition().position;const distance=Vdist2(position[0],position[1],position[2],lockPosition.x,lockPosition.y,lockPosition.z);if(distance<=range*range){return lock}}}return null}loadLocks(){const locksData=LoadResourceFile(GetCurrentResourceName(),"resources/locks.json");if(!locksData){console.error("Failed to load locks.json");return}const locksArray=JSON.parse(locksData);for(const lockData of locksArray){const lock=new Lock(lockData.type,lockData.position,lockData.radius,lockData.entityId||lockData.id.toString());this.createLock(lock)}}createLock(lock){this.locks.set(lock.getId(),lock);spatialGrid.addEntity("lock",lock.getId(),lock.getPosition().position,lock.getRadius())}};var lockManager=new LockManager;var _ContainerSpot=class _ContainerSpot{constructor(type,position,radius,externalContainerId){__publicField(this,"id");__publicField(this,"type");__publicField(this,"position");__publicField(this,"radius");__publicField(this,"externalContainerId");this.id=_ContainerSpot.nextId++;this.type=type;this.position=position;this.radius=radius;this.externalContainerId=externalContainerId}getId(){return this.id}getType(){return this.type}getPosition(){return this.position}getRadius(){return this.radius}getExternalContainerId(){return this.externalContainerId}};__publicField(_ContainerSpot,"nextId",1);var ContainerSpot=_ContainerSpot;var InventoryManager=class{constructor(){__publicField(this,"lastInteraction",0);__publicField(this,"containerSpots",new Cache);__publicField(this,"inventory",null);this.loadContainerSpots();this.registerInputs();this.registerEvents()}registerEvents(){secureEventManager.onSecureNet("Client:Inventory:Open",this.openInventory.bind(this));secureEventManager.onSecureNet("Client:Inventory:Data",this.setInventoryData.bind(this))}registerInputs(){inputSystem.registerKey("i","client:inventory","Inventory",this.triggerInventory.bind(this));inputSystem.registerKey("comma","client:inventory:use4","Use Fourth Slot",this.useItem.bind(this,4));inputSystem.registerKey("period","client:inventory:use5","Use  Fifth Slot",this.useItem.bind(this,5))}openInventory(inventoryDto){nuiManager.setView("inventory");nuiManager.emitNui("Web:Inventory:Open",inventoryDto);this.inventory=inventoryDto.inventory}setInventoryData(inventory){this.inventory=inventory}async useItem(slot){if(GetGameTimer()-this.lastInteraction<250)return;this.lastInteraction=GetGameTimer();if(!playerManager.canInteract()||playerManager.isInAction())return;await new Promise(resolve=>setTimeout(resolve,1));if(IsPedReloading(PlayerPedId())||IsPedInAnyVehicle(PlayerPedId(),true))return;secureEventManager.emitSecureNet("Server:Inventory:UseSlotItem",slot)}triggerInventory(){if(GetGameTimer()-this.lastInteraction<500)return;this.lastInteraction=GetGameTimer();if(!playerManager.canInteract()||playerManager.isInAction())return;if(IsPedInAnyVehicle(PlayerPedId(),false)){secureEventManager.emitSecureNet("Server:Inventory:Open",null,null);return}let containerType=null;let externalContainerId=null;const playerCoords=GetEntityCoords(PlayerPedId(),true);const nearbyEntities=entityCacheManager.getNearbyEntities("container");for(const entity of nearbyEntities){const containerSpot=this.containerSpots.get(entity.id);if(containerSpot){const containerPosition=containerSpot.getPosition();const distance=Vdist2(playerCoords[0],playerCoords[1],playerCoords[2],containerPosition.position.x,containerPosition.position.y,containerPosition.position.z);if(distance<containerSpot.getRadius()){containerType=containerSpot.getType();externalContainerId=containerSpot.getExternalContainerId();break}}}if(!containerType){const vehiclePool=GetGamePool("CVehicle");for(const vehicle of vehiclePool){const isLocked=GetVehicleDoorLockStatus(vehicle)!==1;if(isLocked)continue;const vehicleCoords=GetEntityCoords(vehicle,true);const distance=Vdist2(playerCoords[0],playerCoords[1],playerCoords[2],vehicleCoords[0],vehicleCoords[1],vehicleCoords[2]);if(distance<9){const vehicleNetworkId=NetworkGetNetworkIdFromEntity(vehicle);if(NetworkDoesNetworkIdExist(vehicleNetworkId)){containerType=4;externalContainerId=vehicleNetworkId.toString();break}}}}secureEventManager.emitSecureNet("Server:Inventory:Open",containerType,externalContainerId)}loadContainerSpots(){const containerSpotsData=LoadResourceFile(GetCurrentResourceName(),"resources/container-spots.json");if(!containerSpotsData){console.error("Failed to load container-spots.json");return}const containerSpotsArray=JSON.parse(containerSpotsData);for(const containerSpotData of containerSpotsArray){const containerSpot=new ContainerSpot(containerSpotData.type,containerSpotData.position,containerSpotData.radius,containerSpotData.externalContainerId);this.containerSpots.set(containerSpot.getId(),containerSpot);const positionModel=containerSpot.getPosition();const position=positionModel.position;const radius=containerSpot.getRadius();spatialGrid.addEntity("container",containerSpot.getId(),position,radius)}}getContainerSpot(id){return this.containerSpots.get(id)}getInventory(){return this.inventory}};var inventoryManager=new InventoryManager;var AnimationManager=class{constructor(){__publicField(this,"currentAnimationDictionary",null);__publicField(this,"currentAnimationName",null);__publicField(this,"currentUpperAnimationDictionary",null);__publicField(this,"currentUpperAnimationName",null);__publicField(this,"lastInteraction",0);__publicField(this,"handsUpAnimation",{dictionary:"missminuteman_1ig_2",name:"handsup_base"});__publicField(this,"saluteAnimation",{dictionary:"anim@mp_player_intincarsalutestd@ps@",name:"idle_a"});this.registerEvents();this.registerSchedule();this.registerKeybinds()}registerEvents(){secureEventManager.onSecureNet("Client:Player:PlayAnimation",this.playAnimation.bind(this));secureEventManager.onSecureNet("Client:Player:StopAnimation",this.stopAnimation.bind(this));secureEventManager.onSecureNet("Client:Player:PlayUpperAnimation",this.playUpperAnimation.bind(this));secureEventManager.onSecureNet("Client:Player:StopUpperAnimation",this.stopUpperAnimation.bind(this))}registerSchedule(){scheduleSystem.registerInterval(this.ensureAnimationIsPlaying.bind(this))}registerKeybinds(){inputSystem.registerKey("f5","client:animation","Animationen",this.openAnimationMenu.bind(this));inputSystem.registerKey("h","client:hands-up","Hnde hoch",this.triggerHandsUp.bind(this));inputSystem.registerKey("j","client:salute","Salutieren",this.triggerSalute.bind(this));inputSystem.registerKey("f12","client:ragdoll","Ragdoll",this.triggerRagdoll.bind(this))}triggerHandsUp(){if(playerManager.isInAction()||playerManager.isPlayerInjured()||!playerManager.canInteract())return;if(playerManager.isPlayerCarrying())return;if(IsPedInAnyVehicle(PlayerPedId(),true))return;if(!this.isPlayingUpperAnimation()){this.playUpperAnimation(this.handsUpAnimation.dictionary,this.handsUpAnimation.name,8,8,-1,49,1)}else{if(this.currentUpperAnimationDictionary===this.handsUpAnimation.dictionary&&this.currentUpperAnimationName===this.handsUpAnimation.name){this.stopUpperAnimation()}}}triggerRagdoll(){if(playerManager.isInAction()||!playerManager.canInteract())return;if(playerManager.isPlayerCarrying())return;if(IsPedInAnyVehicle(PlayerPedId(),true))return;if(animationManager.isPlayingAnimation()||animationManager.isPlayingUpperAnimation()){return}if(GetSelectedPedWeapon(PlayerPedId())!==GetHashKey("WEAPON_UNARMED")){return}SetPedToRagdoll(PlayerPedId(),2e3,2e3,0,false,false,false)}triggerSalute(){if(playerManager.isInAction()||playerManager.isPlayerInjured()||!playerManager.canInteract())return;if(playerManager.isPlayerCarrying())return;if(IsPedInAnyVehicle(PlayerPedId(),true))return;if(!this.isPlayingUpperAnimation()){this.playUpperAnimation(this.saluteAnimation.dictionary,this.saluteAnimation.name,8,8,-1,49,1)}else{if(this.currentUpperAnimationDictionary===this.saluteAnimation.dictionary&&this.currentUpperAnimationName===this.saluteAnimation.name){this.stopUpperAnimation()}}}openAnimationMenu(){if(GetGameTimer()-this.lastInteraction<500)return;if(playerManager.isPlayerCarrying())return;if(IsPedInAnyVehicle(PlayerPedId(),true))return;if(nuiManager.isViewOpen())return;this.lastInteraction=GetGameTimer();if(!playerManager.canInteract()||playerManager.isInAction()||playerManager.isPlayerInjured())return;secureEventManager.emitSecureNet("Server:Animation:OpenMenu")}async ensureAnimationIsPlaying(){if(IsPedInAnyVehicle(PlayerPedId(),true))return;if(!this.currentAnimationDictionary||!this.currentAnimationName)return;if(!IsEntityPlayingAnim(PlayerPedId(),this.currentAnimationDictionary,this.currentAnimationName,3)){await this.playAnimation(this.currentAnimationDictionary,this.currentAnimationName,8,8,-1,1,1)}}async playAnimation(animDictionary,animationName,easeInSpeed,easeOutSpeed,duration,flags,playbackRate){if(this.currentAnimationDictionary&&this.currentAnimationName){this.stopAnimation()}while(!HasAnimDictLoaded(animDictionary)){RequestAnimDict(animDictionary);await new Promise(resolve=>setTimeout(resolve,1))}TaskPlayAnim(PlayerPedId(),animDictionary,animationName,easeInSpeed,easeOutSpeed,duration,flags,playbackRate,false,false,false);this.currentAnimationDictionary=animDictionary;this.currentAnimationName=animationName}async playUpperAnimation(animDictionary,animationName,easeInSpeed,easeOutSpeed,duration,flags,playbackRate){if(this.currentUpperAnimationDictionary&&this.currentUpperAnimationName){this.stopUpperAnimation()}while(!HasAnimDictLoaded(animDictionary)){RequestAnimDict(animDictionary);await new Promise(resolve=>setTimeout(resolve,1))}TaskPlayAnim(PlayerPedId(),animDictionary,animationName,easeInSpeed,easeOutSpeed,duration,flags,playbackRate,false,false,false);this.currentUpperAnimationDictionary=animDictionary;this.currentUpperAnimationName=animationName}stopAnimation(){if(!this.currentAnimationDictionary||!this.currentAnimationName){return}StopAnimTask(PlayerPedId(),this.currentAnimationDictionary,this.currentAnimationName,2.5);this.currentAnimationDictionary=null;this.currentAnimationName=null}stopUpperAnimation(){if(!this.currentUpperAnimationDictionary||!this.currentUpperAnimationName){return}StopAnimTask(PlayerPedId(),this.currentUpperAnimationDictionary,this.currentUpperAnimationName,2.5);this.currentUpperAnimationDictionary=null;this.currentUpperAnimationName=null}getCurrentAnimation(){return{dictionary:this.currentAnimationDictionary,name:this.currentAnimationName}}isPlayingAnimation(){return this.currentAnimationDictionary!==null&&this.currentAnimationName!==null}isPlayingUpperAnimation(){return this.currentUpperAnimationDictionary!==null&&this.currentUpperAnimationName!==null}};var animationManager=new AnimationManager;var RadioManager=class{constructor(){__publicField(this,"radioTalking",false);__publicField(this,"radioMuted",false);__publicField(this,"radioSettings",{mode:"off",favorites:[0,0,0,0],isOpen:false});this.registerEvents();this.registerInputs()}registerEvents(){secureEventManager.onSecureNet("Client:Radio:SetSettings",this.setSettings.bind(this));nuiManager.onNui("Client:Radio:Close",this.closeRadio.bind(this));nuiManager.onNui("Client:Radio:SetFrequency",this.setFrequency.bind(this));nuiManager.onNui("Client:Radio:SetMode",this.setMode.bind(this));nuiManager.onNui("Client:Radio:SaveFavorite",this.setFavorite.bind(this));scheduleSystem.registerInterval(this.radioTick.bind(this))}registerInputs(){inputSystem.registerKey("f4","client:radio","Radio",this.handleRadio.bind(this))}handleRadio(){if(IsPauseMenuActive()||!playerManager.canInteract()||playerManager.isInAction())return;if(playerManager.isPlayerCarrying())return;if(this.radioSettings.isOpen){this.closeRadio()}else{const inventory=inventoryManager.getInventory();if(!inventory)return;const hasRadio=inventory.slots.some(slot=>slot.item?.id==="687d414ebd147b669710e2af");if(!hasRadio)return;this.openRadio()}}openRadio(){if(this.radioSettings.isOpen)return;if(nuiManager.isViewOpen()){nuiManager.closeViews()}this.radioSettings.isOpen=true;nuiManager.emitNui("Web:Radio:Show",this.radioSettings);nuiManager.setRadioState(true);animationManager.playUpperAnimation("amb@world_human_stand_mobile@male@text@base","base",8,8,-1,49,0)}closeRadio(){if(!this.radioSettings.isOpen)return;this.radioSettings.isOpen=false;animationManager.stopUpperAnimation();nuiManager.emitNui("Web:Radio:Show",this.radioSettings);nuiManager.setRadioState(false)}setSettings({favorites}){this.radioSettings.favorites=favorites}setFrequency(frequency){secureEventManager.emitSecureNet("Server:Radio:SetFrequency",frequency);this.setMode("push");nuiManager.emitNui("Web:Radio:Show",this.radioSettings)}async setMode(mode){this.radioSettings.mode=mode;switch(mode){case"off":if(this.radioTalking){voiceManager.getVoiceFunctions().setRadioState(false,false)}this.radioMuted=true;break;case"push":if(this.radioTalking){voiceManager.getVoiceFunctions().setRadioState(false,false)}if(this.radioMuted){this.radioMuted=false}break;case"always":if(this.radioMuted){this.radioMuted=false;await new Promise(resolve=>setTimeout(resolve,100))}voiceManager.getVoiceFunctions().setRadioState(true,false);break;default:return}hudManager.updateHud();animationManager.playUpperAnimation("random@arrests","generic_radio_chatter",8,8,300,49,0);await new Promise(resolve=>setTimeout(resolve,300));animationManager.stopUpperAnimation()}setFavorite(slot,favorite){this.radioSettings.favorites[slot]=favorite;secureEventManager.emitSecureNet("Server:Radio:SetFavorite",slot,favorite)}radioTick(){if(!this.radioSettings.isOpen)return;if(!playerManager.canInteract()){this.closeRadio();return}}setNextMode(){const modes=["off","push","always"];const currentIndex=modes.indexOf(this.radioSettings.mode);const nextIndex=(currentIndex+1)%modes.length;this.setMode(modes[nextIndex]);nuiManager.emitNui("Web:Radio:Show",this.radioSettings);animationManager.playUpperAnimation("mp_player_int_upper_weld","mp_player_int_weld",8,8,2e3,49,0)}isAlwaysOn(){return this.radioSettings.mode==="always"}isRadioMuted(){return this.radioMuted}setRadioTalking(state){this.radioTalking=state;hudManager.updateHud()}getRadioTalking(){return this.radioTalking}};var radioManager=new RadioManager;var HudManager=class{constructor(){__publicField(this,"isHudVisible",true);__publicField(this,"crosshairState","none");__publicField(this,"states",["none","dot","cross","x","dot-black","cross-black","x-black"]);__publicField(this,"hudData",null);__publicField(this,"normalMoveMultiplier",1);__publicField(this,"peakMoveMultiplier",1.1);__publicField(this,"moveMultiplier",1);this.registerEvents();this.registerKeybinds()}registerEvents(){secureEventManager.onSecureNet("Client:Hud:Update",this.updateHudFromServer.bind(this));secureEventManager.onSecureNet("Client:Movement:Add",this.addMovementMultiplier.bind(this))}registerKeybinds(){inputSystem.registerKey("f11","client:hud-toggle","HUD aus/einblenden",this.toggleHudVisibility.bind(this));inputSystem.registerKey("f1","client:crosshair-toggle","Crosshair aus/einblenden",this.toggleCrosshairVisibility.bind(this))}toggleCrosshairVisibility(){const currentIndex=this.states.indexOf(this.crosshairState);const nextIndex=(currentIndex+1)%this.states.length;this.crosshairState=this.states[nextIndex];nuiManager.emitNui("Web:Hud:Crosshair",this.crosshairState)}addMovementMultiplier(multiplier){this.moveMultiplier+=multiplier;SetRunSprintMultiplierForPlayer(PlayerId(),this.moveMultiplier)}applyTrainingMovement(){if(!this.hudData)return;const trainingLevel=this.hudData.training;if(trainingLevel<=100){StatSetInt(GetHashKey("MP0_STAMINA"),trainingLevel,true);SetRunSprintMultiplierForPlayer(PlayerId(),this.normalMoveMultiplier)}else{const capped=Math.min(trainingLevel,120);const frac=(capped-100)/(120-100);this.moveMultiplier=this.normalMoveMultiplier+frac*(this.peakMoveMultiplier-this.normalMoveMultiplier);SetRunSprintMultiplierForPlayer(PlayerId(),this.moveMultiplier);StatSetInt(GetHashKey("MP0_STAMINA"),100,true)}}updateHud(){if(!this.hudData)return;this.updateHudFromServer(this.hudData)}updateHudFromServer(hudData){if(!hudData)return;this.hudData=hudData;const voiceState=voiceManager.getPlayerState();const isTalkingOnRadio=radioManager.getRadioTalking();let radioChannel=voiceState.radioChannel;if(radioManager.isRadioMuted()){radioChannel=0}const webHudData={id:hudData.id,money:hudData.money,starvation:hudData.starvation,hydration:hudData.hydration,doublePay:hudData.doublePay,training:hudData.training,voiceState:{isTalking:voiceState.isTalking,voiceRange:voiceState.voiceRange,radioChannel,isTalkingOnRadio,inCallWith:voiceState.inCallWith,mutedOnPhone:voiceState.mutedOnPhone,canChangeVoiceRange:voiceState.canChangeVoiceRange,isMicrophoneDisabled:voiceState.isMicrophoneDisabled,isMicrophoneMuted:voiceState.isMicrophoneMuted,isSoundDisabled:voiceState.isSoundDisabled,isSoundMuted:voiceState.isSoundMuted},minimapPosition:this.getMiniMapCorners()};nuiManager.emitNui("Web:Hud:Update",webHudData);this.applyTrainingMovement()}getMinimap(){const aspectRatio=GetScreenAspectRatio(false);const resolution=GetScreenActiveResolution();const w=resolution[0];const h=resolution[1];const scaleX=1/w;const scaleY=1/h;const width=w/(4*aspectRatio);const height=h/5.674;SetScriptGfxAlign(76,66);SetScriptGfxAlignParams(0,0,0,0);const[x,y]=GetScriptGfxPosition(-.0045,.002+-.188888);const posX=x*w+h*.0074;const posY=y*h+h*.0095;ResetScriptGfxAlign();const minimap={width:width*scaleX,height:height*scaleY,scaleX,scaleY,leftX:posX*scaleX,topY:posY*scaleY,rightX:(posX+width)*scaleX,bottomY:(posY+height)*scaleY};return minimap}getMiniMapCorners(){const minimap=this.getMinimap();const upperLeft={x:minimap.leftX,y:minimap.topY};const lowerLeft={x:minimap.leftX,y:minimap.bottomY};const upperRight={x:minimap.rightX,y:minimap.topY};const lowerRight={x:minimap.rightX,y:minimap.bottomY};upperRight.x=upperRight.x/minimap.scaleX;upperRight.y=upperRight.y/minimap.scaleY;lowerRight.x=lowerRight.x/minimap.scaleX;lowerRight.y=lowerRight.y/minimap.scaleY;upperLeft.x=upperLeft.x/minimap.scaleX;upperLeft.y=upperLeft.y/minimap.scaleY;lowerLeft.x=lowerLeft.x/minimap.scaleX;lowerLeft.y=lowerLeft.y/minimap.scaleY;return{upperLeft,lowerLeft,upperRight,lowerRight}}toggleHudVisibility(){this.isHudVisible=!this.isHudVisible;nuiManager.emitNui("Web:Hud:Toggle",this.isHudVisible)}isPlayerFaster(){return this.moveMultiplier>1}};var hudManager=new HudManager;var VoiceEvents=class{constructor(voiceManager2){__publicField(this,"voiceManager");__publicField(this,"firstConnect",true);this.voiceManager=voiceManager2;this.registerEvents()}registerEvents(){on("onResourceStop",this.onResourceStop.bind(this));secureEventManager.onSecureNet("Client:Voice:Init",this.onClientVoiceInit.bind(this));secureEventManager.onSecureNet("Client:Voice:Disconnect",this.onClientVoiceDisconnect.bind(this));secureEventManager.onSecureNet("Client:Voice:AddPlayer",this.onClientVoiceAddPlayer.bind(this));secureEventManager.onSecureNet("Client:Voice:MutePlayer",this.onClientVoiceMutePlayer.bind(this));secureEventManager.onSecureNet("Client:Voice:RadioTalking",this.onClientVoiceRadioTalking.bind(this));secureEventManager.onSecureNet("Client:Voice:ChangeRadioChannel",this.onClientVoiceChangeRadioChannel.bind(this));secureEventManager.onSecureNet("Client:Voice:PhoneCall",this.onClientVoicePhoneCall.bind(this));secureEventManager.onSecureNet("Client:Voice:MuteOnPhone",this.onClientVoiceMuteOnPhone.bind(this));secureEventManager.onSecureNet("Client:Voice:EnableMegaPhone",this.onClientVoiceEnableMegaPhone.bind(this))}onResourceStop(resourceName){if(GetCurrentResourceName()!==resourceName)return;if(this.voiceManager.getWebSocket().isInitialized()){this.voiceManager.getWebSocket().close()}}async onClientVoiceInit(playerObject){if(!this.voiceManager.getWebSocket().isInitialized()){this.voiceManager.getWebSocket().setInitialized(true);this.voiceManager.getWebSocket().on("message",payload=>{this.voiceManager.getWebsocketHandler().handleWebsocketResponse(payload)});this.voiceManager.getWebSocket().on("close",(_code,_reason)=>{this.voiceManager.setCurrentState("NOT_CONNECTED");chatManager.sendMessage("Voice System","Du bist nicht mit dem richtigen TeamSpeak Server verbunden.","error",5e3)});this.voiceManager.getWebSocket().on("open",()=>{this.voiceManager.setCurrentState("CONNECTED");if(this.firstConnect){this.voiceManager.getWebsocketHandler().initRequest(playerObject);this.firstConnect=false}else{secureEventManager.emitSecureNet("Server:Voice:WebsocketReady")}});await this.voiceManager.getWebSocket().start()}if(this.firstConnect)return;this.voiceManager.getWebsocketHandler().initRequest(playerObject)}onClientVoiceDisconnect(playerId){this.voiceManager.getVoiceFunctions().setPhoneCallState(playerId,false);this.voiceManager.getPlayerHandler().removePlayer(playerId);this.voiceManager.getRadioHandler().removePlayerFromRadio(playerId)}onClientVoiceAddPlayer(voicePlayers){if(!Array.isArray(voicePlayers)){voicePlayers=[voicePlayers]}const newPlayers=[];for(const player of voicePlayers){if(typeof player?.clientId==="undefined"||typeof player?.playerId==="undefined")continue;const currentData=this.voiceManager.getPlayerHandler().getPlayerData(player.playerId);this.voiceManager.getPlayerHandler().addPlayer(player.playerId,{remoteId:player.playerId,clientId:player.clientId,forceMuted:player.forceMuted||false,mutedOnPhone:player.mutedOnPhone||false,isTalking:currentData?.isTalking||false});newPlayers.push(player.playerId)}}onClientVoiceMutePlayer(playerId,muted){const playerData=this.voiceManager.getPlayerHandler().getPlayerData(playerId);if(!playerData)return;playerData.forceMuted=muted}onClientVoiceRadioTalking(playerId,channel,state){this.voiceManager.getVoiceFunctions().setRadioTalking(playerId,channel,state)}onClientVoiceChangeRadioChannel(channel){this.voiceManager.getVoiceFunctions().setRadioChannel(channel);hudManager.updateHud()}onClientVoicePhoneCall(playerId,state){this.voiceManager.getVoiceFunctions().setPhoneCallState(playerId,state)}onClientVoiceMuteOnPhone(playerId,muted){this.voiceManager.getVoiceFunctions().setMuteOnPhone(playerId,muted)}onClientVoiceEnableMegaPhone(state){if(state){this.voiceManager.getVoiceFunctions().addVoiceRange(25)}else{this.voiceManager.getVoiceFunctions().removeVoiceRange(25)}}};var VoiceStateBagHandler=class{constructor(voiceManager2){__publicField(this,"voiceManager");this.voiceManager=voiceManager2;this.registerStateBagHandlers()}registerStateBagHandlers(){AddStateBagChangeHandler("voice-lip-sync","",this.onLipSyncChanged.bind(this))}onLipSyncChanged(bagName,_,value,__){const playerId=GetPlayerFromStateBagName(bagName);if(playerId===0)return;SetPlayerTalkingOverride(playerId,value);this.voiceManager.getPlayerHandler().setPlayerTalking(playerId,value)}};var import_eventemitter2=__toESM(require_eventemitter2());var VoiceWebSocket=class extends import_eventemitter2.default{constructor(){super();__publicField(this,"readyState",0);__publicField(this,"nuiReady",false);__publicField(this,"initialized",false);RegisterNuiCallbackType("YACA_OnMessage");RegisterNuiCallbackType("YACA_OnConnected");RegisterNuiCallbackType("YACA_OnDisconnected");on("__cfx_nui:YACA_OnMessage",(data,cb)=>{this.emit("message",data);cb({})});on("__cfx_nui:YACA_OnConnected",(_,cb)=>{this.readyState=1;this.emit("open");cb({})});on("__cfx_nui:YACA_OnDisconnected",(data,cb)=>{this.readyState=3;this.emit("close",data.code,data.reason);cb({})})}async start(){while(!this.nuiReady){await new Promise(resolve=>setTimeout(resolve,100))}SendNuiMessage(JSON.stringify({action:"connect"}))}send(data){if(this.readyState!==1){return}SendNuiMessage(JSON.stringify({action:"command",data}))}close(){if(this.readyState===3){return}SendNuiMessage(JSON.stringify({action:"close"}))}getReadyState(){return this.readyState}setInitialized(state){this.initialized=state}isInitialized(){return this.initialized}isNuiReady(){return this.nuiReady}setNuiReady(state){this.nuiReady=state}};var VoiceKeybinds=class{constructor(voiceManager2){__publicField(this,"voiceManager");__publicField(this,"lastInteraction",0);this.voiceManager=voiceManager2;this.registerKeybinds()}registerKeybinds(){inputSystem.registerKey("z","client:voice:range","Voice Range",()=>{if(GetGameTimer()-this.lastInteraction<200)return;if(IsPauseMenuActive()||nuiManager.viewName)return;this.lastInteraction=GetGameTimer();this.voiceManager.getVoiceFunctions().changeVoiceRange()});inputSystem.registerKey("UP","client:voice:radio-status","Funkgert Status",()=>{if(GetGameTimer()-this.lastInteraction<600)return;if(IsPauseMenuActive()||nuiManager.viewName)return;if(!playerManager.canInteract())return;this.lastInteraction=GetGameTimer();radioManager.setNextMode()});RegisterCommand("+client:voice:radio",()=>{if(GetGameTimer()-this.lastInteraction<200)return;this.lastInteraction=GetGameTimer();if(radioManager.isRadioMuted())return;if(IsPauseMenuActive()||nuiManager.viewName)return;if(radioManager.isAlwaysOn())return;if(!playerManager.canInteract())return;this.voiceManager.getVoiceFunctions().setRadioState(true,true)},false);RegisterCommand("-client:voice:radio",()=>{if(radioManager.isAlwaysOn())return;this.voiceManager.getVoiceFunctions().setRadioState(false,true)},false);RegisterKeyMapping("+client:voice:radio","Funken","keyboard","DOWN")}};var VoicePlayerHandler=class{constructor(){__publicField(this,"playerData",new Cache);__publicField(this,"playerDataByClientId",new Cache)}addPlayer(playerId,data){this.playerData.set(playerId,data);this.playerDataByClientId.set(data.clientId,data)}removePlayer(playerId){const playerData=this.playerData.get(playerId);if(playerData){this.playerDataByClientId.delete(playerData.clientId);this.playerData.delete(playerId)}}getPlayerData(playerId){return this.playerData.get(playerId)}getPlayerDataByClientId(clientId){return this.playerDataByClientId.get(clientId)}getAllPlayers(){return Array.from(this.playerData.values())}hasPlayer(playerId){return this.playerData.has(playerId)}hasPlayerByClientId(clientId){return this.playerDataByClientId.has(clientId)}setPlayerTalking(playerId,isTalking){const playerData=this.playerData.get(playerId);if(!playerData)return;playerData.isTalking=isTalking}isPlayerTalking(playerId){const playerData=this.playerData.get(playerId);if(!playerData)return false;return playerData.isTalking}};var VoiceExports=class{constructor(voiceManager2){__publicField(this,"voiceManager");this.voiceManager=voiceManager2;this.registerExports()}registerExports(){return}};var VoiceCallbacks=class{constructor(voiceManager2){__publicField(this,"voiceManager");this.voiceManager=voiceManager2;this.registerCallbacks()}registerCallbacks(){RegisterNuiCallbackType("YACA_OnNuiReady");on("__cfx_nui:YACA_OnNuiReady",(_,cb)=>{this.voiceManager.getWebSocket().setNuiReady(true);setTimeout(()=>{secureEventManager.emitSecureNet("Server:Voice:NuiReady")},5e3);cb({})})}};var VoiceWebSocketHandler=class{constructor(voiceManager2){__publicField(this,"voiceManager");__publicField(this,"lastErrorMessageTime",new Map);__publicField(this,"errorMessageCooldown",3e3);__publicField(this,"oneTimeErrorsSent",new Set);this.voiceManager=voiceManager2}canSendErrorMessage(errorCode){if(errorCode==="MAX_PLAYER_COUNT_REACHED"||errorCode==="LICENSE_SERVER_TIMED_OUT"){if(this.oneTimeErrorsSent.has(errorCode)){return false}this.oneTimeErrorsSent.add(errorCode);return true}const currentTime=GetGameTimer();const lastMessageTime=this.lastErrorMessageTime.get(errorCode)||0;if(currentTime-lastMessageTime>=this.errorMessageCooldown){this.lastErrorMessageTime.set(errorCode,currentTime);return true}return false}sendDataToWebsocket(player_direction,player_position,player_range,player_is_muted,players_list,player_is_underwater=false){this.voiceManager.getWebSocket().send({base:{request_type:"INGAME"},player:{player_direction,player_position,player_range,player_is_underwater,player_is_muted,players_list}})}handleWebsocketResponse(payload){if(!payload)return;let parsedPayload;try{parsedPayload=JSON.parse(payload)}catch(error){console.error("[YACA-Websocket]: Error parsing websocket payload",error);return}switch(parsedPayload.code){case"OK":{if(parsedPayload.requestType==="JOIN"){const clientId=parseInt(parsedPayload.message);this.voiceManager.getPlayerState().ready=true;secureEventManager.emitSecureNet("Server:Voice:AddPlayer",clientId);return}return}case"TALK_STATE":{const messageState=parsedPayload.message==="1";const playerState=this.voiceManager.getPlayerState();const isPlayerMuted=playerState.isMicrophoneMuted||playerState.isMicrophoneDisabled||playerState.isSoundMuted||playerState.isSoundDisabled;const isTalking=messageState&&!isPlayerMuted;if(playerState.isTalking!==isTalking){playerState.isTalking=isTalking;LocalPlayer.state.set("voice-lip-sync",isTalking,true);if(isTalking){PlayFacialAnim(PlayerPedId(),"mic_chatter","mp_facial")}else{PlayFacialAnim(PlayerPedId(),"mood_normal_1","facials@gen_male@variations@normal")}hudManager.updateHud()}return}case"SOUND_STATE":{let soundState;try{soundState=JSON.parse(parsedPayload.message)}catch(error){console.error("[YACA-Websocket]: Error parsing sound state message",error);return}const playerState=this.voiceManager.getPlayerState();if(playerState.isMicrophoneMuted!==soundState.microphoneMuted){playerState.isMicrophoneMuted=soundState.microphoneMuted;hudManager.updateHud()}if(playerState.isMicrophoneDisabled!==soundState.microphoneDisabled){playerState.isMicrophoneDisabled=soundState.microphoneDisabled;hudManager.updateHud()}if(playerState.isSoundMuted!==soundState.soundMuted){playerState.isSoundMuted=soundState.soundMuted;hudManager.updateHud()}if(playerState.isSoundDisabled!==soundState.soundDisabled){playerState.isSoundDisabled=soundState.soundDisabled;hudManager.updateHud()}return}case"OTHER_TALK_STATE":{let talkData;try{talkData=JSON.parse(parsedPayload.message)}catch(error){console.error("[YACA-Websocket]: Error parsing talk state message",error);return}const player=this.voiceManager.getPlayerHandler().getPlayerDataByClientId(talkData.clientId);if(!player?.remoteId)return;const playerId=GetPlayerFromServerId(player.remoteId);if(playerId===-1)return;SetPlayerTalkingOverride(playerId,talkData.isTalking);return}case"MOVED_CHANNEL":{const newChannel=parsedPayload.message;if(newChannel!=="INGAME_CHANNEL"&&newChannel!=="EXCLUDED_CHANNEL"){console.error("[YACA-Websocket]: Moved to unknown channel.");return}if(newChannel==="INGAME_CHANNEL"){this.voiceManager.setCurrentState("IN_INGAME_CHANNEL")}else{this.voiceManager.setCurrentState("IN_EXCLUDED_CHANNEL")}return}case"WRONG_TS_SERVER":{this.voiceManager.setCurrentState("WRONG_TS_SERVER");if(this.canSendErrorMessage("WRONG_TS_SERVER")){chatManager.sendMessage("Voice System","Du bist nicht mit dem richtigen TeamSpeak Server verbunden.","error",5e3)}return}case"OUTDATED_VERSION":{this.voiceManager.setCurrentState("OUTDATED_VERSION");if(this.canSendErrorMessage("OUTDATED_VERSION")){chatManager.sendMessage("Voice System","Deine YaCA Plugin Version ist veraltet.","error",5e3)}return}case"MAX_PLAYER_COUNT_REACHED":{if(this.canSendErrorMessage("MAX_PLAYER_COUNT_REACHED")){secureEventManager.emitSecureNet("Server:Voice:MaxPlayerCountReached")}return}case"LICENSE_SERVER_TIMED_OUT":{if(this.canSendErrorMessage("LICENSE_SERVER_TIMED_OUT")){secureEventManager.emitSecureNet("Server:Voice:LicenseServerTimedOut")}return}case"MOVE_ERROR":{if(this.canSendErrorMessage("MOVE_ERROR")){console.error("[YACA-Websocket]: Error while moving channel");chatManager.sendMessage("Voice System","Fehler beim Wechseln des Kanals.","error",5e3)}return}case"WAIT_GAME_INIT":case"HEARTBEAT":case"MUTE_STATE":return;default:{console.error(`[YaCA-Websocket]: Unknown error code: ${parsedPayload.code}`);return}}}initRequest(playerObject){if(!playerObject?.suid||typeof playerObject.chid!=="number"||!playerObject.deChid||!playerObject.ingameName||typeof playerObject.channelPassword==="undefined"){console.error("[YACA-Websocket]: Error while initializing plugin");return}this.voiceManager.getWebSocket().send({base:{request_type:"INIT"},server_guid:playerObject.suid,ingame_name:playerObject.ingameName,ingame_channel:playerObject.chid,default_channel:playerObject.deChid,ingame_channel_password:playerObject.channelPassword,excluded_channels:playerObject.excludeChannels,muffling_range:-1,build_type:0,unmute_delay:1e3,operation_mode:0})}};function convertNumberArrayToXYZ(array){return{x:roundFloat(array[0]),y:roundFloat(array[1]),z:roundFloat(array[2])}}function roundFloat(num,decimalPlaces=17){return Number.parseFloat(num.toFixed(decimalPlaces))}function getCamDirection(ped){const rotVector=GetGameplayCamRot(0);const num=rotVector[2]*.0174532924;const num2=rotVector[0]*.0174532924;const num3=Math.abs(Math.cos(num2));return{x:roundFloat(-Math.sin(num)*num3),y:roundFloat(Math.cos(num)*num3),z:roundFloat(GetEntityForwardVector(ped)[2])}}var VoiceIntervalHandler=class{constructor(voiceManager2){__publicField(this,"voiceManager");this.voiceManager=voiceManager2;scheduleSystem.registerInterval(this.handleInterval.bind(this))}handleInterval(){const currentPlayerState=this.voiceManager.getPlayerState();const data=this.voiceManager.getPlayerHandler().getPlayerData(currentPlayerState.serverId);if(!data)return;const playerData=new Map;const playerPosition=GetEntityCoords(PlayerPedId(),false);const comDirection=convertNumberArrayToXYZ([1,0,0]);const comPosition=convertNumberArrayToXYZ([playerPosition[0]+.1,playerPosition[1]+.1,playerPosition[2]]);if(currentPlayerState.inCallWith>0){const callPlayerData=this.voiceManager.getPlayerHandler().getPlayerData(currentPlayerState.inCallWith);if(callPlayerData){if(!callPlayerData.mutedOnPhone&&!callPlayerData.forceMuted){playerData.set(currentPlayerState.inCallWith,{client_id:callPlayerData.clientId,position:comPosition,direction:comDirection,range:3,is_underwater:false,muffle_intensity:0,is_muted:false})}}}if(currentPlayerState.radioChannel>0&&!radioManager.isRadioMuted()){const radioPlayers=this.voiceManager.getRadioHandler().getAllRadioPlayers();for(const radioPlayerId of radioPlayers){if(playerData.has(radioPlayerId))continue;const radioData=this.voiceManager.getPlayerHandler().getPlayerData(radioPlayerId);if(!radioData?.clientId)continue;playerData.set(radioPlayerId,{client_id:radioData.clientId,position:comPosition,direction:comDirection,range:3,is_underwater:false,muffle_intensity:0,is_muted:false})}}if(!playerManager.isInSystem()){for(const player of GetActivePlayers()){const playerId=GetPlayerServerId(player);if(playerData.has(playerId))continue;const playerPed=GetPlayerPed(player);if(playerPed===0||playerId===currentPlayerState.serverId||playerPed<=0)continue;const voiceSettings=this.voiceManager.getPlayerHandler().getPlayerData(playerId);if(!voiceSettings?.clientId)continue;const playerState=Player(playerId).state;const range=playerState["voice-range"]??3;const position=GetEntityCoords(playerPed,true);const direction=GetEntityForwardVector(playerPed);playerData.set(playerId,{client_id:voiceSettings.clientId,position:convertNumberArrayToXYZ(position),direction:convertNumberArrayToXYZ(direction),range,is_underwater:false,muffle_intensity:0,is_muted:voiceSettings.forceMuted??false})}}const pedId=PlayerPedId();this.voiceManager.getWebsocketHandler().sendDataToWebsocket(getCamDirection(pedId),convertNumberArrayToXYZ(playerPosition),currentPlayerState.voiceRange,data.forceMuted??false,Array.from(playerData.values()))}};var VoiceVisual=class{constructor(){__publicField(this,"timeoutId",null);__publicField(this,"intervalId",null);__publicField(this,"duration",1200)}showRange(voiceRange){if(this.timeoutId){clearTimeout(this.timeoutId);this.timeoutId=null}if(this.intervalId){clearTick(this.intervalId);this.intervalId=null}this.timeoutId=setTimeout(()=>{if(this.intervalId){clearTick(this.intervalId);this.intervalId=null}this.timeoutId=null},this.duration);this.intervalId=setTick(()=>{const position=GetEntityCoords(PlayerPedId(),true);const isInVehicle=IsPedInAnyVehicle(PlayerPedId(),false);DrawMarker(1,position[0],position[1],position[2]-(isInVehicle?.6:.98),0,0,0,0,0,0,voiceRange*2,voiceRange*2,1.1,0,150,255,100,false,true,2,false,null,null,false)})}};var VoiceFunctions=class{constructor(voiceManager2){__publicField(this,"possibleRanges",[1,3,5,12]);__publicField(this,"voiceManager");this.voiceManager=voiceManager2}setVoiceRange(newRange){const playerState=this.voiceManager.getPlayerState();if(!playerState.canChangeVoiceRange)return;playerState.voiceRange=newRange;LocalPlayer.state.set("voice-range",newRange,true);this.voiceManager.getVoiceVisual().showRange(newRange)}changeVoiceRange(){const playerState=this.voiceManager.getPlayerState();if(!playerState.canChangeVoiceRange)return;const currentRangeIndex=this.possibleRanges.indexOf(playerState.voiceRange);const nextRangeIndex=(currentRangeIndex+1)%this.possibleRanges.length;const newRange=this.possibleRanges[nextRangeIndex];this.setVoiceRange(newRange);hudManager.updateHud()}addVoiceRange(range){this.possibleRanges.push(range)}removeVoiceRange(range){this.possibleRanges=this.possibleRanges.filter(r=>r!==range)}setRadioState(state,animation){if(this.voiceManager.getPlayerState().radioChannel<=0)return;radioManager.setRadioTalking(state);secureEventManager.emitSecureNet("Server:Voice:RadioState",state,animation)}setRadioTalking(playerId,channel,state){if(this.voiceManager.getPlayerState().radioChannel!==channel)return;if(state){if(this.voiceManager.getRadioHandler().isPlayerInRadio(playerId))return;this.voiceManager.getRadioHandler().addPlayerToRadio(playerId)}else{this.voiceManager.getRadioHandler().removePlayerFromRadio(playerId)}}setRadioChannel(channel){if(channel<0)return;const playerState=this.voiceManager.getPlayerState();if(playerState.radioChannel===channel)return;this.voiceManager.getRadioHandler().clearAllRadioPlayers();playerState.radioChannel=channel}setPhoneCallState(playerId,state){const playerState=this.voiceManager.getPlayerState();if(playerState.inCallWith===playerId&&state)return;playerState.inCallWith=state?playerId:0;this.setMuteOnPhone(playerId,false)}setMuteOnPhone(playerId,muted){const playerData=this.voiceManager.getPlayerHandler().getPlayerData(playerId);if(!playerData)return;playerData.mutedOnPhone=muted}};var VoiceRadioHandler=class{constructor(){__publicField(this,"radioPlayers",new Set)}addPlayerToRadio(playerId){this.radioPlayers.add(playerId)}removePlayerFromRadio(playerId){this.radioPlayers.delete(playerId)}isPlayerInRadio(playerId){return this.radioPlayers.has(playerId)}getAllRadioPlayers(){return this.radioPlayers}clearAllRadioPlayers(){this.radioPlayers.clear()}};var VoiceManager=class{constructor(){__publicField(this,"currentState","NOT_CONNECTED");__publicField(this,"playerState");__publicField(this,"websocket");__publicField(this,"voiceVisual");__publicField(this,"voiceEvents");__publicField(this,"voiceExports");__publicField(this,"voiceKeybinds");__publicField(this,"voiceCallbacks");__publicField(this,"voiceFunctions");__publicField(this,"voiceStateBagHandler");__publicField(this,"voicePlayerHandler");__publicField(this,"voiceWebsocketHandler");__publicField(this,"voiceIntervalHandler");__publicField(this,"voiceRadioHandler");this.websocket=new VoiceWebSocket;this.voiceVisual=new VoiceVisual;this.voiceEvents=new VoiceEvents(this);this.voiceExports=new VoiceExports(this);this.voiceKeybinds=new VoiceKeybinds(this);this.voiceCallbacks=new VoiceCallbacks(this);this.voiceFunctions=new VoiceFunctions(this);this.voiceStateBagHandler=new VoiceStateBagHandler(this);this.voiceWebsocketHandler=new VoiceWebSocketHandler(this);this.voiceIntervalHandler=new VoiceIntervalHandler(this);this.voicePlayerHandler=new VoicePlayerHandler;this.voiceRadioHandler=new VoiceRadioHandler;this.setCurrentState("NOT_CONNECTED");const playerId=PlayerId();const serverId=GetPlayerServerId(playerId);this.playerState={playerId,serverId,ready:false,isTalking:false,voiceRange:3,radioChannel:0,inCallWith:0,mutedOnPhone:false,canChangeVoiceRange:true,isMicrophoneDisabled:false,isMicrophoneMuted:false,isSoundDisabled:false,isSoundMuted:false}}setCurrentState(state){if(this.currentState===state)return;this.currentState=state}getWebSocket(){return this.websocket}getPlayerHandler(){return this.voicePlayerHandler}getWebsocketHandler(){return this.voiceWebsocketHandler}getPlayerState(){return this.playerState}getVoiceFunctions(){return this.voiceFunctions}getVoiceVisual(){return this.voiceVisual}getRadioHandler(){return this.voiceRadioHandler}};var voiceManager=new VoiceManager;var ColShape=class{constructor(id,position,radius,interactionEventName,interactionEntityId,messageEventName){__publicField(this,"id");__publicField(this,"position");__publicField(this,"radius");__publicField(this,"interactionEventName",null);__publicField(this,"interactionEntityId",null);__publicField(this,"messageEventName",null);this.id=id;this.position=position;this.radius=radius;this.interactionEventName=interactionEventName;this.interactionEntityId=interactionEntityId;this.messageEventName=messageEventName}getId(){return this.id}getRadius(){return this.radius}getPosition(){return this.position}isInColShape(x,y,z){const dx=x-this.position.x;const dy=y-this.position.y;const dz=z-this.position.z;return dx*dx+dy*dy+dz*dz<=this.radius*this.radius}isSystemColShape(){return this.interactionEventName?.startsWith("Server:Gangwar")||false}getInteractionEventName(){return this.interactionEventName}triggerInteractionEvent(){if(this.interactionEventName){secureEventManager.emitSecureNet(this.interactionEventName,this.id,this.interactionEntityId)}}triggerMessageEvent(){if(this.messageEventName){secureEventManager.emitSecureNet(this.messageEventName,this.id,this.interactionEntityId)}}};var ColShapeManager=class{constructor(){__publicField(this,"colShapes",new Cache);__publicField(this,"currentColShapeId",-1);__publicField(this,"lastInteraction",0);this.loadColShapes();this.registerSchedule();this.registerInputs()}registerSchedule(){scheduleSystem.registerInterval(this.colShapeInterval.bind(this))}registerInputs(){inputSystem.registerKey("e","client:interaction","Press to interact",this.onInteractionKey.bind(this))}onInteractionKey(){if(GetGameTimer()-this.lastInteraction<300)return;this.lastInteraction=GetGameTimer();if(playerManager.isInAction()){return secureEventManager.emitSecureNet("Server:Player:PressE")}if(playerManager.isPlayerCarrying()){return secureEventManager.emitSecureNet("Server:Player:StopCarry")}if(!playerManager.canInteract())return;const ped=PlayerPedId();if(IsPedInAnyVehicle(ped,true)){const isPedInTrain=IsPedInAnyTrain(ped);if(!isPedInTrain){return}else{const speed=GetEntitySpeed(GetVehiclePedIsIn(ped,false));if(speed>.1){return}}}const playerCoords=GetEntityCoords(ped,true);if(this.currentColShapeId===-1){if(playerManager.isInSystem())return;const vehiclePool=GetGamePool("CVehicle");for(const vehicle of vehiclePool){const entityModel=GetEntityModel(vehicle);if(entityModel!==GetHashKey("journey2")&&entityModel!==GetHashKey("journey"))continue;const doorCoords=GetWorldPositionOfEntityBone(vehicle,GetEntityBoneIndexByName(vehicle,"door_dside_r"));const distance=Vdist2(playerCoords[0],playerCoords[1],playerCoords[2],doorCoords[0],doorCoords[1],doorCoords[2]);if(distance<2.5){const vehicleId=VehToNet(vehicle);secureEventManager.emitSecureNet("Server:Camper:Enter",vehicleId);return}}return secureEventManager.emitSecureNet("Server:Player:PressE")}else{const colShape=this.colShapes.get(this.currentColShapeId);if(colShape){if(playerManager.isInSystem()&&!colShape.isSystemColShape())return;if(colShape.isInColShape(playerCoords[0],playerCoords[1],playerCoords[2])){colShape.triggerInteractionEvent()}}else{return secureEventManager.emitSecureNet("Server:Player:PressE")}}}colShapeInterval(){const playerCoords=GetEntityCoords(PlayerPedId(),true);const nearbyEntities=entityCacheManager.getNearbyEntities("colshape");let foundColShape=null;for(const entity of nearbyEntities){const colShape=this.colShapes.get(entity.id);if(colShape){const colShapePosition=colShape.getPosition();const distance=Vdist2(playerCoords[0],playerCoords[1],playerCoords[2],colShapePosition.x,colShapePosition.y,colShapePosition.z);if(distance<=colShape.getRadius()*colShape.getRadius()){foundColShape=colShape;break}}}const newColShapeId=foundColShape?foundColShape.getId():-1;if(newColShapeId!==this.currentColShapeId){if(newColShapeId!==-1&&foundColShape){foundColShape.triggerMessageEvent()}this.currentColShapeId=newColShapeId}}loadColShapes(){const colShapesData=LoadResourceFile(GetCurrentResourceName(),"resources/colshapes.json");if(!colShapesData){console.error("Failed to load colshapes.json");return}const colShapesArray=JSON.parse(colShapesData);for(const colShapeData of colShapesArray){const colShape=new ColShape(colShapeData.id,colShapeData.position,colShapeData.radius,colShapeData.serverEvent||colShapeData.interactionEventName,colShapeData.entityId||colShapeData.interactionEntityId,colShapeData.enterEvent||colShapeData.messageEventName);this.createColShape(colShape)}}createColShape(colShape){this.colShapes.set(colShape.getId(),colShape);spatialGrid.addEntity("colshape",colShape.getId(),colShape.getPosition(),colShape.getRadius())}getCurrentColShape(){if(this.currentColShapeId===-1)return null;return this.colShapes.get(this.currentColShapeId)||null}};var colShapeManager=new ColShapeManager;var PlayerManager=class{constructor(){__publicField(this,"isInjured",false);__publicField(this,"isDead",false);__publicField(this,"isCuffed",false);__publicField(this,"isAduty",false);__publicField(this,"isSystem",false);__publicField(this,"isCarrying",false);__publicField(this,"isCarried",false);__publicField(this,"nameTagsEnabled",false);__publicField(this,"WEAPON_UNARMED_HASH",GetHashKey("WEAPON_UNARMED"));__publicField(this,"drugTimer",null);this.registerEvents()}registerEvents(){secureEventManager.onSecureNet("Client:Player:SetEntityHealth",this.setLocalEntityHealth.bind(this));secureEventManager.onSecureNet("Client:Player:SetPedArmour",this.setPedArmour.bind(this));secureEventManager.onSecureNet("Client:Player:PlaySound",this.playSound.bind(this));secureEventManager.onSecureNet("Client:Player:SetInjured",this.setInjured.bind(this));secureEventManager.onSecureNet("Client:Player:SetDead",this.setDead.bind(this));secureEventManager.onSecureNet("Client:Player:SetCuffed",this.setCuffed.bind(this));secureEventManager.onSecureNet("Client:Player:SetToSystem",state=>this.isSystem=state);secureEventManager.onSecureNet("Client:Player:SetAdminDuty",state=>this.isAduty=state);secureEventManager.onSecureNet("Client:Player:Nametags",this.toggleNametags.bind(this));secureEventManager.onSecureNet("Client:Player:SystemRespawn",this.systemRespawn.bind(this));secureEventManager.onSecureNet("Client:Player:CheckUnderground",this.checkUnderground.bind(this));secureEventManager.onSecureNet("Client:Player:SetWaypoint",this.setWaypoint.bind(this));secureEventManager.onSecureNet("Client:Player:SyncCarry",this.syncCarry.bind(this));secureEventManager.onSecureNet("Client:Player:Carry",state=>this.isCarrying=state);secureEventManager.onSecureNet("Client:Player:ClearTattoos",()=>ClearPedDecorations(PlayerPedId()));secureEventManager.onSecureNet("Client:Player:CheckWelding",this.checkWelding.bind(this));secureEventManager.onSecureNet("Client:Player:CheckCamper",this.checkCamperDoor.bind(this));secureEventManager.onSecureNet("Client:Player:ApplyDrugEffect",this.applyDrugEffect.bind(this));nuiManager.onNui("Client:Player:SetHeading",this.setHeading.bind(this));tickSystem.registerTick(this.onTick.bind(this));on("entityDamaged",this.onEntityDamaged.bind(this))}setDead(state){this.isDead=state;nuiManager.emitNui("Web:Hud:Coma",state)}applyDrugEffect(){const playerPed=PlayerPedId();if(this.drugTimer){clearTimeout(this.drugTimer)}SetTimecycleModifier("spectator5");SetTimecycleModifierStrength(.5);SetPedMotionBlur(playerPed,true);SetPedIsDrunk(playerPed,true);this.drugTimer=setTimeout(()=>{ClearTimecycleModifier();SetPedMotionBlur(playerPed,false);SetPedIsDrunk(playerPed,false);this.drugTimer=null},1e3*90)}checkWelding(){if(this.isInjured||this.isInAction()||this.isInSystem())return;const currentColshape=colShapeManager.getCurrentColShape();if(currentColshape){const isLootDrop=currentColshape.getInteractionEventName()==="Server:LootDrop:Trigger";if(isLootDrop){currentColshape.triggerInteractionEvent();return}}const playerCoords=GetEntityCoords(PlayerPedId(),true);const lock=lockManager.getLockInRange(playerCoords,2);if(lock){secureEventManager.emitSecureNet("Server:Door:Weld",lock.getEntityId());return}this.checkCamperDoor()}checkCamperDoor(){const playerCoords=GetEntityCoords(PlayerPedId(),true);const vehiclePool=GetGamePool("CVehicle");for(const vehicle of vehiclePool){const entityModel=GetEntityModel(vehicle);if(entityModel!==GetHashKey("journey2")&&entityModel!==GetHashKey("journey"))continue;const doorCoords=GetWorldPositionOfEntityBone(vehicle,GetEntityBoneIndexByName(vehicle,"door_dside_r"));const distance=Vdist2(playerCoords[0],playerCoords[1],playerCoords[2],doorCoords[0],doorCoords[1],doorCoords[2]);if(distance<3){const vehicleId=VehToNet(vehicle);secureEventManager.emitSecureNet("Server:Camper:Weld",vehicleId);return}}}getDimension(){return Entity(PlayerPedId()).state.dimension}isInSystem(){return this.isSystem}syncCarry(targetPlayerServerId){const playerPed=PlayerPedId();if(targetPlayerServerId===-1||this.isCarried){ClearPedSecondaryTask(playerPed);DetachEntity(playerPed,true,false);this.isCarried=false;return}const targetPlayerPed=GetPlayerPed(GetPlayerFromServerId(targetPlayerServerId));if(targetPlayerPed===-1)return;AttachEntityToEntity(playerPed,targetPlayerPed,0,.27,.15,.63,.5,.5,180,false,false,false,false,2,false);this.isCarried=true}async systemRespawn(){const playerPed=PlayerPedId();if(!IsEntityDead(playerPed))return;ResurrectPed(playerPed);ClearPedBloodDamage(playerPed);SetEntityInvincible(playerPed,false);FreezeEntityPosition(playerPed,false);SetEntityCollision(playerPed,true,true);DisableIdleCamera(true);SetPlayerHealthRechargeMultiplier(PlayerId(),0);SetPedDropsWeaponsWhenDead(PlayerPedId(),false);weaponManager.setMeleeDamageModifier()}toggleNametags(){this.nameTagsEnabled=!this.nameTagsEnabled;chatManager.sendMessage("Admin",`Nametags ${this.nameTagsEnabled?"aktiviert":"deaktiviert"}.`,"info",1e3*7)}setCuffed(cuffed){this.isCuffed=cuffed>0;if(this.isCuffed){animationManager.playAnimation("mp_arresting","idle",8,8,-1,cuffed===2?1:49,0)}else{animationManager.stopAnimation()}}async setInjured(state){this.isInjured=state;const playerPed=PlayerPedId();if(state){const healthModule=antiCheatManager.getModule("healthModule");if(healthModule)healthModule.updateHealth();const pos=GetEntityCoords(playerPed,true);ClearPedTasksImmediately(playerPed);NetworkResurrectLocalPlayer(pos[0],pos[1],pos[2],GetEntityHeading(playerPed),true,false);ResurrectPed(playerPed);SetEntityCoords(playerPed,pos[0],pos[1],pos[2],true,true,true,false);this.setLocalEntityHealth(200);SetEntityInvincible(playerPed,true);SetBlockingOfNonTemporaryEvents(playerPed,false);SetEntityCollision(playerPed,true,true);DisableIdleCamera(true);SetPlayerHealthRechargeMultiplier(PlayerId(),0);SetPedDropsWeaponsWhenDead(PlayerPedId(),false);weaponManager.setMeleeDamageModifier();StartScreenEffect("DeathFailOut",0,true);SetTimecycleModifier("DeathFailOut");SetTimecycleModifierStrength(1)}else{ClearPedBloodDamage(playerPed);SetEntityInvincible(playerPed,false);SetEntityCollision(playerPed,true,true);StopScreenEffect("DeathFailOut");ClearTimecycleModifier();animationManager.stopAnimation()}}onEntityDamaged(victim,killer,weapon,_baseDamage){if(victim!==PlayerPedId())return;if(this.isDead||this.isInjured)return;const player=PlayerId();if(!NetworkIsPlayerActive(player))return;const playerPed=PlayerPedId();if(!IsPedFatallyInjured(playerPed))return;const killerEntityType=GetEntityType(killer);const causeOfDeath=GetPedCauseOfDeath(playerPed);let killerPlayerId=-1;if(killerEntityType==1){killerPlayerId=GetPlayerServerId(NetworkGetPlayerIndexFromPed(killer))}const injury={causeOfDeath,weaponHash:weapon,killerEntityType,killerPlayerId};console.log(injury);secureEventManager.emitSecureNet("Server:Player:Injured",injury)}checkUnderground(eventName,data){const playerPed=PlayerPedId();if(IsPedInAnyVehicle(playerPed,false)){return}const[x,y,z]=GetEntityCoords(playerPed,true);const rayHandle=StartShapeTestRay(x,y,z+1,x,y,z-5,1,playerPed,0);const[_handle,hit,_hitPos,_surfaceNormal,materialHash]=GetShapeTestResultEx(rayHandle);if(!hit)return;data.push(materialHash.toString());secureEventManager.emitSecureNet(eventName,...data)}isPlayerInjured(){return this.isInjured}isPlayerDead(){return this.isDead}isPlayerCuffed(){return this.isCuffed}canInteract(){return!this.isInjured&&!this.isCuffed}isInAction(){return Entity(PlayerPedId()).state.actionState}setLocalEntityHealth(health){const healthModule=antiCheatManager.getModule("healthModule");if(healthModule)healthModule.updateHealth();const maxHealth=health>200?health:200;SetEntityMaxHealth(PlayerPedId(),maxHealth);SetPedMaxHealth(PlayerPedId(),maxHealth);SetMaxHealthHudDisplay(maxHealth);SetEntityHealth(PlayerPedId(),health)}setPedArmour(armor){const armorModule=antiCheatManager.getModule("armorModule");if(armorModule)armorModule.updateArmor();SetPlayerMaxArmour(PlayerId(),armor>100?armor:100);SetMaxArmourHudDisplay(armor>100?armor:100);SetPedArmour(PlayerPedId(),armor)}playSound(soundId,audioName,audioRef,p3){PlaySoundFrontend(soundId,audioName,audioRef,p3)}setHeading(angle){SetEntityHeading(PlayerPedId(),angle)}setWaypoint(position){SetNewWaypoint(position.x,position.y)}isPlayerCarried(){return this.isCarried}isPlayerCarrying(){return this.isCarrying}isPlayerAdminDuty(){return this.isAduty}onTick(){const playerPed=PlayerPedId();const player=playerPoolManager.getPlayerPool();const isNoClipEnabled=noClipManager.isNoClipEnabled();for(const ped of player){if(ped===playerPed)continue;if(isNoClipEnabled||this.nameTagsEnabled||this.isAduty){const coords=GetEntityCoords(ped,true);const ownCoords=GetEntityCoords(playerPed,true);const distance=Vdist2(coords[0],coords[1],coords[2],ownCoords[0],ownCoords[1],ownCoords[2]);if(distance>14400)continue;let worldX,worldY,worldZ;const headBone=GetPedBoneIndex(ped,31086);if(headBone!==-1){const headPos=GetWorldPositionOfEntityBone(ped,headBone);if(headPos&&headPos.length>=3){worldX=headPos[0];worldY=headPos[1];worldZ=headPos[2]+.12}else{worldX=coords[0];worldY=coords[1];worldZ=coords[2]+.75}}else{worldX=coords[0];worldY=coords[1];worldZ=coords[2]+.75}const health=GetEntityHealth(ped)-100;const armor=GetPedArmour(ped);const name=playerPoolManager.getPlayerName(ped)||`Unbekannt (${NetworkGetPlayerIndexFromPed(ped)})`;const[success,screenX,screenY]=World3dToScreen2d(worldX,worldY,worldZ);if(success)this.drawNameTag(health,armor,name,screenX,screenY,distance,NetworkGetPlayerIndexFromPed(ped))}else{SetEntityHealth(ped,200);SetPedArmour(ped,100)}}HideHudComponentThisFrame(6);HideHudComponentThisFrame(7);HideHudComponentThisFrame(8);HideHudComponentThisFrame(9);HideHudComponentThisFrame(20);DisableControlAction(0,36,true);if(IsPedUsingActionMode(playerPed)){SetPedUsingActionMode(playerPed,false,-1,"-1")}if(!weaponManager.isMeleeWeapon(GetSelectedPedWeapon(playerPed))){DisableControlAction(0,140,true);DisableControlAction(0,141,true);DisableControlAction(0,142,true)}if(playerManager.isCarrying){DisableControlAction(0,23,true);DisableControlAction(0,24,true);DisableControlAction(0,22,true)}if(!playerManager.canInteract()){DisablePlayerFiring(playerPed,true);DisableControlAction(0,22,true);DisableControlAction(0,23,true);DisableControlAction(0,24,true);DisableControlAction(0,25,true);DisableControlAction(0,44,true);DisableControlAction(0,45,true);DisableControlAction(0,75,true);DisableControlAction(0,257,true);DisableControlAction(0,263,true);DisableControlAction(0,264,true);DisableControlAction(0,66,true);DisableControlAction(0,67,true);DisableControlAction(0,91,true);DisableControlAction(0,92,true);if(playerManager.isPlayerInjured()||playerManager.isPlayerDead()){DisableControlAction(0,30,true);DisableControlAction(0,31,true);DisableControlAction(0,21,true);DisableControlAction(0,65,true)}}else if(isNoClipEnabled){DisableControlAction(0,24,true);DisableControlAction(0,25,true);DisableControlAction(0,44,true);DisableControlAction(0,45,true);DisableControlAction(0,75,true);DisableControlAction(0,257,true);DisableControlAction(0,263,true);DisableControlAction(0,264,true)}}drawNameTag(health,armor,name,screenX,screenY,distance,id){if(!screenX||!screenY)return;const minScale=.24;const maxScale=.375;const minDist=2;const maxDist=70;const clamp=(v,a,b)=>Math.max(a,Math.min(b,v));const t=clamp((distance-minDist)/(maxDist-minDist),0,1);const scale=maxScale-(maxScale-minScale)*t;const font=4;const healthText=`${Math.max(0,Math.floor(health))}`;const armorText=`${Math.max(0,Math.floor(armor))}`;const nameText=`${name}`;const isPlayerTalking=voiceManager.getPlayerHandler().isPlayerTalking(id);const composedText=`~g~${healthText} ${isPlayerTalking?"~o~":"~w~"}${nameText} ~b~${armorText}`;screenY-=.0375*(scale/maxScale);const nameY=screenY;const measureTextWidth=text=>{SetTextFont(font);SetTextScale(scale,scale);BeginTextCommandGetWidth("STRING");AddTextComponentSubstringPlayerName(text);return EndTextCommandGetWidth(true)};const textW=measureTextWidth(composedText);const startX=screenX-textW/2;SetTextFont(font);SetTextScale(scale,scale);SetTextColour(255,255,255,255);SetTextCentre(false);SetTextEntry("STRING");AddTextComponentSubstringPlayerName(composedText);SetTextOutline();DrawText(startX,nameY)}};var playerManager=new PlayerManager;var WeaponManager=class{constructor(){__publicField(this,"weapons",[]);__publicField(this,"lastSent",0);__publicField(this,"updateInterval",5e3);__publicField(this,"lastWeapon",0);__publicField(this,"meleeWeapons",[GetHashKey("WEAPON_UNARMED"),GetHashKey("WEAPON_KNIFE"),GetHashKey("WEAPON_NIGHTSTICK"),GetHashKey("WEAPON_HAMMER"),GetHashKey("WEAPON_BAT"),GetHashKey("WEAPON_GOLFCLUB"),GetHashKey("WEAPON_CROWBAR"),GetHashKey("WEAPON_BOTTLE"),GetHashKey("WEAPON_DAGGER"),GetHashKey("WEAPON_HATCHET"),GetHashKey("WEAPON_KNUCKLE"),GetHashKey("WEAPON_MACHETE"),GetHashKey("WEAPON_SWITCHBLADE"),GetHashKey("WEAPON_BATTLEAXE"),GetHashKey("WEAPON_POOLCUE"),GetHashKey("WEAPON_WRENCH")]);this.registerEvents();this.registerSchedule()}registerEvents(){secureEventManager.onSecureNet("Client:Player:UpdateWeapons",this.updateWeapons.bind(this))}registerSchedule(){scheduleSystem.registerInterval(this.updateWeaponAmmo.bind(this));setInterval(this.weaponSwitch.bind(this),20)}isMeleeWeapon(weaponHash){return this.meleeWeapons.includes(weaponHash)}setMeleeDamageModifier(){this.meleeWeapons.forEach(weaponHash=>{SetWeaponDamageModifier(weaponHash,.2)})}updateWeapons(weapons){if(!weapons)return;this.weapons=weapons}weaponSwitch(){const playerPed=PlayerPedId();const currentWeapon=GetSelectedPedWeapon(playerPed);if(this.lastWeapon!==currentWeapon){this.lastWeapon=currentWeapon;if(IsPedReloading(playerPed))return;RefillAmmoInstantly(playerPed);SetCurrentPedWeapon(playerPed,currentWeapon,true)}}updateWeaponAmmo(){this.lastSent+=200;if(this.lastSent<this.updateInterval){return}let hasChanges=false;const playerPed=PlayerPedId();if(playerManager.isInSystem())return;for(const weapon of this.weapons){const currentAmmo=GetAmmoInPedWeapon(playerPed,weapon.weaponHash);if(currentAmmo!==weapon.ammo){weapon.ammo=currentAmmo;hasChanges=true}}if(hasChanges){secureEventManager.emitSecureNet("Server:Player:UpdateAmmo",this.weapons)}this.lastSent=0}getWeapons(){return this.weapons}};var weaponManager=new WeaponManager;var AfkManager=class{constructor(){__publicField(this,"lastPosition",{x:0,y:0,z:0});__publicField(this,"distanceThreshold",25);__publicField(this,"afkTime",0);__publicField(this,"afkThreshold",70);this.registerSchedule()}registerSchedule(){setInterval(()=>{this.afkCheck()},1e3*30*1)}afkCheck(){const playerPed=PlayerPedId();const coords=GetEntityCoords(playerPed,true);const currentPosition={x:coords[0],y:coords[1],z:coords[2]};const distance=Vdist2(this.lastPosition.x,this.lastPosition.y,this.lastPosition.z,currentPosition.x,currentPosition.y,currentPosition.z);if(distance<this.distanceThreshold){this.afkTime++;this.lastPosition=currentPosition;if(this.afkTime>=this.afkThreshold){secureEventManager.emitSecureNet("Server:Afk:Check");this.afkTime=0}}else{this.afkTime=0;this.lastPosition=currentPosition}}};var afkManager=new AfkManager;var CosmeticManager=class{constructor(){secureEventManager.onSecureNet("Client:Cosmetic:Open",this.openMenu.bind(this));secureEventManager.onSecureNet("Client:Cosmetic:DestroyCamera",this.destroyCamera.bind(this));nuiManager.onNui("Client:Cosmetic:UpdateAppearance",this.updateAppearance.bind(this));nuiManager.onNui("Client:Cosmetic:SetCategory",this.setCategory.bind(this));return}openMenu(characterDto){SetNuiFocus(true,true);this.setClothing(characterDto.gender);nuiManager.emitNui("Web:Cosmetic:Open",characterDto);nuiManager.setView("charactercreator");cameraManager.createPlayerCamera(void 0,50)}setCategory(category){switch(category){case"heritage":cameraManager.setCameraFov(50);cameraManager.pointAtBody();break;case"appearance":cameraManager.setCameraFov(20);cameraManager.pointAtFace();break;case"face":cameraManager.setCameraFov(20);cameraManager.pointAtFace();break;case"body":cameraManager.setCameraFov(60);cameraManager.pointAtBody();break;default:break}}updateAppearance(character){const ped=PlayerPedId();SetPedHeadBlendData(ped,character.mother,character.father,0,character.faceMother,character.faceFather,0,character.parentMix,character.skinMix,0,false);SetPedComponentVariation(ped,2,character.hairs,0,0);SetPedHairColor(ped,character.hairColor,character.hairHighlightColor);SetPedEyeColor(ped,character.eyeColor);SetPedFaceFeature(ped,0,character.noseWidth);SetPedFaceFeature(ped,1,character.nosePeak);SetPedFaceFeature(ped,2,character.noseLength);SetPedFaceFeature(ped,3,character.noseBoneCurviness);SetPedFaceFeature(ped,4,character.noseTip);SetPedFaceFeature(ped,5,character.noseBoneTwist);SetPedFaceFeature(ped,6,character.eyeBrowHeight);SetPedFaceFeature(ped,7,character.eyeBrowDepth);SetPedFaceFeature(ped,8,character.cheekBoneHeight);SetPedFaceFeature(ped,9,character.cheekBoneDepth);SetPedFaceFeature(ped,10,character.cheeksWidth);SetPedFaceFeature(ped,11,character.eyeSize);SetPedFaceFeature(ped,12,character.lipThickness);SetPedFaceFeature(ped,13,character.jawWidth);SetPedFaceFeature(ped,14,character.jawShape);SetPedFaceFeature(ped,15,character.chinHeight);SetPedFaceFeature(ped,16,character.chinDepth);SetPedFaceFeature(ped,17,character.chinWidth);SetPedFaceFeature(ped,18,character.chinIndent);SetPedFaceFeature(ped,19,character.neckWidth);SetPedHeadOverlay(ped,0,character.blemishes,character.blemishesOpacity);SetPedHeadOverlay(ped,1,character.beard,character.beardOpacity);SetPedHeadOverlayColor(ped,1,1,character.beardColor,0);SetPedHeadOverlay(ped,2,character.eyeBrowns,character.eyeBrownOpacity);SetPedHeadOverlayColor(ped,2,1,character.eyeBrownColor,0);SetPedHeadOverlay(ped,3,character.ageing,character.ageingOpacity);SetPedHeadOverlay(ped,4,character.makeup,character.makeupOpacity);SetPedHeadOverlayColor(ped,4,1,character.makeupColor,0);SetPedHeadOverlay(ped,5,character.blush,character.blushOpacity);SetPedHeadOverlayColor(ped,5,1,character.blushColor,0);SetPedHeadOverlay(ped,7,character.sunDamage,character.sunDamageOpacity);SetPedHeadOverlay(ped,8,character.lipstick,character.lipstickOpacity);SetPedHeadOverlayColor(ped,8,1,character.lipstickColor,0);SetPedHeadOverlay(ped,9,character.freckles,character.frecklesOpacity);SetPedHeadOverlay(ped,10,character.chestHair,character.chestHairOpacity);SetPedHeadOverlayColor(ped,10,1,character.chestHairColor,character.chestHairHighlight);SetPedHeadOverlay(ped,11,character.bodyBlemishes,character.bodyBlemishesOpacity);return}setClothing(gender){const playerPed=PlayerPedId();if(gender===0){SetPedComponentVariation(playerPed,1,0,0,0);SetPedComponentVariation(playerPed,3,15,0,0);SetPedComponentVariation(playerPed,4,21,0,0);SetPedComponentVariation(playerPed,6,34,0,0);SetPedComponentVariation(playerPed,8,15,0,0);SetPedComponentVariation(playerPed,11,15,0,0)}else{SetPedComponentVariation(playerPed,1,0,0,0);SetPedComponentVariation(playerPed,3,15,0,0);SetPedComponentVariation(playerPed,4,21,0,0);SetPedComponentVariation(playerPed,6,35,0,0);SetPedComponentVariation(playerPed,8,15,0,0);SetPedComponentVariation(playerPed,11,15,0,0)}ClearAllPedProps(playerPed);ClearPedBloodDamage(playerPed);ResetPedVisibleDamage(playerPed);return}destroyCamera(){cameraManager.destroyCamera();return}};var cosmeticManager=new CosmeticManager;var SpectateManager=class{constructor(){__publicField(this,"isSpectating",false);__publicField(this,"targetId",null);__publicField(this,"lastCheck",0);__publicField(this,"checkInterval",1e3);this.registerEvents()}registerEvents(){secureEventManager.onSecureNet("Client:Player:Spectate",this.spectate.bind(this));scheduleSystem.registerInterval(this.handleSpectateEvent.bind(this))}async handleSpectateEvent(){if(!this.isSpectating)return;const currentTime=GetGameTimer();if(currentTime-this.lastCheck<this.checkInterval){return}this.lastCheck=currentTime;if(this.targetId!==null){const targetCoords=GetEntityCoords(this.targetId,false);const playerPed=PlayerPedId();SetEntityCoords(playerPed,targetCoords[0],targetCoords[1],targetCoords[2]+20,false,false,false,false)}}async spectate(targetPlayerServerId){if(this.isSpectating){this.stopSpectate();return}const targetPlayer=GetPlayerFromServerId(targetPlayerServerId);if(targetPlayer===-1){chatManager.sendMessage("Spectate","Player not found.","error",1e3*15);return}const playerPed=PlayerPedId();const position=GetEntityCoords(playerPed,false);SetEntityVisible(playerPed,false,false);SetEntityCoords(playerPed,position[0],position[1],position[2]+10,false,false,false,false);FreezeEntityPosition(playerPed,true);this.targetId=GetPlayerPed(targetPlayer);this.isSpectating=true;await new Promise(resolve=>{setTimeout(()=>resolve(),200)});NetworkSetInSpectatorMode(true,this.targetId)}stopSpectate(){if(!this.isSpectating)return;const playerPed=PlayerPedId();NetworkSetInSpectatorMode(false,playerPed);FreezeEntityPosition(playerPed,false);SetEntityVisible(playerPed,true,false);this.isSpectating=false}};var spectateManager=new SpectateManager;var NativeMenuManager=class{constructor(){this.registerEvents()}registerEvents(){secureEventManager.onSecureNet("Client:NativeMenu:Open",this.createNativeMenu.bind(this))}createNativeMenu(dto){nuiManager.setView("nativemenu");nuiManager.emitNui("Web:NativeMenu:Open",dto);SetNuiFocus(true,false);SetNuiFocusKeepInput(true)}};var nativeMenuManager=new NativeMenuManager;var TuningManager=class{constructor(){this.registerEvents()}registerEvents(){secureEventManager.onSecureNet("Client:Tuning:Open",this.openTuningMenu.bind(this));secureEventManager.onSecureNet("Client:Tuning:Color",this.openColorMenu.bind(this))}openColorMenu(vehicleNetworkId){const vehicle=NetToVeh(vehicleNetworkId);if(!vehicle||vehicle===0||!DoesEntityExist(vehicle))return;const colorItems=[];for(let colorIndex=0;colorIndex<160;colorIndex++){colorItems.push({title:`Farbe ${colorIndex}`,action:"Server:Tuning:SelectColor",actionData:[vehicleNetworkId.toString(),colorIndex.toString()]})}const nativeItems=[{title:"Tuning abbrechen",action:"Server:Tuning:Cancel",actionData:[vehicleNetworkId.toString()]},{title:"Tuning abschlieen",action:"Server:Tuning:Finish",actionData:[vehicleNetworkId.toString()]},{title:"Primrfarbe",subtitle:"Whle die Primrfarbe des Fahrzeugs aus.",items:colorItems.map(item=>({title:item.title,action:"Server:Tuning:SelectColor",actionData:[item.actionData[0],item.actionData[1],"primary"]}))},{title:"Sekundrfarbe",subtitle:"Whle die Sekundrfarbe des Fahrzeugs aus.",items:colorItems.map(item=>({title:item.title,action:"Server:Tuning:SelectColor",actionData:[item.actionData[0],item.actionData[1],"secondary"]}))},{title:"Pearlescent Farbe",subtitle:"Whle die Pearlescent Farbe des Fahrzeugs aus.",items:colorItems.map(item=>({title:item.title,action:"Server:Tuning:SelectColor",actionData:[item.actionData[0],item.actionData[1],"pearlescent"]}))},{title:"Felgenfarbe",subtitle:"Whle die Felgenfarbe des Fahrzeugs aus.",items:colorItems.map(item=>({title:item.title,action:"Server:Tuning:SelectColor",actionData:[item.actionData[0],item.actionData[1],"wheel"]}))},{title:"Interiorfarbe",subtitle:"Whle die Interiorfarbe des Fahrzeugs aus.",items:colorItems.map(item=>({title:item.title,action:"Server:Tuning:SelectColor",actionData:[item.actionData[0],item.actionData[1],"interior"]}))}];nativeMenuManager.createNativeMenu({title:"Fahrzeugfarbe",subtitle:"Whle eine Kategorie aus um fortzufahren.",items:nativeItems})}openTuningMenu(vehicleNetworkId,items){const vehicle=NetToVeh(vehicleNetworkId);if(!vehicle||vehicle===0||!DoesEntityExist(vehicle))return;const tuningItems=[{title:"Tuning abbrechen",action:"Server:Tuning:Cancel",actionData:[vehicleNetworkId.toString()]},{title:"Tuning abschlieen",action:"Server:Tuning:Finish",actionData:[vehicleNetworkId.toString()]}];for(const tuningItem of items){const modCount=tuningItem.type!==999?GetNumVehicleMods(vehicle,tuningItem.type):GetNumVehicleWindowTints();if(modCount>0){const items2=[];for(let modIndex=-1;modIndex<modCount;modIndex++){let modName="";if(modIndex==-1&&tuningItem.type!==999){modName="Standard"}else if(tuningItem.type===999){if(modIndex===-1)continue;if(modIndex===0)modName="Keine Tnung";else modName=`Fenstertnung ${modIndex}`}else{modName=GetModTextLabel(vehicle,tuningItem.type,modIndex)}items2.push({title:modName||`Mod ${modIndex+1}`,action:"Server:Tuning:SelectItem",actionData:[vehicleNetworkId.toString(),tuningItem.tuningItemId,modIndex.toString()]})}tuningItems.push({title:tuningItem.name,subtitle:`Preis: ${tuningItem.price}$`,items:items2})}}if(tuningItems.length===0)return chatManager.sendMessage("Tuning","An diesem Fahrzeug knnen keine Tuning-Teile verbaut werden.","error",5e3);nativeMenuManager.createNativeMenu({title:"Tuning",subtitle:"Whle eine Kategorie aus um fortzufahren.",items:tuningItems})}};var tuningManager=new TuningManager;var PositionModel=class{constructor(position=new Vector3(0,0,73),rotation=new Vector3(0,0,0)){__publicField(this,"position");__publicField(this,"rotation");this.position=position;this.rotation=rotation}};var TrainManager=class{constructor(){__publicField(this,"trainType",-1);__publicField(this,"currentTrain",null);__publicField(this,"nextStation",new PositionModel);__publicField(this,"trainConfig",new Cache);__publicField(this,"currentSpeed",0);__publicField(this,"abortHoldStart",null);__publicField(this,"abortHoldThreshold",3e3);__publicField(this,"abortControl",23);__publicField(this,"brakeControl",22);__publicField(this,"reverseMax",-8);__publicField(this,"cachedDistanceToNextStation",null);__publicField(this,"lastDistanceCalc",0);__publicField(this,"distanceCalcInterval",400);this.loadTrainModels();this.registerEvents()}registerEvents(){secureEventManager.onSecureNet("Client:Train:Start",this.createTrain.bind(this));secureEventManager.onSecureNet("Client:Train:Delete",this.deleteTrain.bind(this));secureEventManager.onSecureNet("Client:Train:NextStation",this.setNextStation.bind(this));scheduleSystem.registerInterval(this.trainInterval.bind(this));tickSystem.registerTick(this.trainTick.bind(this))}createTrain(type,railPosition,direction){const config=this.trainConfig.get(type);if(!config)return;const train=CreateMissionTrain(config.variant,railPosition.position.x,railPosition.position.y,railPosition.position.z,direction);SetTrainSpeed(train,0);SetTrainCruiseSpeed(train,0);SetEntityAsMissionEntity(train,true,false);NetworkRegisterEntityAsNetworked(GetTrainCarriage(train,4));const playerPed=PlayerPedId();SetPedIntoVehicle(playerPed,train,-1);this.currentTrain=train;this.trainType=type;this.currentSpeed=0}setNextStation(positionModel){if(!this.currentTrain)return;this.nextStation=positionModel;try{const trainPos=GetEntityCoords(this.currentTrain,true);if(this.nextStation?.position){const dx=trainPos[0]-this.nextStation.position.x;const dy=trainPos[1]-this.nextStation.position.y;const dz=trainPos[2]-this.nextStation.position.z;this.cachedDistanceToNextStation=Math.sqrt(dx*dx+dy*dy+dz*dz);this.lastDistanceCalc=GetGameTimer()}}catch{this.cachedDistanceToNextStation=null}}deleteTrain(){if(!this.currentTrain)return;const train=this.currentTrain;DeleteMissionTrain(train);this.currentTrain=null;this.trainType=-1}loadTrainModels(){const trainModels=["freight","freightcar","freightcont1","freightcont2","freightgrain","freighttrailer","metrotrain","tankercar","tram","s_m_m_lsmetro_01"];DeleteAllTrains();trainModels.forEach(model=>{RequestModel(GetHashKey(model))});const level1={type:1,variant:19,maxSpeed:38,acceleration:.68,deceleration:.8};this.trainConfig.set(1,level1);const level2={type:2,variant:20,maxSpeed:40,acceleration:.68,deceleration:.8};this.trainConfig.set(2,level2);const level3={type:3,variant:6,maxSpeed:42,acceleration:.68,deceleration:.8};this.trainConfig.set(3,level3);const level4={type:4,variant:28,maxSpeed:45,acceleration:.88,deceleration:1};this.trainConfig.set(4,level4);const level5={type:5,variant:28,maxSpeed:45,acceleration:1,deceleration:1.2};this.trainConfig.set(5,level5)}trainInterval(){if(this.trainType===-1||!this.currentTrain)return;if(playerManager.isInAction())return;const config=this.trainConfig.get(this.trainType);if(!config)return;if(IsControlPressed(0,32)){if(this.currentSpeed<0){this.currentSpeed+=config.deceleration;if(this.currentSpeed>0)this.currentSpeed=0}else{this.currentSpeed+=config.acceleration;if(this.currentSpeed>config.maxSpeed){this.currentSpeed=config.maxSpeed}}}else if(IsControlPressed(0,33)){if(this.currentSpeed>0){this.currentSpeed-=config.deceleration;if(this.currentSpeed<0)this.currentSpeed=0}else{this.currentSpeed-=config.acceleration*.5;if(this.currentSpeed<this.reverseMax){this.currentSpeed=this.reverseMax}}}else if(IsControlPressed(0,this.brakeControl)){if(this.currentSpeed>0){this.currentSpeed-=config.deceleration*1.2;if(this.currentSpeed<0)this.currentSpeed=0}else if(this.currentSpeed<0){this.currentSpeed+=config.deceleration*1.2;if(this.currentSpeed>0)this.currentSpeed=0}}else{if(this.currentSpeed>0){this.currentSpeed-=config.deceleration/2;if(this.currentSpeed<0)this.currentSpeed=0}else if(this.currentSpeed<0){this.currentSpeed+=config.deceleration/2;if(this.currentSpeed>0)this.currentSpeed=0}else{this.currentSpeed=0}}const position=GetEntityCoords(this.currentTrain,true);const zoneKey=GetNameOfZone(position[0],position[1],position[2]);if(zoneKey==="DAVIS"||zoneKey==="PALETO"||zoneKey==="RANCHO"||zoneKey==="BANNING"||zoneKey==="ELYSIAN"||zoneKey==="STRAW"||zoneKey==="CHAMH"){if(!(zoneKey==="RANCHO"&&position[2]<20)&&!(zoneKey==="STRAW"&&position[2]>36)){if(this.currentSpeed>12){this.currentSpeed=12}if(this.currentSpeed<-12){this.currentSpeed=-12}}}SetTrainCruiseSpeed(this.currentTrain,this.currentSpeed)}trainTick(){if(this.trainType===-1||!this.currentTrain)return;DisableControlAction(0,75,true);const now=GetGameTimer();if(now-this.lastDistanceCalc>=this.distanceCalcInterval){try{const trainPos=GetEntityCoords(this.currentTrain,true);if(this.nextStation?.position){const dx=trainPos[0]-this.nextStation.position.x;const dy=trainPos[1]-this.nextStation.position.y;const dz=trainPos[2]-this.nextStation.position.z;this.cachedDistanceToNextStation=Math.sqrt(dx*dx+dy*dy+dz*dz)}else{this.cachedDistanceToNextStation=null}}catch{this.cachedDistanceToNextStation=null}this.lastDistanceCalc=now}if(this.cachedDistanceToNextStation!==null){let prefix="~r~";if(this.cachedDistanceToNextStation<100){prefix="~g~"}else if(this.cachedDistanceToNextStation<1e3){prefix="~y~"}this.drawCenteredHelp(`${prefix}${this.cachedDistanceToNextStation.toFixed(0)}m~w~ bis zum nchsten Halt.`,.96)}if(IsControlPressed(0,this.abortControl)&&!playerManager.isInAction()){const nowHold=GetGameTimer();if(this.abortHoldStart===null)this.abortHoldStart=nowHold;const elapsed=nowHold-this.abortHoldStart;const remainingSec=Math.max(0,(this.abortHoldThreshold-elapsed)/1e3);this.drawCenteredHelp(`~r~[F] ~w~halten zum Abbrechen: ~r~${remainingSec.toFixed(1)}s`,.85);if(elapsed>=this.abortHoldThreshold){secureEventManager.emitSecureNet("Server:Train:Stop",this.trainType);this.abortHoldStart=null}}else{this.abortHoldStart=null}}drawCenteredHelp(text,yOffset=.9){SetTextFont(0);SetTextProportional(true);SetTextScale(0,.4);SetTextCentre(true);SetTextDropShadow();SetTextOutline();SetTextEntry("STRING");AddTextComponentString(text);DrawText(.5,yOffset)}};var trainManager=new TrainManager;var InteractionMenuManager=class{constructor(){__publicField(this,"lastInteraction",0);__publicField(this,"interactions",new Cache);__publicField(this,"objectWhitelist",new Set([123,456]));__publicField(this,"animations",[]);this.registerInputs();this.registerEvents()}registerInputs(){RegisterCommand("+client:interaction-menu",this.handleInteractionMenu.bind(this,true),false);RegisterCommand("-client:interaction-menu",this.handleInteractionMenu.bind(this,false),false);RegisterKeyMapping("+client:interaction-menu","Interaction Menu","keyboard","x");RegisterCommand("+client:animation-menu",this.handleAnimationMenu.bind(this,true),false);RegisterCommand("-client:animation-menu",this.handleAnimationMenu.bind(this,false),false);RegisterKeyMapping("+client:animation-menu","Animation Shortcut Menu","keyboard","n")}registerEvents(){secureEventManager.onSecureNet("Client:InteractionMenu:Load",this.loadInteractions.bind(this));secureEventManager.onSecureNet("Client:InteractionMenu:Reset",this.resetInteractions.bind(this));secureEventManager.onSecureNet("Client:AnimationMenu:Load",this.loadAnimations.bind(this))}loadInteractions(interactions){for(const interaction of interactions){this.interactions.set(interaction.type,interaction)}}loadAnimations(animations){this.animations=animations}resetInteractions(){this.interactions.clear()}handleAnimationMenu(state){if(IsPauseMenuActive()||nuiManager.viewName&&nuiManager.viewName!=="interactionmenu")return;if(IsPedInAnyVehicle(PlayerPedId(),true))return;if(state){if(GetGameTimer()-this.lastInteraction<250)return;this.lastInteraction=GetGameTimer();if(!playerManager.canInteract()||playerManager.isInAction())return;const interactionMenu={type:0,items:[]};interactionMenu.items.push({title:"Animation abbrechen",subtitle:"",img:"stop",action:"Server:Animation:StopAnimation",actionData:[]});interactionMenu.items.push(...this.animations.map(animation=>({title:animation.name,subtitle:"",img:"animation",action:"Server:Animation:PlayAnimation",actionData:[animation.animationId]})));interactionMenu.items.push({title:"Animation auswhlen",subtitle:"",img:"delete",action:"Server:Animation:OpenMenu",actionData:["true"]});if(this.animations.length>0){interactionMenu.items.push({title:"Animation lschen",subtitle:"",img:"delete",action:"Server:Animation:DeleteMenu",actionData:[]})}SetCursorLocation(.5,.5);nuiManager.emitNui("Web:InteractionMenu:Open",interactionMenu);nuiManager.setView("interactionmenu")}else{nuiManager.emitNui("Web:InteractionMenu:Close");nuiManager.closeViews()}}handleInteractionMenu(state){if(IsPauseMenuActive()||nuiManager.viewName&&nuiManager.viewName!=="interactionmenu")return;if(state){if(GetGameTimer()-this.lastInteraction<250)return;this.lastInteraction=GetGameTimer();if(!playerManager.canInteract()||playerManager.isInAction())return;if(IsPedInAnyVehicle(PlayerPedId(),false)){const vehicle=GetVehiclePedIsIn(PlayerPedId(),false);this.createInteractionMenu(2,vehicle)}else{const entity=this.getEntityInFront();if(!entity)return;if(IsEntityAVehicle(entity)){this.createInteractionMenu(1,entity)}else if(IsEntityAPed(entity)&&IsPedAPlayer(entity)){this.createInteractionMenu(0,entity)}else if(IsEntityAnObject(entity)){if(!this.objectWhitelist.has(GetEntityModel(entity)))return;this.createInteractionMenu(3,entity)}}SetCursorLocation(.5,.5)}else{nuiManager.emitNui("Web:InteractionMenu:Close");nuiManager.closeViews()}}createInteractionMenu(type,entity){const interactionMenu=this.interactions.get(type);if(!interactionMenu)return;const entityId=NetworkGetNetworkIdFromEntity(entity);if(!entityId)return;for(const item of interactionMenu.items){if(type===1||type===2){item.title=GetDisplayNameFromVehicleModel(GetEntityModel(entity))}else if(type===3){item.title=GetEntityModel(entity).toString()}item.actionData.length=0;item.actionData.push(entityId)}nuiManager.emitNui("Web:InteractionMenu:Open",interactionMenu);nuiManager.setView("interactionmenu")}getEntityInFront(){const playerPed=PlayerPedId();const camCoords=GetGameplayCamCoord();const camRot=GetGameplayCamRot(2);const radZ=camRot[2]*Math.PI/180;const radX=camRot[0]*Math.PI/180;const cosX=Math.cos(radX);const forwardVector={x:-Math.sin(radZ)*cosX,y:Math.cos(radZ)*cosX,z:Math.sin(radX)};let multiplier=8;if(GetFollowPedCamViewMode()===4||GetFollowVehicleCamViewMode()===4){multiplier=4}const rayEnd={x:camCoords[0]+forwardVector.x*multiplier,y:camCoords[1]+forwardVector.y*multiplier,z:camCoords[2]+forwardVector.z*multiplier};const rayHandle=StartShapeTestRay(camCoords[0],camCoords[1],camCoords[2],rayEnd.x,rayEnd.y,rayEnd.z,-1,playerPed,0);const[status,hit,_hitCoords,_surfaceNormal,entityHit]=GetRaycastResult(rayHandle);if(status===2&&hit){return entityHit}return null}};var interactionMenuManager=new InteractionMenuManager;var PhoneManager=class{constructor(){__publicField(this,"isPhoneOpen",false);__publicField(this,"appData",new Cache);__publicField(this,"appsToLoadFromServer",[7,5,4,6,8]);this.registerEvents();this.registerInputs()}registerEvents(){nuiManager.onNui("Client:Phone:Close",this.closePhone.bind(this));nuiManager.onNui("Client:Phone:OpenApp",this.openApp.bind(this));secureEventManager.onSecureNet("Client:Phone:LoadApp",this.loadApp.bind(this));scheduleSystem.registerInterval(this.phoneTick.bind(this))}registerInputs(){inputSystem.registerKey("f2","client:phone","Phone",this.handlePhone.bind(this))}handlePhone(){if(IsPauseMenuActive()||!playerManager.canInteract()||playerManager.isInAction())return;if(this.isPhoneOpen){this.closePhone()}else{const inventory=inventoryManager.getInventory();if(!inventory)return;const hasPhone=inventory.slots.some(slot=>slot.item?.id==="687d414ebd147b669710e2ad");if(!hasPhone)return;this.openPhone()}}openApp(appType){if(!this.isPhoneOpen)return;if(this.appsToLoadFromServer.includes(appType)){secureEventManager.emitSecureNet("Server:Phone:LoadApp",appType)}const data=this.appData.get(appType)||null;if(!data)return;nuiManager.emitNui("Web:Phone:LoadApp",{appType,data})}loadApp(appType,data){this.appData.set(appType,data);if(!this.isPhoneOpen)return;nuiManager.emitNui("Web:Phone:LoadApp",{appType,data})}openPhone(){if(this.isPhoneOpen)return;if(playerManager.isPlayerCarrying())return;if(nuiManager.isViewOpen()){nuiManager.closeViews()}this.isPhoneOpen=true;nuiManager.emitNui("Web:Phone:Show",true);nuiManager.setPhoneState(true);animationManager.playUpperAnimation("amb@world_human_stand_mobile@male@text@base","base",8,8,-1,49,0)}closePhone(){if(!this.isPhoneOpen)return;this.isPhoneOpen=false;animationManager.stopUpperAnimation();nuiManager.emitNui("Web:Phone:Show",false);nuiManager.setPhoneState(false)}phoneTick(){if(!this.isPhoneOpen)return;if(!playerManager.canInteract()){this.closePhone();return}}};var phoneManager=new PhoneManager;var LaptopManager=class{constructor(){__publicField(this,"isLaptopOpen",false);__publicField(this,"appData",new Cache);__publicField(this,"appEvents",new Cache);__publicField(this,"refreshDataTime",1e3*30);__publicField(this,"appsToLoadFromServer",[5,4]);this.registerEvents();this.registerInputs()}registerEvents(){this.appEvents.set(1,"Web:Laptop:LoadVehicleData");this.appEvents.set(2,"Web:Laptop:LoadFactionData");this.appEvents.set(3,"Web:Laptop:LoadBusinessData");this.appEvents.set(5,"Web:Laptop:LoadDispatchData");this.appEvents.set(4,"Web:Laptop:LoadPatrolData");this.appEvents.set(6,"Web:Laptop:LoadRecordData");nuiManager.onNui("Client:Laptop:Close",this.closeLaptop.bind(this));nuiManager.onNui("Client:Laptop:OpenApp",this.openApp.bind(this));secureEventManager.onSecureNet("Client:Laptop:LoadApp",this.loadApp.bind(this));scheduleSystem.registerInterval(this.laptopTick.bind(this))}registerInputs(){inputSystem.registerKey("f3","client:laptop","Laptop",this.handleLaptop.bind(this))}handleLaptop(){if(IsPauseMenuActive()||!playerManager.canInteract()||playerManager.isInAction())return;if(playerManager.isPlayerCarrying())return;if(this.isLaptopOpen){this.closeLaptop()}else{const inventory=inventoryManager.getInventory();if(!inventory)return;const hasLaptop=inventory.slots.some(slot=>slot.item?.id==="687d414ebd147b669710e2ae");if(!hasLaptop)return;this.openLaptop()}}openApp(appType){if(!this.isLaptopOpen)return;if(appType===6)return;const data=this.appData.get(appType)||null;if(!data){secureEventManager.emitSecureNet("Server:Laptop:LoadApp",appType);return}if(this.appsToLoadFromServer.includes(appType)||new Date().getTime()-data.lastUpdate.getTime()>this.refreshDataTime){secureEventManager.emitSecureNet("Server:Laptop:LoadApp",appType)}const event=this.appEvents.get(appType);if(!event)return;nuiManager.emitNui(event,data.data)}loadApp(appType,data){this.appData.set(appType,{data,lastUpdate:new Date});if(!this.isLaptopOpen)return;const event=this.appEvents.get(appType);if(!event)return;nuiManager.emitNui(event,data)}openLaptop(){if(this.isLaptopOpen)return;if(nuiManager.isViewOpen()){nuiManager.closeViews()}this.isLaptopOpen=true;nuiManager.emitNui("Web:Laptop:Show",true);nuiManager.setLaptopState(true);animationManager.playUpperAnimation("amb@world_human_stand_mobile@male@text@base","base",8,8,-1,49,0)}closeLaptop(){if(!this.isLaptopOpen)return;this.isLaptopOpen=false;animationManager.stopUpperAnimation();nuiManager.emitNui("Web:Phone:Show",false);nuiManager.setLaptopState(false)}laptopTick(){if(!this.isLaptopOpen)return;if(!playerManager.canInteract()){this.closeLaptop();return}}};var laptopManager=new LaptopManager;var BlipManager=class{constructor(){__publicField(this,"blips",new Cache);this.registerEvents()}registerEvents(){secureEventManager.onSecureNet("Client:Blip:CreateBlips",this.createBlips.bind(this));secureEventManager.onSecureNet("Client:Blip:CreateBlip",this.createBlip.bind(this));secureEventManager.onSecureNet("Client:Blip:RemoveAllBlips",this.removeAllBlips.bind(this));secureEventManager.onSecureNet("Client:Blip:RemoveBlip",this.removeBlip.bind(this));secureEventManager.onSecureNet("Client:Blip:UpdatePosition",this.updatePosition.bind(this));secureEventManager.onSecureNet("Client:Blip:UpdateColour",this.updateColour.bind(this))}createBlips(blips){for(const blip of blips){this.createBlip(blip)}}createBlip(blip){const createdBlip=blip.radiusBlip?AddBlipForRadius(blip.position.x,blip.position.y,blip.position.z,blip.scale):AddBlipForCoord(blip.position.x,blip.position.y,blip.position.z);SetBlipSprite(createdBlip,blip.sprite);SetBlipDisplay(createdBlip,4);SetBlipScale(createdBlip,blip.scale);SetBlipColour(createdBlip,blip.colour);SetBlipAsShortRange(createdBlip,true);BeginTextCommandSetBlipName("STRING");AddTextComponentString(blip.name);EndTextCommandSetBlipName(createdBlip);this.blips.set(blip.id,createdBlip)}updatePosition(id,position){const blip=this.blips.get(id);if(blip){SetBlipCoords(blip,position.x,position.y,position.z)}}updateColour(id,colour){const blip=this.blips.get(id);if(blip){SetBlipColour(blip,colour)}}removeBlip(id){const blip=this.blips.get(id);if(blip){RemoveBlip(blip);this.blips.delete(id)}}removeAllBlips(){for(const blip of this.blips.values()){RemoveBlip(blip)}this.blips.clear()}};var blipManager=new BlipManager;var Marker=class{constructor(id,type,position,scale,colour,dimension,bobUpAndDown,faceCamera,rotationOrder,rotate,textureDict,textureName,drawOnEnts){__publicField(this,"id");__publicField(this,"type");__publicField(this,"position");__publicField(this,"scale");__publicField(this,"colour");__publicField(this,"dimension");__publicField(this,"bobUpAndDown");__publicField(this,"faceCamera");__publicField(this,"rotationOrder");__publicField(this,"rotate");__publicField(this,"textureDict");__publicField(this,"textureName");__publicField(this,"drawOnEnts");this.id=id;this.type=type;if(position instanceof Vector3){this.position=position}else{this.position=new Vector3(position.x,position.y,position.z)}this.scale=scale;this.colour=colour;this.dimension=dimension;this.bobUpAndDown=bobUpAndDown;this.faceCamera=faceCamera;this.rotationOrder=rotationOrder;this.rotate=rotate;this.textureDict=textureDict;this.textureName=textureName;this.drawOnEnts=drawOnEnts}getId(){return this.id}};var MarkerManager=class{constructor(){__publicField(this,"markers",new Cache);this.registerEvents();this.registerTick()}registerEvents(){secureEventManager.onSecureNet("Client:Marker:CreateMarkers",this.createMarkers.bind(this));secureEventManager.onSecureNet("Client:Marker:CreateMarker",this.createMarker.bind(this));secureEventManager.onSecureNet("Client:Marker:RemoveAllMarkers",this.removeAllMarkers.bind(this));secureEventManager.onSecureNet("Client:Marker:RemoveMarker",this.removeMarker.bind(this));secureEventManager.onSecureNet("Client:Marker:SetColour",this.setColour.bind(this));secureEventManager.onSecureNet("Client:Marker:UpdatePosition",this.updatePosition.bind(this))}registerTick(){tickSystem.registerTick(this.onTick.bind(this))}onTick(){const nearbyEntities=entityCacheManager.getEntitiesInRadius(playerManager.getDimension()>0?1200:100,"marker");for(const entity of nearbyEntities){const marker=this.markers.get(entity.id);if(marker){if(playerManager.getDimension()!==marker.dimension)continue;this.drawMarker(marker)}}}setColour(id,colour){const marker=this.markers.get(id);if(marker){marker.colour=colour}}updatePosition(id,position){const marker=this.markers.get(id);if(marker){marker.position=new Vector3(position.x,position.y,position.z);spatialGrid.updateEntity("marker",id,marker.position)}}drawMarker(marker){DrawMarker(marker.type,marker.position.x,marker.position.y,marker.position.z,0,0,0,0,0,0,marker.scale,marker.scale,marker.scale,marker.colour.r,marker.colour.g,marker.colour.b,marker.colour.a,marker.bobUpAndDown,marker.faceCamera,marker.rotationOrder,marker.rotate,marker.textureDict,marker.textureName,marker.drawOnEnts)}createMarkers(markers){for(const markerData of markers){this.createMarker(markerData)}}createMarker(marker){const newMarker=new Marker(marker.id,marker.type,marker.position,marker.scale,marker.colour,marker.dimension,marker.bobUpAndDown,marker.faceCamera,marker.rotationOrder,marker.rotate,marker.textureDict,marker.textureName,marker.drawOnEnts);this.markers.set(marker.id,newMarker);spatialGrid.addEntity("marker",marker.id,marker.position,100)}removeMarker(id){const marker=this.markers.get(id);if(marker){spatialGrid.removeEntity("marker",id);this.markers.delete(id)}}removeAllMarkers(){for(const marker of this.markers.values()){spatialGrid.removeEntity("marker",marker.id)}this.markers.clear()}};var markerManager=new MarkerManager;var GameObject=class{constructor(id,modelHash,position,heading,dimension,maxDistance){__publicField(this,"id");__publicField(this,"objectId");__publicField(this,"modelHash");__publicField(this,"position");__publicField(this,"heading");__publicField(this,"dimension");__publicField(this,"maxDistance");__publicField(this,"isStreamed",false);this.id=id;this.modelHash=modelHash;this.position=position;this.heading=heading;this.dimension=dimension;this.maxDistance=maxDistance;this.objectId=-1;return this}get model(){return this.modelHash}get rotation(){return this.heading}get handle(){return this.objectId}set handle(value){this.objectId=value}async spawn(){if(this.objectId!==-1)return;this.objectId=CreateObjectNoOffset(this.modelHash,this.position.x,this.position.y,this.position.z-1,false,false,false);SetEntityInvincible(this.objectId,true);FreezeEntityPosition(this.objectId,true);SetEntityCollision(this.objectId,true,true);SetEntityRotation(this.objectId,this.heading.x,this.heading.y,this.heading.z,2,true)}setCoords(position){this.position=position;if(this.objectId===-1)return;SetEntityCoords(this.objectId,position.x,position.y,position.z-1,false,false,false,false)}destroy(){if(this.objectId===-1)return;DeleteObject(this.objectId);this.objectId=-1}};var ObjectManager=class{constructor(){__publicField(this,"objects",new Cache);__publicField(this,"maxStreamingDistance",100);__publicField(this,"frameSkipCounter",0);__publicField(this,"OBJECT_UPDATE_SKIP_FRAMES",5);this.registerEvents();this.registerSchedule()}registerEvents(){secureEventManager.onSecureNet("Client:Object:LoadObjects",this.loadObjects.bind(this));secureEventManager.onSecureNet("Client:Object:RemoveAll",this.removeAll.bind(this));secureEventManager.onSecureNet("Client:Object:Create",this.createObject.bind(this));secureEventManager.onSecureNet("Client:Object:SetCoords",this.setCoords.bind(this));secureEventManager.onSecureNet("Client:Object:Destroy",this.destroy.bind(this));on("onResourceStop",this.onResourceStop.bind(this))}registerSchedule(){scheduleSystem.registerInterval(this.updateObjects.bind(this))}async updateObjects(){this.frameSkipCounter++;if(this.frameSkipCounter%this.OBJECT_UPDATE_SKIP_FRAMES!==0){return}const coords=GetEntityCoords(PlayerPedId(),true);const playerPosition=new Vector3(coords[0],coords[1],coords[2]);for(const obj of this.objects.values()){if(!obj.isStreamed)continue;if(playerManager.getDimension()!==obj.dimension){obj.destroy();obj.isStreamed=false;continue}const dx=playerPosition.x-obj.position.x;const dy=playerPosition.y-obj.position.y;const dz=playerPosition.z-obj.position.z;const distanceSquared=dx*dx+dy*dy+dz*dz;if(distanceSquared>obj.maxDistance*obj.maxDistance){obj.destroy();obj.isStreamed=false}}const nearbyEntities=entityCacheManager.getEntitiesInRadius(this.maxStreamingDistance,"object");for(const entity of nearbyEntities){const gameObject=this.objects.get(entity.id);if(!gameObject)continue;if(gameObject.isStreamed)continue;if(playerManager.getDimension()!==gameObject.dimension)continue;const dx=playerPosition.x-gameObject.position.x;const dy=playerPosition.y-gameObject.position.y;const dz=playerPosition.z-gameObject.position.z;const distanceSquared=dx*dx+dy*dy+dz*dz;if(distanceSquared<=gameObject.maxDistance*gameObject.maxDistance){gameObject.spawn();gameObject.isStreamed=true}}}loadObjects(objects){for(const gameObject of objects){this.createObject(gameObject)}}createObject(gameObject){const newObject=new GameObject(gameObject.id,gameObject.modelHash,new Vector3(gameObject.position.x,gameObject.position.y,gameObject.position.z),new Vector3(gameObject.heading.x,gameObject.heading.y,gameObject.heading.z),gameObject.dimension,gameObject.maxDistance);this.objects.set(gameObject.id,newObject);spatialGrid.addEntity("object",gameObject.id,gameObject.position,gameObject.maxDistance)}setCoords(id,position){const gameObject=this.objects.get(id);if(gameObject){gameObject.setCoords(position);spatialGrid.updateEntity("object",id,position)}}destroy(id){const gameObject=this.objects.get(id);if(gameObject){gameObject.destroy();spatialGrid.removeEntity("object",id)}}removeAll(){for(const gameObject of this.objects.values()){this.destroy(gameObject.id)}this.objects.clear()}onResourceStop(){this.removeAll()}};var objectManager=new ObjectManager;var Colour=class{constructor(r,g,b,a=255){__publicField(this,"r");__publicField(this,"g");__publicField(this,"b");__publicField(this,"a");this.r=r;this.g=g;this.b=b;this.a=a}toString(){return`rgba(${this.r}, ${this.g}, ${this.b}, ${this.a/255})`}};var TextLabel=class{constructor(id,position,text,font=0,scale=.35,colour=new Colour(255,255,255,255),dimension){__publicField(this,"id");__publicField(this,"position");__publicField(this,"text");__publicField(this,"font");__publicField(this,"scale");__publicField(this,"colour");__publicField(this,"dimension");this.id=id;if(position instanceof Vector3){this.position=position}else{this.position=new Vector3(position.x,position.y,position.z)}this.text=text;this.font=font;this.scale=scale;this.colour=colour;this.dimension=dimension}getId(){return this.id}};var TextLabelManager=class{constructor(){__publicField(this,"textLabels",new Cache);this.registerEvents();this.registerTick()}registerEvents(){secureEventManager.onSecureNet("Client:TextLabel:CreateTextLabels",this.createTextLabels.bind(this));secureEventManager.onSecureNet("Client:TextLabel:CreateTextLabel",this.createTextLabel.bind(this));secureEventManager.onSecureNet("Client:TextLabel:RemoveAllTextLabels",this.removeAllTextLabels.bind(this));secureEventManager.onSecureNet("Client:TextLabel:RemoveTextLabel",this.removeTextLabel.bind(this))}registerTick(){tickSystem.registerTick(this.onTick.bind(this))}onTick(){const nearbyEntities=entityCacheManager.getEntitiesInRadius(30,"textlabel");for(const entity of nearbyEntities){const textLabel=this.textLabels.get(entity.id);if(textLabel){if(playerManager.getDimension()!==textLabel.dimension)continue;this.drawTextLabel(textLabel)}}}drawTextLabel(textLabel){SetDrawOrigin(textLabel.position.x,textLabel.position.y,textLabel.position.z,0);BeginTextCommandDisplayText("STRING");AddTextComponentSubstringPlayerName(textLabel.text);SetTextFont(textLabel.font);SetTextScale(.4,textLabel.scale);SetTextWrap(0,1);SetTextCentre(true);SetTextColour(textLabel.colour.r,textLabel.colour.g,textLabel.colour.b,textLabel.colour.a);SetTextOutline();EndTextCommandDisplayText(0,0);ClearDrawOrigin()}createTextLabels(textLabels){for(const textLabel of textLabels){this.createTextLabel(textLabel)}}createTextLabel(textLabel){const newTextLabel=new TextLabel(textLabel.id,new Vector3(textLabel.position.x,textLabel.position.y,textLabel.position.z),textLabel.text,textLabel.font,textLabel.scale,textLabel.colour,textLabel.dimension);this.textLabels.set(textLabel.id,newTextLabel);spatialGrid.addEntity("textlabel",textLabel.id,textLabel.position,100)}removeTextLabel(id){const textLabel=this.textLabels.get(id);if(textLabel){spatialGrid.removeEntity("textlabel",id);this.textLabels.delete(id)}}removeAllTextLabels(){for(const textLabel of this.textLabels.values()){spatialGrid.removeEntity("textlabel",textLabel.id)}this.textLabels.clear()}};var textLabelManager=new TextLabelManager;var Ped=class{constructor(id,modelHash,position,heading,dimension,maxDistance){__publicField(this,"id");__publicField(this,"pedId");__publicField(this,"modelHash");__publicField(this,"position");__publicField(this,"heading");__publicField(this,"dimension");__publicField(this,"maxDistance");__publicField(this,"isStreamed",false);this.id=id;this.modelHash=modelHash;this.position=position;this.heading=heading;this.dimension=dimension;this.maxDistance=maxDistance;this.pedId=-1;return this}get model(){return this.modelHash}get handle(){return this.pedId}set handle(value){this.pedId=value}async spawn(){if(this.pedId!==-1)return;this.pedId=0;RequestModel(this.modelHash);while(!HasModelLoaded(this.modelHash)){await new Promise(resolve=>setTimeout(resolve,1))}this.pedId=CreatePed(0,this.modelHash,this.position.x,this.position.y,this.position.z-1,this.heading,false,false);SetEntityInvincible(this.pedId,true);SetBlockingOfNonTemporaryEvents(this.pedId,true);SetPedSuffersCriticalHits(this.pedId,false);SetPedCanRagdoll(this.pedId,false);FreezeEntityPosition(this.pedId,true);SetEntityCollision(this.pedId,true,true);SetModelAsNoLongerNeeded(this.modelHash)}setCoords(position){this.position=position;if(this.pedId===-1)return;SetEntityCoords(this.pedId,position.x,position.y,position.z,false,false,false,false)}destroy(){if(this.pedId===-1)return;DeletePed(this.pedId);this.pedId=-1}};var PedManager=class{constructor(){__publicField(this,"peds",new Cache);__publicField(this,"maxStreamingDistance",100);__publicField(this,"frameSkipCounter",0);__publicField(this,"PED_UPDATE_SKIP_FRAMES",4);this.registerEvents();this.registerSchedule()}registerEvents(){secureEventManager.onSecureNet("Client:Ped:LoadPeds",this.loadPeds.bind(this));secureEventManager.onSecureNet("Client:Ped:RemoveAll",this.removeAll.bind(this));secureEventManager.onSecureNet("Client:Ped:Create",this.createPed.bind(this));secureEventManager.onSecureNet("Client:Ped:SetCoords",this.setCoords.bind(this));secureEventManager.onSecureNet("Client:Ped:Destroy",this.destroy.bind(this));on("onResourceStop",this.onResourceStop.bind(this))}registerSchedule(){scheduleSystem.registerInterval(this.updatePeds.bind(this))}onResourceStop(){this.removeAll()}updateMaxStreamingDistance(){let max=0;for(const ped of this.peds.values()){if(ped.maxDistance>max){max=ped.maxDistance}}this.maxStreamingDistance=max>0?max:100}async updatePeds(){this.frameSkipCounter++;if(this.frameSkipCounter%this.PED_UPDATE_SKIP_FRAMES!==0){return}const coords=GetEntityCoords(PlayerPedId(),true);const playerPosition=new Vector3(coords[0],coords[1],coords[2]);for(const ped of this.peds.values()){if(!ped.isStreamed)continue;if(playerManager.getDimension()!==ped.dimension){ped.destroy();ped.isStreamed=false;continue}const dx=playerPosition.x-ped.position.x;const dy=playerPosition.y-ped.position.y;const dz=playerPosition.z-ped.position.z;const distanceSquared=dx*dx+dy*dy+dz*dz;if(distanceSquared>ped.maxDistance*ped.maxDistance){ped.destroy();ped.isStreamed=false}}const nearbyEntities=entityCacheManager.getEntitiesInRadius(this.maxStreamingDistance,"ped");for(const entity of nearbyEntities){const ped=this.peds.get(entity.id);if(!ped)continue;if(ped.isStreamed)continue;if(playerManager.getDimension()!==ped.dimension)continue;const dx=playerPosition.x-ped.position.x;const dy=playerPosition.y-ped.position.y;const dz=playerPosition.z-ped.position.z;const distanceSquared=dx*dx+dy*dy+dz*dz;if(distanceSquared<=ped.maxDistance*ped.maxDistance){await ped.spawn();ped.isStreamed=true}}}loadPeds(peds){for(const ped of peds){if(!this.peds.has(ped.id)){this.createPed(ped)}else{this.setCoords(ped.id,ped.position)}}this.updateMaxStreamingDistance()}createPed(ped){const newPed=new Ped(ped.id,ped.modelHash,ped.position,ped.heading,ped.dimension,ped.maxDistance);this.peds.set(ped.id,newPed);spatialGrid.addEntity("ped",ped.id,ped.position,ped.maxDistance);this.updateMaxStreamingDistance()}setCoords(id,position){const ped=this.peds.get(id);if(ped){ped.position=position;spatialGrid.updateEntity("ped",id,position);if(ped.handle&&DoesEntityExist(ped.handle)){SetEntityCoords(ped.handle,position.x,position.y,position.z,false,false,false,true)}}}destroy(id){const ped=this.peds.get(id);if(ped){if(ped.handle&&DoesEntityExist(ped.handle)){DeleteEntity(ped.handle)}spatialGrid.removeEntity("ped",id);this.peds.delete(id);this.updateMaxStreamingDistance()}}removeAll(){for(const ped of this.peds.values()){if(ped.handle&&DoesEntityExist(ped.handle)){DeleteEntity(ped.handle)}spatialGrid.removeEntity("ped",ped.id)}this.peds.clear();this.maxStreamingDistance=100}};var pedManager=new PedManager;var IplManager=class{constructor(){__publicField(this,"loadedIpls",new Set);this.loadDefaultIpls()}loadDefaultIpls(){const defaultIplList=["TrevorsTrailerTidy","apa_v_mp_h_01_a","post_hiest_unload","FIBlobby","refit_unload","SP1_10_real_interior","FINBANK","cargoship","ex_exec_warehouse_placement_interior_0_int_warehouse_m_dlc_milo","bkr_biker_interior_placement_interior_1_biker_dlc_int_02_milo","bkr_bi_hw1_13_int","canyonriver01","railing_start","canyonrvrdeep","hei_dlc_windows_casino","farm","farm_props","farm_int","farmint","des_farmhs_startimap","farm_lod","farmint_lod","facelobby","facelobby_lod","v_tunnel_hole","v_tunnel_hole_lod","sp1_10_real_interior","sp1_10_real_interior_lod","id2_14_during1","id2_14_during_door","CS1_02_cf_onmission1","CS1_02_cf_onmission2","CS1_02_cf_onmission3","CS1_02_cf_onmission4","cs3_05_water_grp1","cs3_05_water_grp1_lod","CS3_05_water_grp2","trv1_trail_start","bh1_47_joshhse_unburnt","bh1_47_joshhse_unburnt_lod","methtrailer_grp1","lr_cs6_08_grave_closed","bkr_bi_id1_23_door","ferris_finale_Anim","ch1_02_closed","coronertrash","Coroner_Int_On","carwash_with_spinners","shr_int"];for(const ipl of defaultIplList){this.loadIpl(ipl)}}loadIpl(iplName){if(!this.loadedIpls.has(iplName)){RequestIpl(iplName);this.loadedIpls.add(iplName)}}};var iplManager=new IplManager;var TimeManager=class{constructor(){__publicField(this,"currentHour",0);__publicField(this,"currentMinute",0);__publicField(this,"currentSecond",0);__publicField(this,"lastUpdate",GetGameTimer());this.registerEvents();this.setDefaultTime()}setDefaultTime(){const currentTime=new Date;const hour=currentTime.getHours();const minute=currentTime.getMinutes();const second=currentTime.getSeconds();ClearTimecycleModifier();SetClockTime(hour,minute,second);PauseClock(true);this.updateTime(hour,minute,second);scheduleSystem.registerInterval(this.timeTick.bind(this))}registerEvents(){secureEventManager.onSecureNet("Server:Time:UpdateTime",this.updateTime.bind(this))}updateTime(hour,minute,second){this.currentHour=hour;this.currentMinute=minute;this.currentSecond=second;NetworkOverrideClockTime(hour,minute,second)}timeTick(){const now=GetGameTimer();if(now-this.lastUpdate<5e3){return}this.lastUpdate=now;this.currentSecond+=5;if(this.currentSecond>=60){this.currentSecond=0;this.currentMinute++;if(this.currentMinute>=60){this.currentMinute=0;this.currentHour++;if(this.currentHour>=24){this.currentHour=0}}}NetworkOverrideClockTime(this.currentHour,this.currentMinute,this.currentSecond)}};var timeManager=new TimeManager;var WeatherManager=class{constructor(){__publicField(this,"defaultWeather","EXTRASUNNY");this.registerEvents();this.setDefaultWeather()}setDefaultWeather(){ClearOverrideWeather();ClearWeatherTypePersist();SetWeatherTypePersist(this.defaultWeather);SetWeatherTypeNow(this.defaultWeather);SetWeatherTypeNowPersist(this.defaultWeather)}registerEvents(){secureEventManager.onSecureNet("Server:Weather:UpdateWeather",this.updateWeather.bind(this))}updateWeather(weather,duration){SetWeatherTypeOvertimePersist(weather,duration)}};var weatherManager=new WeatherManager;var ClothingShopManager=class{constructor(){this.registerEvents()}registerEvents(){secureEventManager.onSecureNet("Client:ClothingShop:Open",this.openClothingShop.bind(this))}openClothingShop(dto){nuiManager.emitNui("Web:ClothingShop:Open",dto);nuiManager.setView("clothingshop");cameraManager.createPlayerCamera()}isClothingShopOpen(){return nuiManager.getCurrentView()==="clothingshop"}};var clothingShopManager=new ClothingShopManager;var HairShopManager=class{constructor(){this.registerEvents()}registerEvents(){secureEventManager.onSecureNet("Client:HairShop:Open",this.openHairShop.bind(this))}openHairShop(dto){nuiManager.emitNui("Web:HairShop:Open",dto);nuiManager.setView("hairshop");ClearAllPedProps(PlayerPedId());cameraManager.createPlayerCamera({x:0,y:-1,z:0},35);cameraManager.pointAtFace()}isHairShopOpen(){return nuiManager.getCurrentView()==="hairshop"}};var hairShopManager=new HairShopManager;var WardrobeManager=class{constructor(){this.registerEvents()}registerEvents(){secureEventManager.onSecureNet("Client:Wardrobe:Open",this.openWardrobe.bind(this))}openWardrobe(dto){nuiManager.emitNui("Web:Wardrobe:Open",dto);nuiManager.setView("wardrobe");cameraManager.createPlayerCamera()}isWardrobeOpen(){return nuiManager.getCurrentView()==="wardrobe"}};var wardrobeManager=new WardrobeManager;var TattooShopManager=class{constructor(){this.registerEvents()}registerEvents(){secureEventManager.onSecureNet("Client:TattooShop:Open",this.openTattooShop.bind(this))}openTattooShop(dto){nuiManager.emitNui("Web:TattooShop:Open",dto);nuiManager.setView("tattooshop");this.setClothing(0);cameraManager.createPlayerCamera()}setClothing(gender){const playerPed=PlayerPedId();if(gender===0){SetPedComponentVariation(playerPed,1,0,0,0);SetPedComponentVariation(playerPed,3,15,0,0);SetPedComponentVariation(playerPed,4,21,0,0);SetPedComponentVariation(playerPed,6,34,0,0);SetPedComponentVariation(playerPed,8,15,0,0);SetPedComponentVariation(playerPed,11,15,0,0)}else{SetPedComponentVariation(playerPed,1,0,0,0);SetPedComponentVariation(playerPed,3,15,0,0);SetPedComponentVariation(playerPed,4,21,0,0);SetPedComponentVariation(playerPed,6,35,0,0);SetPedComponentVariation(playerPed,8,15,0,0);SetPedComponentVariation(playerPed,11,15,0,0)}ClearAllPedProps(playerPed);ClearPedBloodDamage(playerPed);ResetPedVisibleDamage(playerPed);return}isTattooShopOpen(){return nuiManager.getCurrentView()==="tattooshop"}};var tattooShopManager=new TattooShopManager;var DoorManager=class{constructor(){__publicField(this,"doors",new Map);this.registerEvents()}registerEvents(){secureEventManager.onSecureNet("Client:Door:CreateDoors",this.createDoors.bind(this));secureEventManager.onSecureNet("Client:Door:UpdateDoor",this.updateDoor.bind(this));secureEventManager.onSecureNet("Client:Door:OpenVault",this.openVaultDoor.bind(this))}createDoors(doors){for(const door of doors){this.createDoor(door)}}createDoor(door){if(!IsDoorRegisteredWithSystem(door.id)){AddDoorToSystem(door.id,door.model,door.position.x,door.position.y,door.position.z,false,false,false);DoorSystemSetDoorState(door.id,door.state?0:1,false,false);this.doors.set(door.id,door)}}async updateDoor(door){if(IsDoorRegisteredWithSystem(door.id)){DoorSystemSetDoorState(door.id,door.state?0:1,false,false);if(!door.state){DoorSystemSetOpenRatio(door.id,0,false,false)}const existingDoor=this.doors.get(door.id);if(existingDoor){existingDoor.state=door.state}}}async openVaultDoor(position){const vaultDoor=GetClosestObjectOfType(position.x,position.y,position.z,10,GetHashKey("V_ILEV_BK_VAULTDOOR"),false,false,false);if(!vaultDoor)return;FreezeEntityPosition(vaultDoor,true);for(let i=0;i<320;i++){SetEntityHeading(vaultDoor,160-i*.5);await new Promise(resolve=>setTimeout(resolve,10))}}};var doorManager=new DoorManager;RegisterCommand("pos",()=>{const playerPed=PlayerPedId();const playerCoords=GetEntityCoords(playerPed,true);const playerHeading=GetEntityHeading(playerPed);const posModel={position:{x:playerCoords[0],y:playerCoords[1],z:playerCoords[2]},rotation:{x:0,y:0,z:playerHeading}};console.log(" ");console.log(`${JSON.stringify(posModel)}`);console.log(" ")},false);RegisterCommand("cl",(source,args)=>{const componentId=parseInt(args[0],10);const drawableId=parseInt(args[1],10);const textureId=parseInt(args[2],10);console.log(`component: ${componentId}, drawable: ${drawableId}, texture: ${textureId}`);const playerPed=PlayerPedId();SetPedComponentVariation(playerPed,componentId,drawableId,textureId,0)},false);RegisterCommand("ac",(source,args)=>{const componentId=parseInt(args[0],10);const drawableId=parseInt(args[1],10);const textureId=parseInt(args[2],10);console.log(`component: ${componentId}, drawable: ${drawableId}, texture: ${textureId}`);const playerPed=PlayerPedId();SetPedPropIndex(playerPed,componentId,drawableId,textureId,true)},false);RegisterCommand("coutfit",()=>{const playerPed=PlayerPedId();SetPedComponentVariation(playerPed,0,0,0,0);SetPedComponentVariation(playerPed,1,0,0,0);SetPedComponentVariation(playerPed,2,0,0,0);SetPedComponentVariation(playerPed,3,15,0,0);SetPedComponentVariation(playerPed,4,21,0,0);SetPedComponentVariation(playerPed,6,34,0,0);SetPedComponentVariation(playerPed,8,15,0,0);SetPedComponentVariation(playerPed,11,15,0,0);ClearAllPedProps(playerPed)},false);RegisterCommand("gender",async()=>{const playerPed=PlayerPedId();const currentModel=GetEntityModel(playerPed);const newModel=currentModel===GetHashKey("mp_m_freemode_01")?"mp_f_freemode_01":"mp_m_freemode_01";RequestModel(newModel);while(!HasModelLoaded(newModel)){await new Promise(resolve=>setTimeout(resolve,100))}SetPlayerModel(PlayerId(),newModel)},false);RegisterCommand("eid",()=>{const playerPed=PlayerPedId();const[x,y,z]=GetEntityCoords(playerPed,true);const objects=GetGamePool("CObject");for(const obj of objects){const objCoords=GetEntityCoords(obj,true);const dist=Math.sqrt((x-objCoords[0])**2+(y-objCoords[1])**2+(z-objCoords[2])**2);if(dist<2){console.log(`Model: ${GetEntityModel(obj)}`)}}console.log("No object nearby found.")},false);
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cdric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

eventemitter2/lib/eventemitter2.js:
  (*!
   * EventEmitter2
   * https://github.com/hij1nx/EventEmitter2
   *
   * Copyright (c) 2013 hij1nx
   * Licensed under the MIT license.
   *)
*/
